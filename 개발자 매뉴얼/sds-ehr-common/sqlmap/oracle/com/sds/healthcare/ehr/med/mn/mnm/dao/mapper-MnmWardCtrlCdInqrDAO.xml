<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    SQL File Name : mapper_MnmWardCtrlCdInqrDAO_sql.xml 
    Description : -->
<mapper namespace="MnmWardCtrlCdInqrDAO">


	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr04-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrDtlsCtrlAbrvNm" column="MDCR_DTLS_CTRL_ABRV_NM"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrCtrlChrcVl4" column="MDCR_CTRL_CHRC_VL_4"/>
		<result property="mdcrCtrlChrcVl5" column="MDCR_CTRL_CHRC_VL_5"/>
		<result property="mdcrCtrlChrcVl6" column="MDCR_CTRL_CHRC_VL_6"/>
		<result property="mdcrCtrlChrcVl7" column="MDCR_CTRL_CHRC_VL_7"/>
		<result property="mdcrCtrlChrcVl8" column="MDCR_CTRL_CHRC_VL_8"/>
		<result property="mdcrCtrlChrcVl9" column="MDCR_CTRL_CHRC_VL_9"/>
		<result property="mdcrCtrlChrcVl10" column="MDCR_CTRL_CHRC_VL_10"/>
		<result property="mdcrCtrlNmbrVl1" column="MDCR_CTRL_NMBR_VL_1"/>
		<result property="mdcrCtrlNmbrVl2" column="MDCR_CTRL_NMBR_VL_2"/>
		<result property="mdcrCtrlNmbrVl3" column="MDCR_CTRL_NMBR_VL_3"/>
		<result property="mdcrCtrlNmbrVl4" column="MDCR_CTRL_NMBR_VL_4"/>
		<result property="mdcrCtrlNmbrVl5" column="MDCR_CTRL_NMBR_VL_5"/>
		<result property="mdcrCtrlNmbrVl6" column="MDCR_CTRL_NMBR_VL_6"/>
		<result property="mdcrCtrlNmbrVl7" column="MDCR_CTRL_NMBR_VL_7"/>
		<result property="mdcrCtrlNmbrVl8" column="MDCR_CTRL_NMBR_VL_8"/>
		<result property="mdcrCtrlNmbrVl9" column="MDCR_CTRL_NMBR_VL_9"/>
		<result property="mdcrCtrlNmbrVl10" column="MDCR_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr04 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr04-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr04"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr04-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr04  mnd_ctrlmmt_l04$S01_진료제어정보 조회 DAM */
				   MDCR_CTRL_CD as MDCR_CTRL_CD			/*  진료제어코드       */
				,  MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD       /*  진료세부제어코드   */
				,  MDCR_CTRL_NM as MDCR_CTRL_NM            /*  진료제어명         */
				,  MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM       /*  진료세부제어명     */
				,  MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM   /*  진료세부제어전체명 */
				,  MDCR_DTLS_CTRL_ABRV_NM as MDCR_DTLS_CTRL_ABRV_NM  /*  진료세부제어약어명 */
				,  MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD       /*  진료하위제어코드   */
				,  CTRL_SORT_SQNC as CTRL_SORT_SQNC          /*  제어정렬순서       */
				,  MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1      /*  진료제어문자값1    */
				,  MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2      /*  진료제어문자값2    */
				,  MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3      /*  진료제어문자값3    */
				,  MDCR_CTRL_CHRC_VL4 as MDCR_CTRL_CHRC_VL_4      /*  진료제어문자값4    */
				,  MDCR_CTRL_CHRC_VL5 as MDCR_CTRL_CHRC_VL_5      /*  진료제어문자값5    */
				,  MDCR_CTRL_CHRC_VL6 as MDCR_CTRL_CHRC_VL_6      /*  진료제어문자값6    */
				,  MDCR_CTRL_CHRC_VL7 as MDCR_CTRL_CHRC_VL_7      /*  진료제어문자값7    */
				,  MDCR_CTRL_CHRC_VL8 as MDCR_CTRL_CHRC_VL_8      /*  진료제어문자값8    */
				,  MDCR_CTRL_CHRC_VL9 as MDCR_CTRL_CHRC_VL_9      /*  진료제어문자값9    */
				,  MDCR_CTRL_CHRC_VL10 as MDCR_CTRL_CHRC_VL_10     /*  진료제어문자값10   */
				,  MDCR_CTRL_NMBR_VL1 as MDCR_CTRL_NMBR_VL_1      /*  진료제어숫자값1    */
				,  MDCR_CTRL_NMBR_VL2 as MDCR_CTRL_NMBR_VL_2      /*  진료제어숫자값2    */
				,  MDCR_CTRL_NMBR_VL3 as MDCR_CTRL_NMBR_VL_3      /*  진료제어숫자값3    */
				,  MDCR_CTRL_NMBR_VL4 as MDCR_CTRL_NMBR_VL_4      /*  진료제어숫자값4    */
				,  MDCR_CTRL_NMBR_VL5 as MDCR_CTRL_NMBR_VL_5      /*  진료제어숫자값5    */
				,  MDCR_CTRL_NMBR_VL6 as MDCR_CTRL_NMBR_VL_6      /*  진료제어숫자값6    */
				,  MDCR_CTRL_NMBR_VL7 as MDCR_CTRL_NMBR_VL_7      /*  진료제어숫자값7    */
				,  MDCR_CTRL_NMBR_VL8 as MDCR_CTRL_NMBR_VL_8      /*  진료제어숫자값8    */
				,  MDCR_CTRL_NMBR_VL9 as MDCR_CTRL_NMBR_VL_9      /*  진료제어숫자값9    */
				,  MDCR_CTRL_NMBR_VL10 as MDCR_CTRL_NMBR_VL_10     /*  진료제어숫자값10   */
				,  APLY_PART_CD as APLY_PART_CD            /*  적용파트코드       */
				,  to_char(APST_YMD, 'YYYYMMDD') as APST_YMD                /*  적용시작일자       */
				,  to_char(APFN_YMD, 'YYYYMMDD') as APFN_YMD                /*  적용종료일자       */
			 from  MZCTRLMMT
			where  MDCR_CTRL_CD = #{mdcrCtrlCd}
			  and  MDCR_DTLS_CTRL_CD = nvl(#{mdcrDtlsCtrlCd}, MDCR_DTLS_CTRL_CD)
		              and  nvl(APFN_YMD, trunc(sysdate)) >= trunc(sysdate)
		              and  nvl(APST_YMD, trunc(sysdate)) <= trunc(sysdate)
			order
			   by  CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr94-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="etcCot" column="ETC_COT"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr94 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr94-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr94"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr94-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr94  mnd_cccmcdd_l04$S01_응급실 기초코드 권한체크 */ 
		        COUNT(*) as ETC_COT
			from
				  MZCTRLMMT
		   where  MDCR_CTRL_CD = 'MDX_009'
			 and  MDCR_DTLS_CTRL_CD like #{comnDtlsCd}
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr20-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrDtlsCtrlAbrvNm" column="MDCR_DTLS_CTRL_ABRV_NM"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrCtrlChrcVl4" column="MDCR_CTRL_CHRC_VL_4"/>
		<result property="mdcrCtrlChrcVl5" column="MDCR_CTRL_CHRC_VL_5"/>
		<result property="mdcrCtrlChrcVl6" column="MDCR_CTRL_CHRC_VL_6"/>
		<result property="mdcrCtrlChrcVl7" column="MDCR_CTRL_CHRC_VL_7"/>
		<result property="mdcrCtrlChrcVl8" column="MDCR_CTRL_CHRC_VL_8"/>
		<result property="mdcrCtrlChrcVl9" column="MDCR_CTRL_CHRC_VL_9"/>
		<result property="mdcrCtrlChrcVl10" column="MDCR_CTRL_CHRC_VL_10"/>
		<result property="mdcrCtrlNmbrVl1" column="MDCR_CTRL_NMBR_VL_1"/>
		<result property="mdcrCtrlNmbrVl2" column="MDCR_CTRL_NMBR_VL_2"/>
		<result property="mdcrCtrlNmbrVl3" column="MDCR_CTRL_NMBR_VL_3"/>
		<result property="mdcrCtrlNmbrVl4" column="MDCR_CTRL_NMBR_VL_4"/>
		<result property="mdcrCtrlNmbrVl5" column="MDCR_CTRL_NMBR_VL_5"/>
		<result property="mdcrCtrlNmbrVl6" column="MDCR_CTRL_NMBR_VL_6"/>
		<result property="mdcrCtrlNmbrVl7" column="MDCR_CTRL_NMBR_VL_7"/>
		<result property="mdcrCtrlNmbrVl8" column="MDCR_CTRL_NMBR_VL_8"/>
		<result property="mdcrCtrlNmbrVl9" column="MDCR_CTRL_NMBR_VL_9"/>
		<result property="mdcrCtrlNmbrVl10" column="MDCR_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr20 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr20-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr20"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr20-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr20  mnd_ctrlmmt_l20$S01_진료제어정보 조회 DAM */
				   MDCR_CTRL_CD as MDCR_CTRL_CD			/*  진료제어코드       */
				,  MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD       /*  진료세부제어코드   */
				,  MDCR_CTRL_NM as MDCR_CTRL_NM            /*  진료제어명         */
				,  MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM       /*  진료세부제어명     */
				,  MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM   /*  진료세부제어전체명 */
				,  MDCR_DTLS_CTRL_ABRV_NM as MDCR_DTLS_CTRL_ABRV_NM  /*  진료세부제어약어명 */
				,  MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD       /*  진료하위제어코드   */
				,  CTRL_SORT_SQNC as CTRL_SORT_SQNC          /*  제어정렬순서       */
				,  MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1      /*  진료제어문자값1    */
				,  MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2      /*  진료제어문자값2    */
				,  MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3      /*  진료제어문자값3    */
				,  MDCR_CTRL_CHRC_VL4 as MDCR_CTRL_CHRC_VL_4      /*  진료제어문자값4    */
				,  MDCR_CTRL_CHRC_VL5 as MDCR_CTRL_CHRC_VL_5      /*  진료제어문자값5    */
				,  MDCR_CTRL_CHRC_VL6 as MDCR_CTRL_CHRC_VL_6      /*  진료제어문자값6    */
				,  MDCR_CTRL_CHRC_VL7 as MDCR_CTRL_CHRC_VL_7      /*  진료제어문자값7    */
				,  MDCR_CTRL_CHRC_VL8 as MDCR_CTRL_CHRC_VL_8      /*  진료제어문자값8    */
				,  MDCR_CTRL_CHRC_VL9 as MDCR_CTRL_CHRC_VL_9      /*  진료제어문자값9    */
				,  MDCR_CTRL_CHRC_VL10 as MDCR_CTRL_CHRC_VL_10     /*  진료제어문자값10   */
				,  MDCR_CTRL_NMBR_VL1 as MDCR_CTRL_NMBR_VL_1      /*  진료제어숫자값1    */
				,  MDCR_CTRL_NMBR_VL2 as MDCR_CTRL_NMBR_VL_2      /*  진료제어숫자값2    */
				,  MDCR_CTRL_NMBR_VL3 as MDCR_CTRL_NMBR_VL_3      /*  진료제어숫자값3    */
				,  MDCR_CTRL_NMBR_VL4 as MDCR_CTRL_NMBR_VL_4      /*  진료제어숫자값4    */
				,  MDCR_CTRL_NMBR_VL5 as MDCR_CTRL_NMBR_VL_5      /*  진료제어숫자값5    */
				,  MDCR_CTRL_NMBR_VL6 as MDCR_CTRL_NMBR_VL_6      /*  진료제어숫자값6    */
				,  MDCR_CTRL_NMBR_VL7 as MDCR_CTRL_NMBR_VL_7      /*  진료제어숫자값7    */
				,  MDCR_CTRL_NMBR_VL8 as MDCR_CTRL_NMBR_VL_8      /*  진료제어숫자값8    */
				,  MDCR_CTRL_NMBR_VL9 as MDCR_CTRL_NMBR_VL_9      /*  진료제어숫자값9    */
				,  MDCR_CTRL_NMBR_VL10 as MDCR_CTRL_NMBR_VL_10     /*  진료제어숫자값10   */
				,  APLY_PART_CD as APLY_PART_CD            /*  적용파트코드       */
				,  to_char(APST_YMD, 'yyyymmdd') as APST_YMD                /*  적용시작일자       */
				,  to_char(APFN_YMD, 'yyyymmdd') as APFN_YMD                /*  적용종료일자       */
			 from  MZCTRLMMT
			where  MDCR_CTRL_CD = #{mdcrCtrlCd}
			  and  MDCR_LWRN_CTRL_CD = #{mdcrLwrnCtrlCd}
			  and  nvl(APFN_YMD, sysdate) >= sysdate
			  and  nvl(APST_YMD, sysdate) <= sysdate
			order
			   by  CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr19-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="comnDtlsCd" column="COMN_DTLS_CD"/>
		<result property="abrvDprtCd" column="ABRV_DPRT_CD"/>
		<result property="kornDprtNm" column="KORN_DPRT_NM"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr19 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr19-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr19"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr19-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr19  mnd_ctrlmmt_l19$S01_진료제어코드 등록 부서명 다건조회 DAM */
				   a.MDCR_DTLS_CTRL_CD as COMN_DTLS_CD
				 ,  nvl(b.ABRV_DPRT_CD, A.MDCR_DTLS_CTRL_NM) as ABRV_DPRT_CD
				 ,  nvl(b.KORN_DPRT_NM, A.MDCR_DTLS_CTRL_ALL_NM) as KORN_DPRT_NM
			 from
				   MZCTRLMMT a
				,  HZDEPTMMT b
			where
				   a.MDCR_CTRL_CD = #{mdcrCtrlCd}
			  and  b.DPRT_CD(+) = a.MDCR_DTLS_CTRL_CD
			order
			   by  a.CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr18-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="abrvDprtCd" column="ABRV_DPRT_CD"/>
		<result property="kornDprtNm" column="KORN_DPRT_NM"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="inftDprtCd" column="INFT_DPRT_CD"/>
		<result property="lcdvCd" column="LCDV_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr18 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr18-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr18"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr18-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr18  mnd_ctrlmmt_l18$S01_[처치재료] 처치장소 조회 DAM */
				  decode(code.DPRT_CD, 'DEP', 'DEP', dept.ABRV_DPRT_CD) as ABRV_DPRT_CD
				, decode(code.DPRT_CD, 'DEP', '진료과', dept.KORN_DPRT_NM) as KORN_DPRT_NM
				, code.DPRT_CD as DPRT_CD
				, code.TEXT as INFT_DPRT_CD
				, '2' as LCDV_CD
		   from (
			   select
				   a.DETL_CD_DSCR_CTN as DPRT_CD
				 , b.COMN_ITEM_CHRC_VL as TEXT
				 , 50 + a.SCRN_DSPL_SQNC as SORT_SQNC
			   from
				   CCCMCDDMT a
				 , CCCMCDIDT b
			   where 1=1
				   and a.COMN_GRP_CD = 'MNX28'
				   and sysdate between a.APST_YMD and a.APFN_YMD
				   and b.COMN_GRP_CD = a.COMN_GRP_CD
				   and b.COMN_DTLS_CD = a.COMN_DTLS_CD
			   union
			   select
				   a.COMN_DTLS_CD  as DPRT_CD
				 , '☞주'    as TEXT
				 , a.SCRN_DSPL_SQNC    as SORT_SQNC
			   from
				 CCCMCDDMT a
			   where 1=1
				   and a.COMN_GRP_CD = 'MN923'
				   and sysdate between a.APST_YMD and a.APFN_YMD
				   and not exists (
					   select 1
						   from CCCMCDDMT b
					   where 1=1
						   and b.COMN_GRP_CD = 'MNX28'
						   and b.DETL_CD_DSCR_CTN = a.COMN_DTLS_CD
						   and sysdate between b.APST_YMD and b.APFN_YMD
				   )
			   ) code
			   , HZDEPTMMT dept
		   where dept.DPRT_CD(+) = code.DPRT_CD
			   and sysdate between dept.APST_YMD(+) and dept.APFN_YMD(+)
		   order by code.SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr15-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr15 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr15-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr15"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr15-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr15  mnd_ctrlmmt_l15$S01_[간호활동] 진료제어코드 Like 검색 DAM */
				 MDCR_CTRL_CD as MDCR_CTRL_CD
			   , MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD
			   , MDCR_CTRL_NM as MDCR_CTRL_NM
			   , MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM
			   , MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD
			   , CTRL_SORT_SQNC as CTRL_SORT_SQNC
			   , MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1
			   , MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2
		   from
			   MZCTRLMMT
		   where 1=1
			   and MDCR_CTRL_CD like 'MNW_930\_%' escape '\'
			   and sysdate between APST_YMD and APFN_YMD
		   order by MDCR_CTRL_CD, CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr12-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr12 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr12-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr12"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr12-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr12  mnd_ctrlmmt_l12$S01_처치장부 사용 진료과 조회 */
				  MDCR_CTRL_CD as MDCR_CTRL_CD       /* 진료제어코드*/
				, MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD  /* 진료세부제어코드*/
				, MDCR_CTRL_NM as MDCR_CTRL_NM       /* 진료제어명*/
				, MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM  /* 진료세부제어명*/
				, MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM
				, MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1
				, MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2
				, MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3
				, MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD
			from MZCTRLMMT a
		   where MDCR_CTRL_CD = #{mdcrCtrlCd} /* MNO_019*/
			 and MDCR_DTLS_CTRL_CD = nvl(#{mdcrDtlsCtrlCd}, MDCR_DTLS_CTRL_CD)
			 and nvl(a.APFN_YMD, sysdate) >= sysdate
			 and nvl(a.APST_YMD, sysdate) <= sysdate
			 order by MDCR_CTRL_CD
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr08-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrDtlsCtrlAbrvNm" column="MDCR_DTLS_CTRL_ABRV_NM"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrCtrlChrcVl4" column="MDCR_CTRL_CHRC_VL_4"/>
		<result property="mdcrCtrlChrcVl5" column="MDCR_CTRL_CHRC_VL_5"/>
		<result property="mdcrCtrlChrcVl6" column="MDCR_CTRL_CHRC_VL_6"/>
		<result property="mdcrCtrlChrcVl7" column="MDCR_CTRL_CHRC_VL_7"/>
		<result property="mdcrCtrlChrcVl8" column="MDCR_CTRL_CHRC_VL_8"/>
		<result property="mdcrCtrlChrcVl9" column="MDCR_CTRL_CHRC_VL_9"/>
		<result property="mdcrCtrlChrcVl10" column="MDCR_CTRL_CHRC_VL_10"/>
		<result property="mdcrCtrlNmbrVl1" column="MDCR_CTRL_NMBR_VL_1"/>
		<result property="mdcrCtrlNmbrVl2" column="MDCR_CTRL_NMBR_VL_2"/>
		<result property="mdcrCtrlNmbrVl3" column="MDCR_CTRL_NMBR_VL_3"/>
		<result property="mdcrCtrlNmbrVl4" column="MDCR_CTRL_NMBR_VL_4"/>
		<result property="mdcrCtrlNmbrVl5" column="MDCR_CTRL_NMBR_VL_5"/>
		<result property="mdcrCtrlNmbrVl6" column="MDCR_CTRL_NMBR_VL_6"/>
		<result property="mdcrCtrlNmbrVl7" column="MDCR_CTRL_NMBR_VL_7"/>
		<result property="mdcrCtrlNmbrVl8" column="MDCR_CTRL_NMBR_VL_8"/>
		<result property="mdcrCtrlNmbrVl9" column="MDCR_CTRL_NMBR_VL_9"/>
		<result property="mdcrCtrlNmbrVl10" column="MDCR_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr08 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr08-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr08"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr08-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr08  mnd_ctrlmmt_l08$S01_진료제어정보 조회 DAM */
				   MDCR_CTRL_CD as MDCR_CTRL_CD			/*  진료제어코드       */
				,  MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD       /*  진료세부제어코드   */
				,  MDCR_CTRL_NM as MDCR_CTRL_NM            /*  진료제어명         */
				,  MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM       /*  진료세부제어명     */
				,  MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM   /*  진료세부제어전체명 */
				,  MDCR_DTLS_CTRL_ABRV_NM as MDCR_DTLS_CTRL_ABRV_NM  /*  진료세부제어약어명 */
				,  MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD       /*  진료하위제어코드   */
				,  CTRL_SORT_SQNC as CTRL_SORT_SQNC          /*  제어정렬순서       */
				,  MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1      /*  진료제어문자값1    */
				,  MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2      /*  진료제어문자값2    */
				,  MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3      /*  진료제어문자값3    */
				,  MDCR_CTRL_CHRC_VL4 as MDCR_CTRL_CHRC_VL_4      /*  진료제어문자값4    */
				,  MDCR_CTRL_CHRC_VL5 as MDCR_CTRL_CHRC_VL_5      /*  진료제어문자값5    */
				,  MDCR_CTRL_CHRC_VL6 as MDCR_CTRL_CHRC_VL_6      /*  진료제어문자값6    */
				,  MDCR_CTRL_CHRC_VL7 as MDCR_CTRL_CHRC_VL_7      /*  진료제어문자값7    */
				,  MDCR_CTRL_CHRC_VL8 as MDCR_CTRL_CHRC_VL_8      /*  진료제어문자값8    */
				,  MDCR_CTRL_CHRC_VL9 as MDCR_CTRL_CHRC_VL_9      /*  진료제어문자값9    */
				,  MDCR_CTRL_CHRC_VL10 as MDCR_CTRL_CHRC_VL_10     /*  진료제어문자값10   */
				,  MDCR_CTRL_NMBR_VL1 as MDCR_CTRL_NMBR_VL_1      /*  진료제어숫자값1    */
				,  MDCR_CTRL_NMBR_VL2 as MDCR_CTRL_NMBR_VL_2      /*  진료제어숫자값2    */
				,  MDCR_CTRL_NMBR_VL3 as MDCR_CTRL_NMBR_VL_3      /*  진료제어숫자값3    */
				,  MDCR_CTRL_NMBR_VL4 as MDCR_CTRL_NMBR_VL_4      /*  진료제어숫자값4    */
				,  MDCR_CTRL_NMBR_VL5 as MDCR_CTRL_NMBR_VL_5      /*  진료제어숫자값5    */
				,  MDCR_CTRL_NMBR_VL6 as MDCR_CTRL_NMBR_VL_6      /*  진료제어숫자값6    */
				,  MDCR_CTRL_NMBR_VL7 as MDCR_CTRL_NMBR_VL_7      /*  진료제어숫자값7    */
				,  MDCR_CTRL_NMBR_VL8 as MDCR_CTRL_NMBR_VL_8      /*  진료제어숫자값8    */
				,  MDCR_CTRL_NMBR_VL9 as MDCR_CTRL_NMBR_VL_9      /*  진료제어숫자값9    */
				,  MDCR_CTRL_NMBR_VL10 as MDCR_CTRL_NMBR_VL_10     /*  진료제어숫자값10   */
				,  APLY_PART_CD as APLY_PART_CD            /*  적용파트코드       */
				,  to_char(APST_YMD, 'yyyymmdd') as APST_YMD                /*  적용시작일자       */
				,  to_char(APFN_YMD, 'yyyymmdd') as APFN_YMD                /*  적용종료일자       */
			 from  MZCTRLMMT a
			where  1 = 1
			  and  (   (#{mdcrCtrlCd} is null) or
					   (#{mdcrCtrlCd} = a.MDCR_CTRL_CD)
				   )
			  and  (   (#{mdcrDtlsCtrlCd} is null) or
					   (#{mdcrDtlsCtrlCd} = a.MDCR_DTLS_CTRL_CD)
				   )
			  and  (   (#{dvsnVl} is null) or
					   (#{dvsnVl} = a.MDCR_CTRL_CHRC_VL1)
				   )
			   order
			   by
				 a.CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr07-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrDtlsCtrlAbrvNm" column="MDCR_DTLS_CTRL_ABRV_NM"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrCtrlChrcVl4" column="MDCR_CTRL_CHRC_VL_4"/>
		<result property="mdcrCtrlChrcVl5" column="MDCR_CTRL_CHRC_VL_5"/>
		<result property="mdcrCtrlChrcVl6" column="MDCR_CTRL_CHRC_VL_6"/>
		<result property="mdcrCtrlChrcVl7" column="MDCR_CTRL_CHRC_VL_7"/>
		<result property="mdcrCtrlChrcVl8" column="MDCR_CTRL_CHRC_VL_8"/>
		<result property="mdcrCtrlChrcVl9" column="MDCR_CTRL_CHRC_VL_9"/>
		<result property="mdcrCtrlChrcVl10" column="MDCR_CTRL_CHRC_VL_10"/>
		<result property="mdcrCtrlNmbrVl1" column="MDCR_CTRL_NMBR_VL_1"/>
		<result property="mdcrCtrlNmbrVl2" column="MDCR_CTRL_NMBR_VL_2"/>
		<result property="mdcrCtrlNmbrVl3" column="MDCR_CTRL_NMBR_VL_3"/>
		<result property="mdcrCtrlNmbrVl4" column="MDCR_CTRL_NMBR_VL_4"/>
		<result property="mdcrCtrlNmbrVl5" column="MDCR_CTRL_NMBR_VL_5"/>
		<result property="mdcrCtrlNmbrVl6" column="MDCR_CTRL_NMBR_VL_6"/>
		<result property="mdcrCtrlNmbrVl7" column="MDCR_CTRL_NMBR_VL_7"/>
		<result property="mdcrCtrlNmbrVl8" column="MDCR_CTRL_NMBR_VL_8"/>
		<result property="mdcrCtrlNmbrVl9" column="MDCR_CTRL_NMBR_VL_9"/>
		<result property="mdcrCtrlNmbrVl10" column="MDCR_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr07 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr07-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr07"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr07-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr07  mnd_ctrlmmt_l07$S01_진료제어정보 조회 DAM */
				   MDCR_CTRL_CD as MDCR_CTRL_CD            /*  진료제어코드       */
				,  MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD      /*  진료세부제어코드   */
				,  MDCR_CTRL_NM as MDCR_CTRL_NM            /*  진료제어명         */
				,  MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM       /*  진료세부제어명     */
				,  MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM   /*  진료세부제어전체명 */
				,  MDCR_DTLS_CTRL_ABRV_NM as MDCR_DTLS_CTRL_ABRV_NM  /*  진료세부제어약어명 */
				,  MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD       /*  진료하위제어코드   */
				,  CTRL_SORT_SQNC as CTRL_SORT_SQNC         /*  제어정렬순서       */
				,  MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1      /*  진료제어문자값1    */
				,  MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2      /*  진료제어문자값2    */
				,  MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3      /*  진료제어문자값3    */
				,  MDCR_CTRL_CHRC_VL4 as MDCR_CTRL_CHRC_VL_4      /*  진료제어문자값4    */
				,  MDCR_CTRL_CHRC_VL5 as MDCR_CTRL_CHRC_VL_5      /*  진료제어문자값5    */
				,  MDCR_CTRL_CHRC_VL6 as MDCR_CTRL_CHRC_VL_6      /*  진료제어문자값6    */
				,  MDCR_CTRL_CHRC_VL7 as MDCR_CTRL_CHRC_VL_7      /*  진료제어문자값7    */
				,  MDCR_CTRL_CHRC_VL8 as MDCR_CTRL_CHRC_VL_8      /*  진료제어문자값8    */
				,  MDCR_CTRL_CHRC_VL9 as MDCR_CTRL_CHRC_VL_9      /*  진료제어문자값9    */
				,  MDCR_CTRL_CHRC_VL10 as MDCR_CTRL_CHRC_VL_10     /*  진료제어문자값10   */
				,  MDCR_CTRL_NMBR_VL1 as MDCR_CTRL_NMBR_VL_1     /*  진료제어숫자값1    */
				,  MDCR_CTRL_NMBR_VL2 as MDCR_CTRL_NMBR_VL_2     /*  진료제어숫자값2    */
				,  MDCR_CTRL_NMBR_VL3 as MDCR_CTRL_NMBR_VL_3    /*  진료제어숫자값3    */
				,  MDCR_CTRL_NMBR_VL4 as MDCR_CTRL_NMBR_VL_4    /*  진료제어숫자값4    */
				,  MDCR_CTRL_NMBR_VL5 as MDCR_CTRL_NMBR_VL_5      /*  진료제어숫자값5    */
				,  MDCR_CTRL_NMBR_VL6 as MDCR_CTRL_NMBR_VL_6      /*  진료제어숫자값6    */
				,  MDCR_CTRL_NMBR_VL7 as MDCR_CTRL_NMBR_VL_7      /*  진료제어숫자값7    */
				,  MDCR_CTRL_NMBR_VL8 as MDCR_CTRL_NMBR_VL_8      /*  진료제어숫자값8    */
				,  MDCR_CTRL_NMBR_VL9 as MDCR_CTRL_NMBR_VL_9     /*  진료제어숫자값9    */
				,  MDCR_CTRL_NMBR_VL10 as MDCR_CTRL_NMBR_VL_10     /*  진료제어숫자값10   */
				,  APLY_PART_CD as APLY_PART_CD            /*  적용파트코드       */
				,  to_char(APST_YMD, 'yyyymmdd') as APST_YMD                /*  적용시작일자       */
				,  to_char(APFN_YMD, 'yyyymmdd') as APFN_YMD                /*  적용종료일자       */
			 from  MZCTRLMMT
			where  MDCR_CTRL_CD = #{mdcrCtrlCd}
			  and  MDCR_DTLS_CTRL_CD = nvl(#{mdcrDtlsCtrlCd}, MDCR_DTLS_CTRL_CD)
			  and  1 = decode(#{mdcrCtrlCd}, 'MNE120', 1 ,
																		  decode(MDCR_DTLS_CTRL_ALL_NM, nvl(#{mdcrDtlsCtrlAllNm}, MDCR_DTLS_CTRL_ALL_NM), 1, 0))
			  and  nvl(APFN_YMD, sysdate) >= sysdate
			  and  nvl(APST_YMD, sysdate) <= sysdate
			order
			   by  CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr03-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr03 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr03-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr03"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr03-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr03  mnd_ctrlmmt_l03$S01_진료제어정보조회2 */
					 a.MDCR_CTRL_CD as MDCR_CTRL_CD
				   , a.MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD
				   , a.MDCR_CTRL_NM as MDCR_CTRL_NM
				   , nvl((select e.KORN_DPRT_NM from HZDEPTMMT e where e.DPRT_CD = MDCR_DTLS_CTRL_CD), a.MDCR_DTLS_CTRL_NM) as MDCR_DTLS_CTRL_NM
				   , a.MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM
				   , a.MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1
				   , a.MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2
				   , a.MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3
				   , a.MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD
				 from  MZCTRLMMT a
				 where  MDCR_CTRL_CD = #{mdcrCtrlCd}
				   and  MDCR_DTLS_CTRL_CD = nvl(#{mdcrDtlsCtrlCd}, MDCR_DTLS_CTRL_CD)
				 order by MDCR_CTRL_CD, CTRL_SORT_SQNC
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursCtrlCdDprtInqr-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="dprtNm" column="DPRT_NM"/>
		<result property="kornDprtNm" column="KORN_DPRT_NM"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursCtrlCdDprtInqr () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursCtrlCdDprtInqr-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursCtrlCdDprtInqr"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursCtrlCdDprtInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursCtrlCdDprtInqr  mnd_deptmmt_l10$S01_진료제어코드 등록 부서명조회 */
				   a.mdcr_dtls_ctrl_cd as DPRT_CD
				,  a.mdcr_dtls_ctrl_nm as DPRT_NM
				,  b.korn_dprt_nm as KORN_DPRT_NM
			 from
				   MZCTRLMMT a
				,  HZDEPTMMT b
			where
				   a.mdcr_ctrl_cd = #{mdcrCtrlCd}
			  and  a.mdcr_dtls_ctrl_cd = b.dprt_cd
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursErrmFrnsPlacDprtInqr-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="dprtNm" column="DPRT_NM"/>
		<result property="kornDprtNm" column="KORN_DPRT_NM"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursErrmFrnsPlacDprtInqr () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursErrmFrnsPlacDprtInqr-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursErrmFrnsPlacDprtInqr"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursErrmFrnsPlacDprtInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursErrmFrnsPlacDprtInqr  mnd_deptmmt_l11$S01_응급실 불출장소 부서코드 */
				   a.mdcr_ctrl_chrc_vl1 as DPRT_CD
				,  b.abrv_dprt_cd as DPRT_NM
				,  b.korn_dprt_nm as KORN_DPRT_NM
			 from HZDEPTMMT b
				, (
				   select distinct mdcr_ctrl_chrc_vl1
					 from mzctrlmmt
					where mdcr_ctrl_cd = #{mdcrCtrlCd}
				  ) a
			where a.mdcr_ctrl_chrc_vl1 = b.dprt_cd
			order by dprt_nm
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-selectOneNursChkOrocDprtCd-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="lcdvCd" column="LCDV_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-selectOneNursChkOrocDprtCd () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-selectOneNursChkOrocDprtCd-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-selectOneNursChkOrocDprtCd"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-selectOneNursChkOrocDprtCd-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-selectOneNursChkOrocDprtCd */
				   fn_mn_check_orocdprtcd(#{dprtCd}, #{mdcrCtrlNm}) as LCDV_CD
			 from dual
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMdtnActnSchdInqr-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL3"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMdtnActnSchdInqr (투약기준시간 조회) 
        Description :                                           액팅스케줄 등록을 위한 용법/횟수별 투약기준시간 조회
                                                                (테이블변경: MZCTRLMMT -> MNMDTNHMT)
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMdtnActnSchdInqr-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMdtnActnSchdInqr"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMdtnActnSchdInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		select /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMdtnActnSchdInqr rule 변환(투약기준시간 조회) */
		       a.MDTN_RNO                                                    as MDCR_CTRL_CHRC_VL2  --투약회차
		     , case when substr(nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM), 1, 2) > '23' then to_char(to_date(#{mdcrCtrlChrcVl4}, 'yyyymmdd') + 1, 'yyyymmdd')
		     		else #{mdcrCtrlChrcVl4}
		     	end ||
		       case when substr(nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM), 1, 2) > '23' then 
		       				lpad(to_number(substr(nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM), 1, 2)) - 24, 2, '0') || substr(nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM), 3, 2) 
		       		else nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM)
		        end ||'00' as MDCR_CTRL_CHRC_VL3  --투약예정일시(ex.'20190401083000')
		  from 
		       MNMDTNHMT a    --[간호투약시간관리]
		     , MNMDTNHMT b    --[간호투약시간관리]
		 where 
		       a.DRUS_CD  = #{mdcrCtrlChrcVl1}        --용법코드
		   and a.WARD_CD  = '000000'                  --병동코드 /* 병원공통 기준 */
		   and a.MDNT     = #{mdcrCtrlChrcVl2}        --투약횟수
		   and nvl(to_date(#{mdcrCtrlChrcVl4}, 'yyyymmdd'), trunc(sysdate)) between a.APST_YMD and a.APFN_YMD
		   and b.DRUS_CD(+)  = a.DRUS_CD              --용법코드
		   and b.WARD_CD(+)  = #{mdcrCtrlChrcVl3}     --병동코드 /* 특정병동 기준 */
		   and b.MDNT(+)     = a.MDNT                 --투약횟수
		   and b.MDTN_RNO(+) = a.MDTN_RNO             --투약회차
		   and nvl(to_date(#{mdcrCtrlChrcVl4}, 'yyyymmdd'), trunc(sysdate)) between b.APST_YMD(+) and b.APFN_YMD(+)   
		 order 
		    by a.MDTN_RNO, a.CTRL_SORT_SQNC
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listHsptMdtnBaseHhInqr-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL3"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="drusCd" column="DRUS_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listHsptMdtnBaseHhInqr (병원 투약기준시간 조회) 
        Description :                                           병원(병동) 투약기준시간 조회 - (테이블변경: MZCTRLMMT -> MNMDTNHMT)
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listHsptMdtnBaseHhInqr-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listHsptMdtnBaseHhInqr"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listHsptMdtnBaseHhInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		select /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listHsptMdtnBaseHhInqr 병원 투약기준시간 조회*/
		       lpad((select min(x.CTRL_SORT_SQNC)
		               from MNMDTNHMT x
		              where x.DRUS_CD = a.DRUS_CD
		                and nvl(to_date(#{apstYmd}, 'yyyymmdd'), trunc(sysdate)) between x.APST_YMD and x.APFN_YMD
		            ), 6, '0') 
		        || lpad(a.MDNT, 2, '0')     /* IM 용법이 회차별로 시간대가 다른 */ 
		        || a.DRUS_CD 
		        || decode(nvl(a.RMRK_CTN,'-'), '-', '', ' ('||a.RMRK_CTN||')') as MDCR_DTLS_CTRL_NM     --투약용법(ex.'00000702IV (remark)')
		     , a.MDNT                                                          as MDCR_CTRL_CHRC_VL1    --투약횟수
		     , lpad(a.MDTN_RNO, 2, '0')                                        as MDCR_CTRL_CHRC_VL2    --투약회차(ex.'01')  
		     , substr(nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM), 1, 2) 
		        || ':' 
		        || substr(nvl(b.STRT_PRRN_HM, a.STRT_PRRN_HM), 3, 2) 
		        || decode(nvl(b.STRT_PRRN_HM, '-'), '-', '', 'M')              as MDCR_CTRL_CHRC_VL3    --투약시간(ex.'08:00', '08:00M') /* M : 병동 Modify */
		     , #{mdcrDtlsCtrlAllNm}                                            as MDCR_DTLS_CTRL_ALL_NM --특정병동코드
		     , a.DRUS_CD as DRUS_CD
		  from 
		       MNMDTNHMT a  --[간호투약시간관리]
		     , MNMDTNHMT b  --[간호투약시간관리]
		 where 
		       a.WARD_CD = '000000'                    /* 병원 기준 */
		   and nvl(to_date(#{apstYmd}, 'yyyymmdd'), trunc(sysdate)) between a.APST_YMD and a.APFN_YMD
		   and b.WARD_CD(+)  = #{mdcrDtlsCtrlAllNm}    /* 특정 병동 기준 */
		   and b.DRUS_CD(+)  = a.DRUS_CD 
		   and b.MDNT(+)     = a.MDNT 
		   and b.MDTN_RNO(+) = a.MDTN_RNO
		   and nvl(to_date(#{apstYmd}, 'yyyymmdd'), trunc(sysdate)) between b.APST_YMD(+) and b.APFN_YMD(+)
		 order 
		    by a.CTRL_SORT_SQNC
		]]>
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-insertMzctrlmmt (병원 투약기준시간 등록) 
        Description :                                           병원 투약기준시간 등록 - insert 
                                                                (테이블변경: MZCTRLMMT -> MNMDTNHMT)
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
    -->	
	<insert id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-insertMzctrlmmt"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  >
		<![CDATA[
		insert /*SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-insertMzctrlmmt 병원 투약기준시간 등록 */
		  into MNMDTNHMT   --[간호투약시간관리] 
		     (
		       SCDL_SNO                        --일정일련번호 
		     , DRUS_CD                         --용법코드      
		     , WARD_CD                         --병동코드      
		     , CTRL_SORT_SQNC                  --제어정렬순서
		     , MDNT                            --투약횟수      
		     , MDTN_RNO                        --투약회차      
		     , STRT_PRRN_HM                    --시작예정시분    
		     , RMRK_CTN                        --비고내용      
		     , APST_YMD                        --적용시작일자
		     , APFN_YMD                        --적용종료일자    
		     , FRST_RGSR_ID                    --최초등록자ID
		     , FRST_RGST_IP                    --최초등록IP
		     , FRST_RGST_DT                    --최초등록일시
		     , FRST_RGST_CLNT_PRGM_ID          --최초등록클라이언트프로그램ID
		     , FRST_RGST_SRVR_PRGM_ID          --최초등록서버프로그램ID
		     , LAST_UPDR_ID                    --최종수정자ID
		     , LAST_UPDT_IP                    --최종수정IP
		     , LAST_UPDT_DT                    --최종수정일시
		     , LAST_UPDT_CLNT_PRGM_ID          --최종수정클라이언트프로그램ID
		     , LAST_UPDT_SRVR_PRGM_ID          --최종수정서버프로그램ID
		     )
		values
		     (
		       nvl(#{mdcrDtlsCtrlCd}, nvl((select max(x.SCDL_SNO) from MNMDTNHMT x), 0) + 1) --일정일련번호 
		     , #{mdcrDtlsCtrlNm}                                                             --용법코드      
		     , #{mdcrDtlsCtrlAllNm}                                                          --병동코드      
		     , #{ctrlSortSqnc}                                                               --제어정렬순서
		     , #{mdcrCtrlChrcVl1}                                                            --투약횟수      
		     , #{mdcrCtrlChrcVl2}                                                            --투약회차      
		     , #{mdcrCtrlChrcVl3}                                                            --시작예정시분    
		     , #{mdcrCtrlChrcVl4}                                                            --비고내용      
		     , to_date(#{apstYmd}, 'yyyymmdd')                                               --적용시작일자
		     , to_date(#{apfnYmd}, 'yyyymmdd')                                               --적용종료일자    
		     , #{gvUserId}                                                                   --최초등록자ID
		     , #{gvUserIp}                                                                   --최초등록IP
		     , sysdate                                                                       --최초등록일시
		     , #{gvClntPrgmId}                                                               --최초등록클라이언트프로그램ID
		     , #{gvSrvrPrgmId}                                                               --최초등록서버프로그램ID
		     , #{gvUserId}                                                                   --최종수정자ID
		     , #{gvUserIp}                                                                   --최종수정IP
		     , sysdate                                                                       --최종수정일시
		     , #{gvClntPrgmId}                                                               --최종수정클라이언트프로그램ID
		     , #{gvSrvrPrgmId}                                                               --최종수정서버프로그램ID
		     )
		]]>
	</insert>




    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-updateMzctrlmmt (병원 투약기준시간 수정) 
        Description :                                           병원 투약기준시간 수정 - update 
                                                                (테이블변경: MZCTRLMMT -> MNMDTNHMT)
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
    -->	
	<update id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-updateMzctrlmmt"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  >
		<![CDATA[
		update /*SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-updateMzctrlmmt 병원 투약기준시간 수정 */
		       MNMDTNHMT  --[간호투약시간관리]                                                   
		   set                                                                 
		       DRUS_CD                 = nvl(#{mdcrDtlsCtrlNm}, DRUS_CD)                 --용법코드       
		     , WARD_CD                 = nvl(#{mdcrDtlsCtrlAllNm}, WARD_CD)              --병동코드   
		     , CTRL_SORT_SQNC          = nvl(#{ctrlSortSqnc}, CTRL_SORT_SQNC)            --제어정렬순서    
		     , MDNT                    = nvl(#{mdcrCtrlChrcVl1}, MDNT)                   --투약횟수       
		     , MDTN_RNO                = nvl(#{mdcrCtrlChrcVl2}, MDTN_RNO)               --투약회차       
		     , STRT_PRRN_HM            = nvl(#{mdcrCtrlChrcVl3}, STRT_PRRN_HM)           --시작예정시분    
		     , RMRK_CTN                = nvl(#{mdcrCtrlChrcVl4}, RMRK_CTN)               --비고내용   
		     , APST_YMD                = nvl(to_date(#{apstYmd}, 'yyyymmdd'), APST_YMD)  --적용시작일자    
		     , APFN_YMD                = nvl(to_date(#{apfnYmd}, 'yyyymmdd'), APFN_YMD)  --적용종료일자    
		     , LAST_UPDR_ID            = #{gvUserId}                                     --최종수정자ID
		     , LAST_UPDT_IP            = #{gvUserIp}                                     --최종수정IP
		     , LAST_UPDT_DT            = sysdate                                         --최종수정일시
		     , LAST_UPDT_CLNT_PRGM_ID  = #{gvClntPrgmId}                                 --최종수정클라이언트프로그램ID
		     , LAST_UPDT_SRVR_PRGM_ID  = #{gvSrvrPrgmId}                                 --최종수정서버프로그램ID
		 where 
		       SCDL_SNO = nvl(#{scdlSno}, SCDL_SNO)          --일정일련번호(PK)  --mdcrDtlsCtrlCd
		   and DRUS_CD  = nvl(#{mdcrDtlsCtrlNm}, DRUS_CD)    --용법코드
		   and WARD_CD  = nvl(#{mdcrDtlsCtrlAllNm}, WARD_CD) --병동코드  
		   and MDNT     = nvl(#{mdcrCtrlChrcVl1}, MDNT)      --투약횟수
		   and MDTN_RNO = nvl(#{mdcrCtrlChrcVl2}, MDTN_RNO)  --투약회차
		]]>
	</update>




    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-deleteMzctrlmmt (병동 투약기준시간 삭제) 
        Description :                                           병동 용법/횟수별 투약기준시간 삭제(초기화) - delete 
                                                                (테이블변경: MZCTRLMMT -> MNMDTNHMT)
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
    -->	
	<delete id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-deleteMzctrlmmt"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  >
		<![CDATA[
		delete /*SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-deleteMzctrlmmt 병동 용법/횟수별 투약기준시간 삭제 */
		  from MNMDTNHMT  --[간호투약시간관리]
		 where 
		       SCDL_SNO = nvl(#{mdcrDtlsCtrlCd}, SCDL_SNO)    --일정일련번호
		   and DRUS_CD  = nvl(#{mdcrDtlsCtrlNm}, DRUS_CD)     --용법코드   
		   and WARD_CD  = nvl(#{mdcrDtlsCtrlAllNm}, WARD_CD)  --병동코드   
		   and MDNT     = nvl(#{mdcrCtrlChrcVl1}, MDNT)       --투약횟수   
		]]>
	</delete>


	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMzctrlmmt-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="scdlSno" column="SCDL_SNO"/>
		<result property="drusCd" column="DRUS_CD"/>
		<result property="wardCd" column="WARD_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="mdnt" column="MDNT"/>
		<result property="mdtnRno" column="MDTN_RNO"/>
		<result property="strtPrrnHm" column="STRT_PRRN_HM"/>
		<result property="rmrkCtn" column="RMRK_CTN"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMzctrlmmt (투약기준시간 기등록 자료 조회) 
        Description :                                           투약기준시간 기등록 자료 조회 - (테이블변경: MZCTRLMMT -> MNMDTNHMT)
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMzctrlmmt-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMzctrlmmt"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMzctrlmmt-result" useCache="true" flushCache="false">
		<![CDATA[
		select /*SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listMzctrlmmt 투약기준시간 기등록 자료 조회 */
		       a.SCDL_SNO                        as SCDL_SNO           --일정일련번호  --as MDCR_DTLS_CTRL_CD
		     , a.DRUS_CD                         as DRUS_CD            --용법코드     --as MDCR_DTLS_CTRL_NM 
		     , a.WARD_CD                         as WARD_CD            --병동코드     --as MDCR_DTLS_CTRL_ALL_NM 
		     , a.CTRL_SORT_SQNC                  as CTRL_SORT_SQNC     --제어정렬순서
		     , a.MDNT                            as MDNT               --투약횟수     --as MDCR_CTRL_CHRC_VL1 
		     , a.MDTN_RNO                        as MDTN_RNO           --투약회차     --as MDCR_CTRL_CHRC_VL2    
		     , a.STRT_PRRN_HM                    as STRT_PRRN_HM       --시작예정시분  --as MDCR_CTRL_CHRC_VL3  
		     , a.RMRK_CTN                        as RMRK_CTN           --비고내용     --as MDCR_CTRL_CHRC_VL4 
		     , to_char(a.APST_YMD, 'yyyymmdd')   as APST_YMD           --적용시작일자
		     , to_char(a.APFN_YMD, 'yyyymmdd')   as APFN_YMD           --적용종료일자    
		  from    
		       MNMDTNHMT a  --[간호투약시간관리]
		 where 
		       a.SCDL_SNO = nvl(#{scdlSno}, a.SCDL_SNO)     --mdcrDtlsCtrlCd
		   and a.DRUS_CD  = nvl(#{drusCd}, a.DRUS_CD)       --mdcrDtlsCtrlNm
		   and a.WARD_CD  = nvl(#{wardCd}, a.WARD_CD)       --mdcrDtlsCtrlAllNm
		   and a.MDNT     = nvl(#{mdnt}, a.MDNT)            --mdcrCtrlChrcVl1
		   and a.MDTN_RNO = nvl(#{mdtnRno}, a.MDTN_RNO)     --mdcrCtrlChrcVl2
		   and nvl(to_date(#{apstYmd}, 'yyyymmdd'), trunc(sysdate)) between a.APST_YMD and a.APFN_YMD
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr10-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="ordrCd" column="ORDR_CD"/>
		<result property="ordrNm" column="ORDR_NM"/>
		<result property="orclCd" column="ORCL_CD"/>
		<result property="ordrCltyCd" column="ORDR_CLTY_CD"/>
		<result property="spcmCd1" column="SPCM_CD1"/>
		<result property="spcmCd2" column="SPCM_CD2"/>
		<result property="drusCd" column="DRUS_CD"/>
		<result property="icunCd" column="ICUN_CD"/>
		<result property="pcunInlsQty" column="PCUN_INLS_QTY"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="excfCd" column="EXCF_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr10 () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr10-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr10"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr10-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listNursMdcrCtrlCdInqr10  mnd_ctrlmmt_l10$S01_진료제어정보조회2 */
		            a.MDCR_DTLS_CTRL_CD as ORDR_CD
		         ,  a.MDCR_DTLS_CTRL_NM as ORDR_NM
		         ,  b.ORCL_CD as ORCL_CD
		         ,  b.ORDR_CLTY_CD as ORDR_CLTY_CD
		         ,  b.SPCM_CD1 as SPCM_CD1
		         ,  b.SPCM_CD2 as SPCM_CD2
		         ,  b.DRUS_CD as DRUS_CD
		         ,  b.ICUN_CD as ICUN_CD
		         ,  b.PCUN_INLS_QTY as PCUN_INLS_QTY
		         ,  a.MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD
		         ,  b.EXCF_CD as EXCF_CD
		      from
		            MZCTRLMMT a
		         ,  MDORDRCMT b
		     where  a.MDCR_CTRL_CD  = #{mdcrCtrlCd}
		       and  a.MDCR_DTLS_CTRL_CD like #{mdcrDtlsCtrlCd} || '%'
		       and  nvl(a.APFN_YMD, sysdate) >= sysdate
		       and  nvl(a.APST_YMD, sysdate) <= sysdate
		       and  b.ORDR_CD = a.MDCR_DTLS_CTRL_CD
		     order
		        by  a.CTRL_SORT_SQNC
			]]>
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-updateWardCtrlCdMzctrlmmt (update MZCTRLMMT) 
        Description :                                           Table[MZCTRLMMT]'s update method
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
    -->	
	<update id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-updateWardCtrlCdMzctrlmmt"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  >
		/*SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-updateWardCtrlCdMzctrlmmt */
		UPDATE MZCTRLMMT
		       SET MDCR_CTRL_NM = nvl(#{mdcrCtrlNm}, MDCR_CTRL_NM)
					,MDCR_DTLS_CTRL_NM = nvl(#{mdcrDtlsCtrlNm}, MDCR_DTLS_CTRL_NM)
					,MDCR_DTLS_CTRL_ALL_NM = nvl(#{mdcrDtlsCtrlAllNm}, MDCR_DTLS_CTRL_ALL_NM)
					,MDCR_DTLS_CTRL_ABRV_NM = nvl(#{mdcrDtlsCtrlAbrvNm}, MDCR_DTLS_CTRL_ABRV_NM)
					,MDCR_LWRN_CTRL_CD = nvl(#{mdcrLwrnCtrlCd}, MDCR_LWRN_CTRL_CD)
					,CTRL_SORT_SQNC = nvl(#{ctrlSortSqnc}, CTRL_SORT_SQNC)
					,MDCR_CTRL_CHRC_VL1 = nvl(#{mdcrCtrlChrcVl1}, MDCR_CTRL_CHRC_VL1)
					,MDCR_CTRL_CHRC_VL2 = nvl(#{mdcrCtrlChrcVl2}, MDCR_CTRL_CHRC_VL2)
					,MDCR_CTRL_CHRC_VL3 = nvl(#{mdcrCtrlChrcVl3}, MDCR_CTRL_CHRC_VL3)
					,MDCR_CTRL_CHRC_VL4 = nvl(#{mdcrCtrlChrcVl4}, MDCR_CTRL_CHRC_VL4)
					,MDCR_CTRL_CHRC_VL5 = nvl(#{mdcrCtrlChrcVl5}, MDCR_CTRL_CHRC_VL5)
					,MDCR_CTRL_CHRC_VL6 = nvl(#{mdcrCtrlChrcVl6}, MDCR_CTRL_CHRC_VL6)
					,MDCR_CTRL_CHRC_VL7 = nvl(#{mdcrCtrlChrcVl7}, MDCR_CTRL_CHRC_VL7)
					,MDCR_CTRL_CHRC_VL8 = nvl(#{mdcrCtrlChrcVl8}, MDCR_CTRL_CHRC_VL8)
					,MDCR_CTRL_CHRC_VL9 = nvl(#{mdcrCtrlChrcVl9}, MDCR_CTRL_CHRC_VL9)
					,MDCR_CTRL_CHRC_VL10 = nvl(#{mdcrCtrlChrcVl10}, MDCR_CTRL_CHRC_VL10)
					,MDCR_CTRL_NMBR_VL1 = nvl(#{mdcrCtrlNmbrVl1}, MDCR_CTRL_NMBR_VL1)
					,MDCR_CTRL_NMBR_VL2 = nvl(#{mdcrCtrlNmbrVl2}, MDCR_CTRL_NMBR_VL2)
					,MDCR_CTRL_NMBR_VL3 = nvl(#{mdcrCtrlNmbrVl3}, MDCR_CTRL_NMBR_VL3)
					,MDCR_CTRL_NMBR_VL4 = nvl(#{mdcrCtrlNmbrVl4}, MDCR_CTRL_NMBR_VL4)
					,MDCR_CTRL_NMBR_VL5 = nvl(#{mdcrCtrlNmbrVl5}, MDCR_CTRL_NMBR_VL5)
					,MDCR_CTRL_NMBR_VL6 = nvl(#{mdcrCtrlNmbrVl6}, MDCR_CTRL_NMBR_VL6)
					,MDCR_CTRL_NMBR_VL7 = nvl(#{mdcrCtrlNmbrVl7}, MDCR_CTRL_NMBR_VL7)
					,MDCR_CTRL_NMBR_VL8 = nvl(#{mdcrCtrlNmbrVl8}, MDCR_CTRL_NMBR_VL8)
					,MDCR_CTRL_NMBR_VL9 = nvl(#{mdcrCtrlNmbrVl9}, MDCR_CTRL_NMBR_VL9)
					,MDCR_CTRL_NMBR_VL10 = nvl(#{mdcrCtrlNmbrVl10}, MDCR_CTRL_NMBR_VL10)
					,APLY_PART_CD = nvl(#{aplyPartCd}, APLY_PART_CD)
					,APST_YMD = nvl(to_date(#{apstYmd}, 'yyyymmdd'), APST_YMD)
					,APFN_YMD = nvl(to_date(#{apfnYmd}, 'yyyymmdd'), APFN_YMD) 		
					,LAST_UPDR_ID = #{gvUserId} 		
					,LAST_UPDT_IP = #{gvUserIp} 		
					,LAST_UPDT_DT = sysdate 		
					,LAST_UPDT_CLNT_PRGM_ID = #{gvClntPrgmId} 		
					,LAST_UPDT_SRVR_PRGM_ID = #{gvSrvrPrgmId} 		
		 WHERE MDCR_CTRL_CD = #{mdcrCtrlCd}
			AND MDCR_DTLS_CTRL_CD = nvl(#{mdcrDtlsCtrlCd}, MDCR_DTLS_CTRL_CD)
	</update>




    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-insertWardCtrlCdMzctrlmmt (insert MZCTRLMMT) 
        Description :                                           Table[MZCTRLMMT]'s insert method
                                            
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
    -->	
	<insert id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-insertWardCtrlCdMzctrlmmt"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  >
		/*SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-insertWardCtrlCdMzctrlmmt */
		INSERT INTO MZCTRLMMT 
		(
		  MDCR_CTRL_CD		
		 ,MDCR_DTLS_CTRL_CD		
		 ,MDCR_CTRL_NM		
		 ,MDCR_DTLS_CTRL_NM		
		 ,MDCR_DTLS_CTRL_ALL_NM		
		 ,MDCR_DTLS_CTRL_ABRV_NM		
		 ,MDCR_LWRN_CTRL_CD		
		 ,CTRL_SORT_SQNC		
		 ,MDCR_CTRL_CHRC_VL1		
		 ,MDCR_CTRL_CHRC_VL2		
		 ,MDCR_CTRL_CHRC_VL3		
		 ,MDCR_CTRL_CHRC_VL4		
		 ,MDCR_CTRL_CHRC_VL5		
		 ,MDCR_CTRL_CHRC_VL6		
		 ,MDCR_CTRL_CHRC_VL7		
		 ,MDCR_CTRL_CHRC_VL8		
		 ,MDCR_CTRL_CHRC_VL9		
		 ,MDCR_CTRL_CHRC_VL10		
		 ,MDCR_CTRL_NMBR_VL1		
		 ,MDCR_CTRL_NMBR_VL2		
		 ,MDCR_CTRL_NMBR_VL3		
		 ,MDCR_CTRL_NMBR_VL4		
		 ,MDCR_CTRL_NMBR_VL5		
		 ,MDCR_CTRL_NMBR_VL6		
		 ,MDCR_CTRL_NMBR_VL7		
		 ,MDCR_CTRL_NMBR_VL8		
		 ,MDCR_CTRL_NMBR_VL9		
		 ,MDCR_CTRL_NMBR_VL10		
		 ,APLY_PART_CD		
		 ,APST_YMD		
		 ,APFN_YMD		
		 ,FRST_RGSR_ID		
		 ,FRST_RGST_IP		
		 ,FRST_RGST_DT		
		 ,FRST_RGST_CLNT_PRGM_ID		
		 ,FRST_RGST_SRVR_PRGM_ID		
		 ,LAST_UPDR_ID		
		 ,LAST_UPDT_IP		
		 ,LAST_UPDT_DT		
		 ,LAST_UPDT_CLNT_PRGM_ID		
		 ,LAST_UPDT_SRVR_PRGM_ID		
		)
		VALUES
		(
		  #{mdcrCtrlCd}
		 ,case when length(nvl(#{mdcrDtlsCtrlCd}, '')) = 3 then
		 			#{mdcrDtlsCtrlCd} || '_' || (SELECT LPAD(REPLACE(MAX(MDCR_CTRL_CD), #{mdcrDtlsCtrlCd}||'_', '') + 1, 3, 0)
		                                                  FROM (
		                                                        SELECT MAX(MDCR_CTRL_CD) AS MDCR_CTRL_CD 
		                                                          FROM MZCTRLMMT
		                                                         WHERE MDCR_CTRL_CD LIKE #{mdcrDtlsCtrlCd}||'%'
		                                                        UNION ALL
		                                                        SELECT MAX(MDCR_DTLS_CTRL_CD)
		                                                          FROM MZCTRLMMT
		                                                         WHERE MDCR_DTLS_CTRL_CD LIKE #{mdcrDtlsCtrlCd}||'%'
		                                                        UNION ALL
		                                                        SELECT MAX(MDCR_CTRL_CHRC_VL1)
		                                                          FROM MZCTRLMMT
		                                                         WHERE MDCR_CTRL_CHRC_VL1 LIKE #{mdcrDtlsCtrlCd}||'%'
		                                                       ))
		 	   when #{mdcrDtlsCtrlCd} is not null then #{mdcrDtlsCtrlCd}
		 	   else to_char(nvl((select max(to_number(x.MDCR_DTLS_CTRL_CD)) from MZCTRLMMT x where x.MDCR_CTRL_CD = #{mdcrCtrlCd} ), 0) + 1)
		   end
		 ,#{mdcrCtrlNm}
		 ,#{mdcrDtlsCtrlNm}
		 ,#{mdcrDtlsCtrlAllNm}
		 ,#{mdcrDtlsCtrlAbrvNm}
		 ,#{mdcrLwrnCtrlCd}
		 ,case when #{ctrlSortSqnc} is null or #{ctrlSortSqnc} = 0 then
		 			nvl((select max(CTRL_SORT_SQNC)
			 			   from MZCTRLMMT
			 			  where mdcr_ctrl_cd like #{mdcrCtrlCd}), 0) + 1
		 	   else #{ctrlSortSqnc}
		   end
		 ,case when length(nvl(#{mdcrCtrlChrcVl1}, '')) = 3 then
		 			#{mdcrCtrlChrcVl1} || '_' || (SELECT LPAD(REPLACE(MAX(MDCR_CTRL_CD), #{mdcrCtrlChrcVl1}||'_', '') + 1, 3, 0)
		                                                  FROM (
		                                                        SELECT MAX(MDCR_CTRL_CD) AS MDCR_CTRL_CD 
		                                                          FROM MZCTRLMMT
		                                                         WHERE MDCR_CTRL_CD LIKE #{mdcrCtrlChrcVl1}||'%'
		                                                        UNION ALL
		                                                        SELECT MAX(MDCR_DTLS_CTRL_CD)
		                                                          FROM MZCTRLMMT
		                                                         WHERE MDCR_DTLS_CTRL_CD LIKE #{mdcrCtrlChrcVl1}||'%'
		                                                        UNION ALL
		                                                        SELECT MAX(MDCR_CTRL_CHRC_VL1)
		                                                          FROM MZCTRLMMT
		                                                         WHERE MDCR_CTRL_CHRC_VL1 LIKE #{mdcrCtrlChrcVl1}||'%'
		                                                       ))
		 	   else #{mdcrCtrlChrcVl1}
		   end
		 ,#{mdcrCtrlChrcVl2}
		 ,#{mdcrCtrlChrcVl3}
		 ,#{mdcrCtrlChrcVl4}
		 ,#{mdcrCtrlChrcVl5}
		 ,#{mdcrCtrlChrcVl6}
		 ,#{mdcrCtrlChrcVl7}
		 ,#{mdcrCtrlChrcVl8}
		 ,#{mdcrCtrlChrcVl9}
		 ,#{mdcrCtrlChrcVl10}
		 ,#{mdcrCtrlNmbrVl1}
		 ,#{mdcrCtrlNmbrVl2}
		 ,#{mdcrCtrlNmbrVl3}
		 ,#{mdcrCtrlNmbrVl4}
		 ,#{mdcrCtrlNmbrVl5}
		 ,#{mdcrCtrlNmbrVl6}
		 ,#{mdcrCtrlNmbrVl7}
		 ,#{mdcrCtrlNmbrVl8}
		 ,#{mdcrCtrlNmbrVl9}
		 ,#{mdcrCtrlNmbrVl10}
		 ,#{aplyPartCd}
		 ,to_date(#{apstYmd}, 'yyyymmdd')
		 ,to_date(#{apfnYmd}, 'yyyymmdd')
		 ,#{gvUserId}
		 ,#{gvUserIp}
		 ,sysdate
		 ,#{gvClntPrgmId}
		 ,#{gvSrvrPrgmId}
		 ,#{gvUserId}
		 ,#{gvUserIp}
		 ,sysdate
		 ,#{gvClntPrgmId}
		 ,#{gvSrvrPrgmId}
		)
	</insert>


	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listSpczCnslNursDvsnInqr-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listSpczCnslNursDvsnInqr () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listSpczCnslNursDvsnInqr-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listSpczCnslNursDvsnInqr"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listSpczCnslNursDvsnInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listSpczCnslNursDvsnInqr 전문상담간호사구분조회 */
			       b.MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD
			  from mzctrlmmt a
			     , (
					select *
					  from mzctrlmmt
					 where mdcr_ctrl_cd = 'MNP_001'
				   ) b
			 where a.mdcr_ctrl_cd in (
									select x.MDCR_CTRL_CHRC_VL1
									  from mzctrlmmt x
									 where x.mdcr_ctrl_cd = 'MNP_001')
			   and a.MDCR_DTLS_CTRL_CD = #{mdcrCtrlCd}
			   and b.MDCR_CTRL_CHRC_VL1 = a.MDCR_CTRL_CD
			   and rownum = 1
			]]>
	</select>


	<resultMap id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listCareCtrlCdMultInqr-result" type="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO">
	
		<result property="mdcrCtrlCd" column="MDCR_CTRL_CD"/>
		<result property="mdcrDtlsCtrlCd" column="MDCR_DTLS_CTRL_CD"/>
		<result property="mdcrCtrlNm" column="MDCR_CTRL_NM"/>
		<result property="mdcrDtlsCtrlNm" column="MDCR_DTLS_CTRL_NM"/>
		<result property="mdcrDtlsCtrlAllNm" column="MDCR_DTLS_CTRL_ALL_NM"/>
		<result property="mdcrDtlsCtrlAbrvNm" column="MDCR_DTLS_CTRL_ABRV_NM"/>
		<result property="mdcrLwrnCtrlCd" column="MDCR_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="mdcrCtrlChrcVl1" column="MDCR_CTRL_CHRC_VL_1"/>
		<result property="mdcrCtrlChrcVl2" column="MDCR_CTRL_CHRC_VL_2"/>
		<result property="mdcrCtrlChrcVl3" column="MDCR_CTRL_CHRC_VL_3"/>
		<result property="mdcrCtrlChrcVl4" column="MDCR_CTRL_CHRC_VL_4"/>
		<result property="mdcrCtrlChrcVl5" column="MDCR_CTRL_CHRC_VL_5"/>
		<result property="mdcrCtrlChrcVl6" column="MDCR_CTRL_CHRC_VL_6"/>
		<result property="mdcrCtrlChrcVl7" column="MDCR_CTRL_CHRC_VL_7"/>
		<result property="mdcrCtrlChrcVl8" column="MDCR_CTRL_CHRC_VL_8"/>
		<result property="mdcrCtrlChrcVl9" column="MDCR_CTRL_CHRC_VL_9"/>
		<result property="mdcrCtrlChrcVl10" column="MDCR_CTRL_CHRC_VL_10"/>
		<result property="mdcrCtrlNmbrVl1" column="MDCR_CTRL_NMBR_VL_1"/>
		<result property="mdcrCtrlNmbrVl2" column="MDCR_CTRL_NMBR_VL_2"/>
		<result property="mdcrCtrlNmbrVl3" column="MDCR_CTRL_NMBR_VL_3"/>
		<result property="mdcrCtrlNmbrVl4" column="MDCR_CTRL_NMBR_VL_4"/>
		<result property="mdcrCtrlNmbrVl5" column="MDCR_CTRL_NMBR_VL_5"/>
		<result property="mdcrCtrlNmbrVl6" column="MDCR_CTRL_NMBR_VL_6"/>
		<result property="mdcrCtrlNmbrVl7" column="MDCR_CTRL_NMBR_VL_7"/>
		<result property="mdcrCtrlNmbrVl8" column="MDCR_CTRL_NMBR_VL_8"/>
		<result property="mdcrCtrlNmbrVl9" column="MDCR_CTRL_NMBR_VL_9"/>
		<result property="mdcrCtrlNmbrVl10" column="MDCR_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
		<result property="ctrlDscrCtn" column="CTRL_DSCR_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listCareCtrlCdMultInqr () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO
		resultMap : com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listCareCtrlCdMultInqr-result
    -->
	<select id="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listCareCtrlCdMultInqr"  parameterType="com.sds.healthcare.ehr.med.mn.mnm.vo.MnmWardCtrlCdInqrDVO"  resultMap="com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listCareCtrlCdMultInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-mn-mnm-dao-MnmWardCtrlCdInqrDAO-listCareCtrlCdMultInqr */
				   MDCR_CTRL_CD as MDCR_CTRL_CD			/*  진료제어코드       */
				,  MDCR_DTLS_CTRL_CD as MDCR_DTLS_CTRL_CD       /*  진료세부제어코드   */
				,  MDCR_CTRL_NM as MDCR_CTRL_NM            /*  진료제어명         */
				,  MDCR_DTLS_CTRL_NM as MDCR_DTLS_CTRL_NM       /*  진료세부제어명     */
				,  MDCR_DTLS_CTRL_ALL_NM as MDCR_DTLS_CTRL_ALL_NM   /*  진료세부제어전체명 */
				,  MDCR_DTLS_CTRL_ABRV_NM as MDCR_DTLS_CTRL_ABRV_NM  /*  진료세부제어약어명 */
				,  MDCR_LWRN_CTRL_CD as MDCR_LWRN_CTRL_CD       /*  진료하위제어코드   */
				,  CTRL_SORT_SQNC as CTRL_SORT_SQNC          /*  제어정렬순서       */
				,  MDCR_CTRL_CHRC_VL1 as MDCR_CTRL_CHRC_VL_1      /*  진료제어문자값1    */
				,  MDCR_CTRL_CHRC_VL2 as MDCR_CTRL_CHRC_VL_2      /*  진료제어문자값2    */
				,  MDCR_CTRL_CHRC_VL3 as MDCR_CTRL_CHRC_VL_3      /*  진료제어문자값3    */
				,  MDCR_CTRL_CHRC_VL4 as MDCR_CTRL_CHRC_VL_4      /*  진료제어문자값4    */
				,  MDCR_CTRL_CHRC_VL5 as MDCR_CTRL_CHRC_VL_5      /*  진료제어문자값5    */
				,  MDCR_CTRL_CHRC_VL6 as MDCR_CTRL_CHRC_VL_6      /*  진료제어문자값6    */
				,  MDCR_CTRL_CHRC_VL7 as MDCR_CTRL_CHRC_VL_7      /*  진료제어문자값7    */
				,  MDCR_CTRL_CHRC_VL8 as MDCR_CTRL_CHRC_VL_8      /*  진료제어문자값8    */
				,  MDCR_CTRL_CHRC_VL9 as MDCR_CTRL_CHRC_VL_9      /*  진료제어문자값9    */
				,  MDCR_CTRL_CHRC_VL10 as MDCR_CTRL_CHRC_VL_10     /*  진료제어문자값10   */
				,  MDCR_CTRL_NMBR_VL1 as MDCR_CTRL_NMBR_VL_1      /*  진료제어숫자값1    */
				,  MDCR_CTRL_NMBR_VL2 as MDCR_CTRL_NMBR_VL_2      /*  진료제어숫자값2    */
				,  MDCR_CTRL_NMBR_VL3 as MDCR_CTRL_NMBR_VL_3      /*  진료제어숫자값3    */
				,  MDCR_CTRL_NMBR_VL4 as MDCR_CTRL_NMBR_VL_4      /*  진료제어숫자값4    */
				,  MDCR_CTRL_NMBR_VL5 as MDCR_CTRL_NMBR_VL_5      /*  진료제어숫자값5    */
				,  MDCR_CTRL_NMBR_VL6 as MDCR_CTRL_NMBR_VL_6      /*  진료제어숫자값6    */
				,  MDCR_CTRL_NMBR_VL7 as MDCR_CTRL_NMBR_VL_7      /*  진료제어숫자값7    */
				,  MDCR_CTRL_NMBR_VL8 as MDCR_CTRL_NMBR_VL_8      /*  진료제어숫자값8    */
				,  MDCR_CTRL_NMBR_VL9 as MDCR_CTRL_NMBR_VL_9      /*  진료제어숫자값9    */
				,  MDCR_CTRL_NMBR_VL10 as MDCR_CTRL_NMBR_VL_10     /*  진료제어숫자값10   */
				,  APLY_PART_CD as APLY_PART_CD            /*  적용파트코드       */
				,  to_char(APST_YMD, 'YYYYMMDD') as APST_YMD                /*  적용시작일자       */
				,  to_char(APFN_YMD, 'YYYYMMDD') as APFN_YMD                /*  적용종료일자       */
				,  CTRL_DSCR_CTN AS CTRL_DSCR_CTN
			 from  MZCTRLMMT
			where  MDCR_CTRL_CD in
			]]>
					<foreach close=")" collection="mdcrCtrlCdList" index="index" item="mdcrCtrlCd" open="(" separator=","> #{mdcrCtrlCd} </foreach>
	  <![CDATA[ 
              and  trunc(sysdate) between nvl(APST_YMD, trunc(sysdate)) and nvl(APFN_YMD, trunc(sysdate))
			order
			   by  MDCR_CTRL_CD, CTRL_SORT_SQNC
			]]>
	</select>

</mapper>