<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    SQL File Name : mapper_ApaPtntCtrlCdComnDAO_sql.xml 
    Description : -->
<mapper namespace="ApaPtntCtrlCdComnDAO">


	<resultMap id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOnePtntDtlsCtrlCd-result" type="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO">
	
		<result property="ptntCtrlCd" column="PTNT_CTRL_CD"/>
		<result property="ptntDtlsCtrlCd" column="PTNT_DTLS_CTRL_CD"/>
		<result property="ptntCtrlNm" column="PTNT_CTRL_NM"/>
		<result property="ptntDtlsCtrlNm" column="PTNT_DTLS_CTRL_NM"/>
		<result property="ptntDtlsCtrlAllNm" column="PTNT_DTLS_CTRL_ALL_NM"/>
		<result property="ptntDtlsCtrlAbrvNm" column="PTNT_DTLS_CTRL_ABRV_NM"/>
		<result property="ptntLwrnCtrlCd" column="PTNT_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="ptntCtrlChrcVl1" column="PTNT_CTRL_CHRC_VL1"/>
		<result property="ptntCtrlChrcVl2" column="PTNT_CTRL_CHRC_VL2"/>
		<result property="ptntCtrlChrcVl3" column="PTNT_CTRL_CHRC_VL3"/>
		<result property="ptntCtrlChrcVl4" column="PTNT_CTRL_CHRC_VL4"/>
		<result property="ptntCtrlChrcVl5" column="PTNT_CTRL_CHRC_VL5"/>
		<result property="ptntCtrlChrcVl6" column="PTNT_CTRL_CHRC_VL6"/>
		<result property="ptntCtrlChrcVl7" column="PTNT_CTRL_CHRC_VL7"/>
		<result property="ptntCtrlChrcVl8" column="PTNT_CTRL_CHRC_VL8"/>
		<result property="ptntCtrlChrcVl9" column="PTNT_CTRL_CHRC_VL9"/>
		<result property="ptntCtrlChrcVl10" column="PTNT_CTRL_CHRC_VL10"/>
		<result property="ptntCtrlNmbrVl1" column="PTNT_CTRL_NMBR_VL1"/>
		<result property="ptntCtrlNmbrVl2" column="PTNT_CTRL_NMBR_VL2"/>
		<result property="ptntCtrlNmbrVl3" column="PTNT_CTRL_NMBR_VL3"/>
		<result property="ptntCtrlNmbrVl4" column="PTNT_CTRL_NMBR_VL4"/>
		<result property="ptntCtrlNmbrVl5" column="PTNT_CTRL_NMBR_VL5"/>
		<result property="ptntCtrlNmbrVl6" column="PTNT_CTRL_NMBR_VL6"/>
		<result property="ptntCtrlNmbrVl7" column="PTNT_CTRL_NMBR_VL7"/>
		<result property="ptntCtrlNmbrVl8" column="PTNT_CTRL_NMBR_VL8"/>
		<result property="ptntCtrlNmbrVl9" column="PTNT_CTRL_NMBR_VL9"/>
		<result property="ptntCtrlNmbrVl10" column="PTNT_CTRL_NMBR_VL10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
		<result property="ctrlDscrCtn" column="CTRL_DSCR_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOnePtntDtlsCtrlCd (환자제어코드 정보조회) 
        Description :                       
		parameterType : com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO
		resultMap : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOnePtntDtlsCtrlCd-result
    -->
	<select id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOnePtntDtlsCtrlCd"  parameterType="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO"  resultMap="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOnePtntDtlsCtrlCd-result" useCache="true" flushCache="false">
		/*SQL_ID: com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOnePtntDtlsCtrlCd */
		select 
		      PTNT_CTRL_CD
			, PTNT_DTLS_CTRL_CD
			, PTNT_CTRL_NM
			, PTNT_DTLS_CTRL_NM
			, PTNT_DTLS_CTRL_ALL_NM
			, PTNT_DTLS_CTRL_ABRV_NM
			, PTNT_LWRN_CTRL_CD
			, CTRL_SORT_SQNC
			, PTNT_CTRL_CHRC_VL1
			, PTNT_CTRL_CHRC_VL2
			, PTNT_CTRL_CHRC_VL3
			, PTNT_CTRL_CHRC_VL4
			, PTNT_CTRL_CHRC_VL5
			, PTNT_CTRL_CHRC_VL6
			, PTNT_CTRL_CHRC_VL7
			, PTNT_CTRL_CHRC_VL8
			, PTNT_CTRL_CHRC_VL9
			, PTNT_CTRL_CHRC_VL10
			, PTNT_CTRL_NMBR_VL1
			, PTNT_CTRL_NMBR_VL2
			, PTNT_CTRL_NMBR_VL3
			, PTNT_CTRL_NMBR_VL4
			, PTNT_CTRL_NMBR_VL5
			, PTNT_CTRL_NMBR_VL6
			, PTNT_CTRL_NMBR_VL7
			, PTNT_CTRL_NMBR_VL8
			, PTNT_CTRL_NMBR_VL9
			, PTNT_CTRL_NMBR_VL10
			, APLY_PART_CD
			, to_char(APST_YMD, 'yyyymmdd') as  APST_YMD
		    , to_char(APFN_YMD, 'yyyymmdd') as APFN_YMD
			, CTRL_DSCR_CTN
		  from APCTRLMMT
		 where PTNT_CTRL_CD = #{ptntCtrlCd}
		   and PTNT_DTLS_CTRL_CD =  #{ptntDtlsCtrlCd}
	</select>




	<resultMap id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-listPtntCtrl-result" type="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO">
	
		<result property="ptntCtrlCd" column="PTNT_CTRL_CD"/>
		<result property="ptntDtlsCtrlCd" column="PTNT_DTLS_CTRL_CD"/>
		<result property="ptntCtrlNm" column="PTNT_CTRL_NM"/>
		<result property="ptntDtlsCtrlNm" column="PTNT_DTLS_CTRL_NM"/>
		<result property="ptntDtlsCtrlAllNm" column="PTNT_DTLS_CTRL_ALL_NM"/>
		<result property="ptntDtlsCtrlAbrvNm" column="PTNT_DTLS_CTRL_ABRV_NM"/>
		<result property="ptntLwrnCtrlCd" column="PTNT_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="ptntCtrlChrcVl1" column="PTNT_CTRL_CHRC_VL_1"/>
		<result property="ptntCtrlChrcVl2" column="PTNT_CTRL_CHRC_VL_2"/>
		<result property="ptntCtrlChrcVl3" column="PTNT_CTRL_CHRC_VL_3"/>
		<result property="ptntCtrlChrcVl4" column="PTNT_CTRL_CHRC_VL_4"/>
		<result property="ptntCtrlChrcVl5" column="PTNT_CTRL_CHRC_VL_5"/>
		<result property="ptntCtrlChrcVl6" column="PTNT_CTRL_CHRC_VL_6"/>
		<result property="ptntCtrlChrcVl7" column="PTNT_CTRL_CHRC_VL_7"/>
		<result property="ptntCtrlChrcVl8" column="PTNT_CTRL_CHRC_VL_8"/>
		<result property="ptntCtrlChrcVl9" column="PTNT_CTRL_CHRC_VL_9"/>
		<result property="ptntCtrlChrcVl10" column="PTNT_CTRL_CHRC_VL_10"/>
		<result property="ptntCtrlNmbrVl1" column="PTNT_CTRL_NMBR_VL_1"/>
		<result property="ptntCtrlNmbrVl2" column="PTNT_CTRL_NMBR_VL_2"/>
		<result property="ptntCtrlNmbrVl3" column="PTNT_CTRL_NMBR_VL_3"/>
		<result property="ptntCtrlNmbrVl4" column="PTNT_CTRL_NMBR_VL_4"/>
		<result property="ptntCtrlNmbrVl5" column="PTNT_CTRL_NMBR_VL_5"/>
		<result property="ptntCtrlNmbrVl6" column="PTNT_CTRL_NMBR_VL_6"/>
		<result property="ptntCtrlNmbrVl7" column="PTNT_CTRL_NMBR_VL_7"/>
		<result property="ptntCtrlNmbrVl8" column="PTNT_CTRL_NMBR_VL_8"/>
		<result property="ptntCtrlNmbrVl9" column="PTNT_CTRL_NMBR_VL_9"/>
		<result property="ptntCtrlNmbrVl10" column="PTNT_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="apstYmd" column="APST_YMD"/>
		<result property="apfnYmd" column="APFN_YMD"/>
		<result property="ctrlDscrCtn" column="CTRL_DSCR_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-listPtntCtrl (환자제어코드리스트조회) 
        Description :                                           apd_ctrlmmt_l01
                                            
		parameterType : com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO
		resultMap : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-listPtntCtrl-result
    -->
	<select id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-listPtntCtrl"  parameterType="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO"  resultMap="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-listPtntCtrl-result" useCache="true" flushCache="false">
		    select  /*SQL_ID: com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-listPtntCtrl */
		           PTNT_CTRL_CD as PTNT_CTRL_CD             /*        환자제어코드       */
		        ,  PTNT_DTLS_CTRL_CD as PTNT_DTLS_CTRL_CD        /*        환자세부제어코드   */
		        ,  PTNT_CTRL_NM as PTNT_CTRL_NM             /*        환자제어명         */
		        ,  PTNT_DTLS_CTRL_NM as PTNT_DTLS_CTRL_NM        /*        환자세부제어명     */
		        ,  PTNT_DTLS_CTRL_ALL_NM as PTNT_DTLS_CTRL_ALL_NM    /*        환자세부제어전체명 */
		        ,  PTNT_DTLS_CTRL_ABRV_NM as PTNT_DTLS_CTRL_ABRV_NM   /*        환자세부제어약어명 */
		        ,  PTNT_LWRN_CTRL_CD as PTNT_LWRN_CTRL_CD          /*        환자하위제어코드   */
		        ,  CTRL_SORT_SQNC as CTRL_SORT_SQNC                /*        제어정렬순서       */
		        ,  PTNT_CTRL_CHRC_VL1 as PTNT_CTRL_CHRC_VL_1       /*        환자제어문자값1    */
		        ,  PTNT_CTRL_CHRC_VL2 as PTNT_CTRL_CHRC_VL_2       /*        환자제어문자값2    */
		        ,  PTNT_CTRL_CHRC_VL3 as PTNT_CTRL_CHRC_VL_3       /*        환자제어문자값3    */
		        ,  PTNT_CTRL_CHRC_VL4 as PTNT_CTRL_CHRC_VL_4       /*        환자제어문자값4    */
		        ,  PTNT_CTRL_CHRC_VL5 as PTNT_CTRL_CHRC_VL_5       /*        환자제어문자값5    */
		        ,  PTNT_CTRL_CHRC_VL6 as PTNT_CTRL_CHRC_VL_6       /*        환자제어문자값6    */
		        ,  PTNT_CTRL_CHRC_VL7 as PTNT_CTRL_CHRC_VL_7       /*        환자제어문자값7    */
		        ,  PTNT_CTRL_CHRC_VL8 as PTNT_CTRL_CHRC_VL_8       /*        환자제어문자값8    */
		        ,  PTNT_CTRL_CHRC_VL9 as PTNT_CTRL_CHRC_VL_9       /*        환자제어문자값9    */
		        ,  PTNT_CTRL_CHRC_VL10 as PTNT_CTRL_CHRC_VL_10      /*        환자제어문자값10   */
		        ,  PTNT_CTRL_NMBR_VL1 as PTNT_CTRL_NMBR_VL_1       /*        환자제어숫자값1    */
		        ,  PTNT_CTRL_NMBR_VL2 as PTNT_CTRL_NMBR_VL_2       /*        환자제어숫자값2    */
		        ,  PTNT_CTRL_NMBR_VL3 as PTNT_CTRL_NMBR_VL_3       /*        환자제어숫자값3    */
		        ,  PTNT_CTRL_NMBR_VL4 as PTNT_CTRL_NMBR_VL_4       /*        환자제어숫자값4    */
		        ,  PTNT_CTRL_NMBR_VL5 as PTNT_CTRL_NMBR_VL_5       /*        환자제어숫자값5    */
		        ,  PTNT_CTRL_NMBR_VL6 as PTNT_CTRL_NMBR_VL_6       /*        환자제어숫자값6    */
		        ,  PTNT_CTRL_NMBR_VL7 as PTNT_CTRL_NMBR_VL_7       /*        환자제어숫자값7    */
		        ,  PTNT_CTRL_NMBR_VL8 as PTNT_CTRL_NMBR_VL_8       /*        환자제어숫자값8    */
		        ,  PTNT_CTRL_NMBR_VL9 as PTNT_CTRL_NMBR_VL_9       /*        환자제어숫자값9    */
		        ,  PTNT_CTRL_NMBR_VL10 as PTNT_CTRL_NMBR_VL_10      /*        환자제어숫자값10   */
		        ,  APLY_PART_CD as APLY_PART_CD             /*        적용파트코드        */
		        ,  to_char(APST_YMD, 'yyyymmdd') as APST_YMD   /*        적용시작일자        */
		        ,  to_char(APFN_YMD, 'yyyymmdd') as APFN_YMD   /*        적용종료일자        */
		        ,  CTRL_DSCR_CTN as CTRL_DSCR_CTN            /*        제어설명내용        */
		     from
		           APCTRLMMT a
		    where
		          1=1
		      <if test="ptntCtrlCd != null and ptntCtrlCd != ''"> 
		      and  a.PTNT_CTRL_CD       = #{ptntCtrlCd}
		      </if>
		      <if test="ptntCtrlNm != null and ptntCtrlNm != ''">
		      and  a.PTNT_CTRL_NM       like '%'||#{ptntCtrlNm}||'%'
		      </if>
		      <if test="ptntDtlsCtrlCd != null and ptntDtlsCtrlCd != ''">
		      and  a.PTNT_DTLS_CTRL_CD  = #{ptntDtlsCtrlCd}
		      </if>
		      <if test="ptntLwrnCtrlCd != null and ptntLwrnCtrlCd != ''">
		      and  a.PTNT_LWRN_CTRL_CD  = #{ptntLwrnCtrlCd}
		      </if>
		      <if test="ptntCtrlChrcVl1 != null and ptntCtrlChrcVl1 != ''">
		      and  a.PTNT_CTRL_CHRC_VL1  = #{ptntCtrlChrcVl1}
		      </if>
		      <if test="ptntCtrlChrcVl2 != null and ptntCtrlChrcVl2 != ''">
		      and  a.PTNT_CTRL_CHRC_VL2  = #{ptntCtrlChrcVl2}
		      </if>
		      <if test="ptntCtrlChrcVl3 != null and ptntCtrlChrcVl3 != ''">
		      and  a.PTNT_CTRL_CHRC_VL3  = #{ptntCtrlChrcVl3})
		      </if>
		      <if test="ptntCtrlChrcVl4 != null and ptntCtrlChrcVl4 != ''">
		      and  a.PTNT_CTRL_CHRC_VL4  = #{ptntCtrlChrcVl4})
		      </if>
		      <if test="ptntCtrlChrcVl5 != null and ptntCtrlChrcVl5 != ''">
		      and  a.PTNT_CTRL_CHRC_VL5  = #{ptntCtrlChrcVl5})
		      </if>
		      <if test="ptntCtrlChrcVl6 != null and ptntCtrlChrcVl6 != ''">
		      and  a.PTNT_CTRL_CHRC_VL6  = #{ptntCtrlChrcVl6})
		      </if>
		      <if test="ptntCtrlChrcVl7 != null and ptntCtrlChrcVl7 != ''">
		      and  a.PTNT_CTRL_CHRC_VL7  = #{ptntCtrlChrcVl7})
		      </if>
		      <if test="ptntCtrlChrcVl8 != null and ptntCtrlChrcVl8 != ''">
		      and  a.PTNT_CTRL_CHRC_VL8  = #{ptntCtrlChrcVl8})
		      </if>
		      <if test="ptntCtrlChrcVl9 != null and ptntCtrlChrcVl9 != ''">
		      and  a.PTNT_CTRL_CHRC_VL9  = #{ptntCtrlChrcVl9})
		      </if>
		      <if test="ptntCtrlChrcVl10 != null and ptntCtrlChrcVl10 != ''">
		      and  a.PTNT_CTRL_CHRC_VL10  = #{ptntCtrlChrcVl10})
		      </if>
		      <if test="ptntCtrlNmbrVl1 != null">
		      and  a.PTNT_CTRL_NMBR_VL1  = #{ptntCtrlNmbrVl1})
		      </if>
		      <if test="ptntCtrlNmbrVl2 != null">
		      and  a.PTNT_CTRL_NMBR_VL2  = #{ptntCtrlNmbrVl2})
		      </if>
		      <if test="ptntCtrlNmbrVl3 != null">
		      and  a.PTNT_CTRL_NMBR_VL3  = #{ptntCtrlNmbrVl3})
		      </if>
		      <if test="ptntCtrlNmbrVl4 != null">
		      and  a.PTNT_CTRL_NMBR_VL4  = #{ptntCtrlNmbrVl4})
		      </if>
		      <if test="ptntCtrlNmbrVl5 != null">
		      and  a.PTNT_CTRL_NMBR_VL5  = #{ptntCtrlNmbrVl5})
		      </if>
		      <if test="ptntCtrlNmbrVl6 != null">
		      and  a.PTNT_CTRL_NMBR_VL6  = #{ptntCtrlNmbrVl6})
		      </if>
		      <if test="ptntCtrlNmbrVl7 != null">
		      and  a.PTNT_CTRL_NMBR_VL7  = #{ptntCtrlNmbrVl7})
		      </if>
		      <if test="ptntCtrlNmbrVl8 != null">
		      and  a.PTNT_CTRL_NMBR_VL8  = #{ptntCtrlNmbrVl8})
		      </if>
		      <if test="ptntCtrlNmbrVl9 != null">
		      and  a.PTNT_CTRL_NMBR_VL9  = #{ptntCtrlNmbrVl9})
		      </if>
		      <if test="ptntCtrlNmbrVl10 != null">
		      and  a.PTNT_CTRL_NMBR_VL10  = #{ptntCtrlNmbrVl10})
		      </if>   
		      and  trunc(sysdate) between decode(#{apstYmd}, null, a.APST_YMD, to_date(#{apstYmd} , 'yyyymmdd'))
		                              and decode(#{apfnYmd}, null, a.APFN_YMD, to_date(#{apfnYmd} , 'yyyymmdd'))                     
		    order
		       by
		           PTNT_CTRL_CD
		        ,  CTRL_SORT_SQNC
		        ,  PTNT_DTLS_CTRL_CD 
	</select>




	<resultMap id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneSmsTrsmTlnoValdYn-result" type="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO">
	
		<result property="ptntCtrlChrcVl1" column="PTNT_CTRL_CHRC_VL1"/>
		<result property="ptntCtrlChrcVl2" column="PTNT_CTRL_CHRC_VL2"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneSmsTrsmTlnoValdYn () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO
		resultMap : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneSmsTrsmTlnoValdYn-result
    -->
	<select id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneSmsTrsmTlnoValdYn"  parameterType="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO"  resultMap="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneSmsTrsmTlnoValdYn-result" useCache="true" flushCache="false">
		 select /*SQL_ID: com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneSmsTrsmTlnoValdYn */
		        PTNT_CTRL_CHRC_VL1
		     , PTNT_CTRL_CHRC_VL2
		   from APCTRLMMT
		  where PTNT_CTRL_CD = #{ptntCtrlCd}
		    and translate(#{ptntCtrlChrcVl1}, '0123456789'||#{ptntCtrlChrcVl1}, '0123456789')
		between translate(PTNT_CTRL_CHRC_VL1, '0123456789'||PTNT_CTRL_CHRC_VL1, '0123456789')
		    and translate(PTNT_CTRL_CHRC_VL2, '0123456789'||PTNT_CTRL_CHRC_VL2, '0123456789')
	</select>




	<resultMap id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneKktkTmplCd-result" type="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO">
	
		<result property="ptntDtlsCtrlCd" column="PTNT_DTLS_CTRL_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneKktkTmplCd () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO
		resultMap : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneKktkTmplCd-result
    -->
	<select id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneKktkTmplCd"  parameterType="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO"  resultMap="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneKktkTmplCd-result" useCache="true" flushCache="false">
		select /*SQL_ID: com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneKktkTmplCd */
		     PTNT_DTLS_CTRL_CD
		from APCTRLMMT
		where PTNT_CTRL_CD = 'AP306'
		and replace(#{mesgCtn}, ' ','') like    replace(PTNT_CTRL_CHRC_VL1,' ','')
		and rownum = 1; 
	</select>




	<resultMap id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneFindAlimTkTmplCd-result" type="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO">
	
		<result property="ptntDtlsCtrlCd" column="PTNT_DTLS_CTRL_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneFindAlimTkTmplCd () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO
		resultMap : com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneFindAlimTkTmplCd-result
    -->
	<select id="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneFindAlimTkTmplCd"  parameterType="com.sds.healthcare.ehr.adm.ap.apa.vo.ApaPtntCtrlCdComnDVO"  resultMap="com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneFindAlimTkTmplCd-result" useCache="true" flushCache="false">
		select  /*SQL_ID: com-sds-healthcare-ehr-adm-ap-apa-dao-ApaPtntCtrlCdComnDAO-selectOneFindAlimTkTmplCd */
		       max(PTNT_DTLS_CTRL_CD) as PTNT_DTLS_CTRL_CD
		  from  APCTRLMMT
		 where  PTNT_CTRL_CD = 'AP306'
		   and #{mesgCtn} like  PTNT_CTRL_CHRC_VL1 
		   and trunc(sysdate) between apst_ymd and apfn_ymd
		   and rownum = 1
	</select>



</mapper>