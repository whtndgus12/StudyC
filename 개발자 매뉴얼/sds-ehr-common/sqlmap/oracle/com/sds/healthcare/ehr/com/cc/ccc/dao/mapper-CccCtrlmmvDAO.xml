<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    SQL File Name : mapper_CccCtrlmmvDAO_sql.xml 
    Description :                                      제어테이블
                  -->
<mapper namespace="CccCtrlmmvDAO">


	<resultMap id="com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCtrlmmvTabl-result" type="com.sds.healthcare.ehr.com.cc.ccc.vo.CccCtrlmmvDVO">
	
		<result property="tablId" column="TABL_ID"/>
		<result property="comnCtrlCd" column="COMN_CTRL_CD"/>
		<result property="comnDtlsCtrlCd" column="COMN_DTLS_CTRL_CD"/>
		<result property="comnCtrlNm" column="COMN_CTRL_NM"/>
		<result property="comnDtlsCtrlNm" column="COMN_DTLS_CTRL_NM"/>
		<result property="comnDtlsCtrlAllNm" column="COMN_DTLS_CTRL_ALL_NM"/>
		<result property="comnDtlsCtrlAbrvNm" column="COMN_DTLS_CTRL_ABRV_NM"/>
		<result property="comnLwrnCtrlCd" column="COMN_LWRN_CTRL_CD"/>
		<result property="ctrlSortSqnc" column="CTRL_SORT_SQNC"/>
		<result property="comnCtrlChrcVl1" column="COMN_CTRL_CHRC_VL_1"/>
		<result property="comnCtrlChrcVl2" column="COMN_CTRL_CHRC_VL_2"/>
		<result property="comnCtrlChrcVl3" column="COMN_CTRL_CHRC_VL_3"/>
		<result property="comnCtrlChrcVl4" column="COMN_CTRL_CHRC_VL_4"/>
		<result property="comnCtrlChrcVl5" column="COMN_CTRL_CHRC_VL_5"/>
		<result property="comnCtrlChrcVl6" column="COMN_CTRL_CHRC_VL_6"/>
		<result property="comnCtrlChrcVl7" column="COMN_CTRL_CHRC_VL_7"/>
		<result property="comnCtrlChrcVl8" column="COMN_CTRL_CHRC_VL_8"/>
		<result property="comnCtrlChrcVl9" column="COMN_CTRL_CHRC_VL_9"/>
		<result property="comnCtrlChrcVl10" column="COMN_CTRL_CHRC_VL_10"/>
		<result property="comnCtrlNmbrVl1" column="COMN_CTRL_NMBR_VL_1"/>
		<result property="comnCtrlNmbrVl2" column="COMN_CTRL_NMBR_VL_2"/>
		<result property="comnCtrlNmbrVl3" column="COMN_CTRL_NMBR_VL_3"/>
		<result property="comnCtrlNmbrVl4" column="COMN_CTRL_NMBR_VL_4"/>
		<result property="comnCtrlNmbrVl5" column="COMN_CTRL_NMBR_VL_5"/>
		<result property="comnCtrlNmbrVl6" column="COMN_CTRL_NMBR_VL_6"/>
		<result property="comnCtrlNmbrVl7" column="COMN_CTRL_NMBR_VL_7"/>
		<result property="comnCtrlNmbrVl8" column="COMN_CTRL_NMBR_VL_8"/>
		<result property="comnCtrlNmbrVl9" column="COMN_CTRL_NMBR_VL_9"/>
		<result property="comnCtrlNmbrVl10" column="COMN_CTRL_NMBR_VL_10"/>
		<result property="aplyPartCd" column="APLY_PART_CD"/>
		<result property="ctrlDscrCtn" column="CTRL_DSCR_CTN"/>
		<result property="rmrkCtn" column="RMRK_CTN"/>
		<result property="oprnDvsnCd" column="OPRN_DVSN_CD"/>
		<result property="englCtrlQstrCtn" column="ENGL_CTRL_QSTR_CTN"/>
		<result property="asctRltnRfrnCd" column="ASCT_RLTN_RFRN_CD"/>
		<result property="hlscCtrlSno" column="HLSC_CTRL_SNO"/>
		<result property="bsplCd" column="BSPL_CD"/>
		<result property="misSystId" column="MIS_SYST_ID"/>
		<result property="lnkdTablId" column="LNKD_TABL_ID"/>
		<result property="cmptCdAsgnId" column="CMPT_CD_ASGN_ID"/>
		<result property="acwrCdAsgnId" column="ACWR_CD_ASGN_ID"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCtrlmmvTabl () 
        Description :                                           제어테이블 조회
                                            
		parameterType : com.sds.healthcare.ehr.com.cc.ccc.vo.CccCtrlmmvDVO
		resultMap : com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCtrlmmvTabl-result
    -->
	<select id="com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCtrlmmvTabl"  parameterType="com.sds.healthcare.ehr.com.cc.ccc.vo.CccCtrlmmvDVO"  resultMap="com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCtrlmmvTabl-result" useCache="true" flushCache="false">
		/*SQL_ID: com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCtrlmmvTabl */
		<![CDATA[
					select  /*+ ccd_ctrlmmv_l01$S01_제어테이블 조회 DAM */
						   TABL_ID as TABL_ID
						  ,COMN_CTRL_CD as COMN_CTRL_CD
						  ,COMN_DTLS_CTRL_CD as COMN_DTLS_CTRL_CD
						  ,COMN_CTRL_NM as COMN_CTRL_NM
						  ,COMN_DTLS_CTRL_NM as COMN_DTLS_CTRL_NM
						  ,COMN_DTLS_CTRL_ALL_NM as COMN_DTLS_CTRL_ALL_NM
						  ,COMN_DTLS_CTRL_ABRV_NM as COMN_DTLS_CTRL_ABRV_NM
						  ,COMN_LWRN_CTRL_CD as COMN_LWRN_CTRL_CD
						  ,CTRL_SORT_SQNC as CTRL_SORT_SQNC
						  ,COMN_CTRL_CHRC_VL1 as COMN_CTRL_CHRC_VL_1
						  ,COMN_CTRL_CHRC_VL2 as COMN_CTRL_CHRC_VL_2
						  ,COMN_CTRL_CHRC_VL3 as COMN_CTRL_CHRC_VL_3
						  ,COMN_CTRL_CHRC_VL4 as COMN_CTRL_CHRC_VL_4
						  ,COMN_CTRL_CHRC_VL5 as COMN_CTRL_CHRC_VL_5
						  ,COMN_CTRL_CHRC_VL6 as COMN_CTRL_CHRC_VL_6
						  ,COMN_CTRL_CHRC_VL7 as COMN_CTRL_CHRC_VL_7
						  ,COMN_CTRL_CHRC_VL8 as COMN_CTRL_CHRC_VL_8
						  ,COMN_CTRL_CHRC_VL9 as COMN_CTRL_CHRC_VL_9
						  ,COMN_CTRL_CHRC_VL10 as COMN_CTRL_CHRC_VL_10
						  ,COMN_CTRL_NMBR_VL1 as COMN_CTRL_NMBR_VL_1
						  ,COMN_CTRL_NMBR_VL2 as COMN_CTRL_NMBR_VL_2
						  ,COMN_CTRL_NMBR_VL3 as COMN_CTRL_NMBR_VL_3
						  ,COMN_CTRL_NMBR_VL4 as COMN_CTRL_NMBR_VL_4
						  ,COMN_CTRL_NMBR_VL5 as COMN_CTRL_NMBR_VL_5
						  ,COMN_CTRL_NMBR_VL6 as COMN_CTRL_NMBR_VL_6
						  ,COMN_CTRL_NMBR_VL7 as COMN_CTRL_NMBR_VL_7
						  ,COMN_CTRL_NMBR_VL8 as COMN_CTRL_NMBR_VL_8
						  ,COMN_CTRL_NMBR_VL9 as COMN_CTRL_NMBR_VL_9
						  ,COMN_CTRL_NMBR_VL10 as COMN_CTRL_NMBR_VL_10
						  ,APLY_PART_CD as APLY_PART_CD
						  ,CTRL_DSCR_CTN as CTRL_DSCR_CTN
						  ,RMRK_CTN as RMRK_CTN
						  ,OPRN_DVSN_CD as OPRN_DVSN_CD
						  ,ENGL_CTRL_QSTR_CTN as ENGL_CTRL_QSTR_CTN
						  ,ASCT_RLTN_RFRN_CD as ASCT_RLTN_RFRN_CD
						  ,HLSC_CTRL_SNO as HLSC_CTRL_SNO
						  ,BSPL_CD as BSPL_CD
						  ,MIS_SYST_ID as MIS_SYST_ID
						  ,LNKD_TABL_ID as LNKD_TABL_ID
						  ,CMPT_CD_ASGN_ID as CMPT_CD_ASGN_ID
						  ,ACWR_CD_ASGN_ID as ACWR_CD_ASGN_ID
					 from CCCTRLMMV
					where TABL_ID      = #{tablId}
					  and COMN_CTRL_CD = #{comnCtrlCd}
					  and trunc(sysdate) BEtween trunc(nvl(APST_YMD,sysdate - 1)) and trunc(nvl(APFN_YMD,sysdate + 1))
					]]>
			
			
			
			
			
	</select>




	<resultMap id="com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCntoData-result" type="com.sds.healthcare.ehr.com.cc.ccc.vo.CccCtrlmmvDVO">
	
		<result property="comnDtlsCtrlCd" column="COMN_DTLS_CTRL_CD"/>
		<result property="comnDtlsCtrlNm" column="COMN_DTLS_CTRL_NM"/>
		<result property="comnDtlsCtrlAllNm" column="COMN_DTLS_CTRL_ALL_NM"/>
		<result property="comnDtlsCtrlAllNm1" column="COMN_DTLS_CTRL_ALL_NM_1"/>
		<result property="comnCtrlChrcVl1" column="COMN_CTRL_CHRC_VL1"/>
		<result property="comnCtrlChrcVl2" column="COMN_CTRL_CHRC_VL2"/>
		<result property="comnCtrlChrcVl3" column="COMN_CTRL_CHRC_VL3"/>
		<result property="comnCtrlChrcVl4" column="COMN_CTRL_CHRC_VL4"/>
		<result property="comnCtrlChrcVl5" column="COMN_CTRL_CHRC_VL5"/>
		<result property="comnCtrlChrcVl6" column="COMN_CTRL_CHRC_VL6"/>
		<result property="comnCtrlChrcVl7" column="COMN_CTRL_CHRC_VL7"/>
		<result property="comnCtrlChrcVl8" column="COMN_CTRL_CHRC_VL8"/>
		<result property="comnCtrlChrcVl9" column="COMN_CTRL_CHRC_VL9"/>
		<result property="comnCtrlChrcVl10" column="COMN_CTRL_CHRC_VL10"/>
		<result property="comnCtrlNmbrVl1" column="COMN_CTRL_NMBR_VL1"/>
		<result property="comnCtrlNmbrVl2" column="COMN_CTRL_NMBR_VL2"/>
		<result property="comnCtrlNmbrVl3" column="COMN_CTRL_NMBR_VL3"/>
		<result property="comnCtrlNmbrVl4" column="COMN_CTRL_NMBR_VL4"/>
		<result property="comnCtrlNmbrVl5" column="COMN_CTRL_NMBR_VL5"/>
		<result property="comnCtrlNmbrVl6" column="COMN_CTRL_NMBR_VL6"/>
		<result property="comnCtrlNmbrVl7" column="COMN_CTRL_NMBR_VL7"/>
		<result property="comnCtrlNmbrVl8" column="COMN_CTRL_NMBR_VL8"/>
		<result property="comnCtrlNmbrVl9" column="COMN_CTRL_NMBR_VL9"/>
		<result property="comnCtrlNmbrVl10" column="COMN_CTRL_NMBR_VL10"/>
		<result property="comnDtlsCtrlAbrvNm" column="COMN_DTLS_CTRL_ABRV_NM"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCntoData (컨트롤 데이터 조회) 
        Description :                                           컨트롤 데이터 조회
                                            
		parameterType : com.sds.healthcare.ehr.com.cc.ccc.vo.CccCtrlmmvDVO
		resultMap : com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCntoData-result
    -->
	<select id="com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCntoData"  parameterType="com.sds.healthcare.ehr.com.cc.ccc.vo.CccCtrlmmvDVO"  resultMap="com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCntoData-result" useCache="true" flushCache="false">
		/*SQL_ID: com-sds-healthcare-ehr-com-cc-ccc-dao-CccCtrlmmvDAO-listCntoData */
		<![CDATA[
		select  /*+ ccd_ctrlmmv_l03$S01_컨트롤 데이터 조회  */ 
		            COMN_DTLS_CTRL_CD
		           , COMN_DTLS_CTRL_NM
		           , COMN_DTLS_CTRL_ALL_NM
		           , COMN_DTLS_CTRL_CD || ' - ' || COMN_DTLS_CTRL_NM AS "COMN_DTLS_CTRL_ALL_NM_1"
		           , COMN_CTRL_CHRC_VL1
		           , COMN_CTRL_CHRC_VL2
		           , COMN_CTRL_CHRC_VL3
		           , COMN_CTRL_CHRC_VL4
		           , COMN_CTRL_CHRC_VL5
		           , COMN_CTRL_CHRC_VL6
		           , COMN_CTRL_CHRC_VL7
		           , COMN_CTRL_CHRC_VL8
		           , COMN_CTRL_CHRC_VL9
		           , COMN_CTRL_CHRC_VL10
		           , COMN_CTRL_NMBR_VL1
		           , COMN_CTRL_NMBR_VL2
		           , COMN_CTRL_NMBR_VL3
		           , COMN_CTRL_NMBR_VL4
		           , COMN_CTRL_NMBR_VL5
		           , COMN_CTRL_NMBR_VL6
		           , COMN_CTRL_NMBR_VL7
		           , COMN_CTRL_NMBR_VL8
		           , COMN_CTRL_NMBR_VL9
		           , COMN_CTRL_NMBR_VL10
		           , COMN_DTLS_CTRL_ABRV_NM
		    from     CCCTRLMMV
		    where    trunc(nvl(APST_YMD, sysdate)) <= trunc(sysdate)
		      and    trunc(nvl(APFN_YMD, sysdate)) >= trunc(sysdate)
		      and    TABL_ID      = #{tablId}
		      and    COMN_CTRL_CD = #{inqrDvsnNm}
		      and    ((nvl(#{optnChrcVl1} ,'*') = '*') or (#{optnChrcVl1} like '%' || nvl(COMN_CTRL_CHRC_VL1, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl2} ,'*') = '*') or (#{optnChrcVl2} like '%' || nvl(COMN_CTRL_CHRC_VL2, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl3} ,'*') = '*') or (#{optnChrcVl3} like '%' || nvl(COMN_CTRL_CHRC_VL3, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl4} ,'*') = '*') or (#{optnChrcVl4} like '%' || nvl(COMN_CTRL_CHRC_VL4, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl5} ,'*') = '*') or (#{optnChrcVl5} like '%' || nvl(COMN_CTRL_CHRC_VL5, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl6} ,'*') = '*') or (#{optnChrcVl6} like '%' || nvl(COMN_CTRL_CHRC_VL6, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl7} ,'*') = '*') or (#{optnChrcVl7} like '%' || nvl(COMN_CTRL_CHRC_VL7, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl8} ,'*') = '*') or (#{optnChrcVl8} like '%' || nvl(COMN_CTRL_CHRC_VL8, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl9} ,'*') = '*') or (#{optnChrcVl9} like '%' || nvl(COMN_CTRL_CHRC_VL9, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl10},'*') = '*') or (#{optnChrcVl10} like '%' || nvl(COMN_CTRL_CHRC_VL10, '!!') || '%'))
		      and    ((nvl(#{optnChrcVl11},'*') = '*') or (#{optnChrcVl11} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL1), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl12},'*') = '*') or (#{optnChrcVl12} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL2), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl13},'*') = '*') or (#{optnChrcVl13} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL3), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl14},'*') = '*') or (#{optnChrcVl14} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL4), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl15},'*') = '*') or (#{optnChrcVl15} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL5), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl16},'*') = '*') or (#{optnChrcVl16} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL6), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl17},'*') = '*') or (#{optnChrcVl17} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL7), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl18},'*') = '*') or (#{optnChrcVl18} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL8), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl19},'*') = '*') or (#{optnChrcVl19} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL9), '!!') || '%'))
		      and    ((nvl(#{optnChrcVl20},'*') = '*') or (#{optnChrcVl20} like '%' || nvl(to_char(COMN_CTRL_NMBR_VL10), '!!') || '%'))
		    order by CTRL_SORT_SQNC
		]]>
	</select>



</mapper>