<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    SQL File Name : mapper_HzuRpspAprlPrsgDAO_sql.xml 
    Description :                                      결재상신처리 DAO
                  -->
<mapper namespace="HzuRpspAprlPrsgDAO">




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlBdbkRgst (결재본문 등록) 
        Description :                                           cud_eaplbmt_i01$I01_결재본문
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<insert id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlBdbkRgst"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    insert  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlBdbkRgst */
		      into  HZEAPLBMT
		            (
		               APRL_SNO
		            ,  BDBK_CTN
		            ,  BDBK_KIND_CD
		            ,  BDBK_IMAG_BD
		            ,  BDBK_CMRN_CTN
		            ,  FRST_RGSR_ID       /* 최초등록자ID */
		            ,  FRST_RGST_IP       /* 최초등록IP */
		            ,  FRST_RGST_DT       /* 최초등록일시 */
		            ,  FRST_RGST_CLNT_PRGM_ID  /* 최초등록SMC클라이언트프로그램ID */
		            ,  FRST_RGST_SRVR_PRGM_ID  /* 최초등록SMC서버프로그램ID */
		            ,  LAST_UPDR_ID       /* 최종수정자ID */
		            ,  LAST_UPDT_IP       /* 최종수정IP */
		            ,  LAST_UPDT_DT       /* 최종수정일시 */
		            ,  LAST_UPDT_CLNT_PRGM_ID  /* 최종수정SMC클라이언트프로그램ID */
		            ,  LAST_UPDT_SRVR_PRGM_ID  /* 최종수정SMC서버프로그램ID */
		            )
		    values  (
		               #{aprlSno}
		            ,  #{bdbkCtn}
		            ,  #{bdbkKindCd}
		            ,  #{bdbkImagBdByte}
		            ,  #{bdbkCmrnCtn}
		            ,  #{gvUserId}
		            ,  #{gvUserIp}
		            ,  sysdate
		            ,  #{gvClntPrgmId}
		            ,  #{gvSrvrPrgmId}
		            ,  #{gvUserId}
		            ,  #{gvUserIp}
		            ,  sysdate
		            ,  #{gvClntPrgmId}
		            ,  #{gvSrvrPrgmId}
		            )
			]]>
	</insert>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlRpspAtflRgst (결재상신 첨부파일 등록) 
        Description :                                           cud_eaplfmt_i02$I01_결재상신 첨부파일
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<insert id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlRpspAtflRgst"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    insert  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlRpspAtflRgst */
		       into  HZEAPLFMT( 
		                            APRL_SNO
		                          , ATFL_SNO
		                          , FILE_NM
		                          , FILE_SIZE_CNT
		                          , ATFL_BD
		                          , ATFL_SQNC
		                          , FRST_RGSR_ID       /* 최초등록자ID */
		                          , FRST_RGST_IP       /* 최초등록IP */
		                          , FRST_RGST_DT       /* 최초등록일시 */
		                          , FRST_RGST_CLNT_PRGM_ID  /* 최초등록SMC클라이언트프로그램ID */
		                          , FRST_RGST_SRVR_PRGM_ID  /* 최초등록SMC서버프로그램ID */
		                          , LAST_UPDR_ID       /* 최종수정자ID */
		                          , LAST_UPDT_IP       /* 최종수정IP */
		                          , LAST_UPDT_DT       /* 최종수정일시 */
		                          , LAST_UPDT_CLNT_PRGM_ID  /* 최종수정SMC클라이언트프로그램ID */
		                          , LAST_UPDT_SRVR_PRGM_ID  /* 최종수정SMC서버프로그램ID */
		                          )
		                  values  ( #{aprlSno}
		                          , #{atflSqnc}
		                          , #{fileNm}
		                          , #{fileSizeCnt}
		                          , #{atflBdByte}
		                          , #{atflSqnc}
		                          , #{gvUserId}
		                          , #{gvUserIp}
		                          , sysdate
		                          , #{gvClntPrgmId}
		                          , #{gvSrvrPrgmId}
		                          , #{gvUserId}
		                          , #{gvUserIp}
		                          , sysdate
		                          , #{gvClntPrgmId}
		                          , #{gvSrvrPrgmId}
		                          )
			]]>
	</insert>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlRgst (결재 등록) 
        Description :                                           cud_eaplmmt_i01$S01_결재
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<insert id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlRgst"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    insert  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlRgst */
		      into  HZEAPLMMT
		            (
		                  APRL_SNO
		                , APRL_TITL_NM
		                , DCMN_CRTN_YMD
		                , PHSP_CDNG_NM
		                , SYST_ID
		                , MIS_ID
		                , TMZN_CTN
		                , DMS_TRNM_OPTN_CD
		                , DRFR_ID
		                , DRFR_EP_ID
		                , APRL_KIND_CD
		                , SCRY_DCMN_OPTN_CTN
		                , SCRY_DCMN_OPTN_CD
		                , EMRG_YN
		                , NTFC_EMAIL_TRDV_CD
		                , APRL_PATH_INLS_YN
		                , APNT_RPSP_YN
		                , APNT_RPSP_DT
		                , APRL_STTS_CD
		                , APRL_RPSP_CNCL_YN
		                , APRL_RPSP_CNCL_OPIN_CTN
		                , APRL_RPSP_CNCL_DT
		                , APRL_RPSP_SUCS_YN
		                , APRL_RPSP_ERR_CTN
		                , APRL_RSRV_YN
		                , MYSN_APRL_NO
		                , APRL_TYPE_CD
		                , FRST_RGSR_ID       /* 최초등록자ID */
		                , FRST_RGST_IP       /* 최초등록IP */
		                , FRST_RGST_DT       /* 최초등록일시 */
		                , FRST_RGST_CLNT_PRGM_ID  /* 최초등록SMC클라이언트프로그램ID */
		                , FRST_RGST_SRVR_PRGM_ID  /* 최초등록SMC서버프로그램ID */
		                , LAST_UPDR_ID       /* 최종수정자ID */
		                , LAST_UPDT_IP       /* 최종수정IP */
		                , LAST_UPDT_DT       /* 최종수정일시 */
		                , LAST_UPDT_CLNT_PRGM_ID  /* 최종수정SMC클라이언트프로그램ID */
		                , LAST_UPDT_SRVR_PRGM_ID  /* 최종수정SMC서버프로그램ID */
		            )
		    values  (
					   (SELECT NVL(MAX(APRL_SNO),0)+1 FROM HZEAPLMMT)
		            ,  #{aprlTitlNm}
		            ,  sysdate
		            ,  #{phspCdngNm}
		            ,  #{systId}
		            ,  #{misId}
		            ,  #{tmznCtn}
		            ,  #{dmsTrnmOptnCd}
		            ,  #{drfrId}
		            ,  #{drfrEpId}
		            ,  #{aprlKindCd}
		            ,  #{scryDcmnOptnCtn}
		            ,  #{scryDcmnOptnCd}
		            ,  #{emrgYn}
		            ,  #{ntfcEmailTrdvCd}
		            ,  #{aprlPathInlsYn}
		            ,  #{apntRpspYn}
		            ,  to_date(#{apntRpspDt},'yyyy-mm-dd')
		            ,  #{aprlSttsCd}
		            ,  #{aprlRpspCnclYn}
		            ,  #{aprlRpspCnclOpinCtn}
		            ,  to_date(#{aprlRpspCnclDt},'yyyy-mm-dd')
		            ,  #{aprlRpspSucsYn}
		            ,  #{aprlRpspErrCtn}
		            ,  #{aprlRsrvYn}
		            ,  #{mysnAprlNo}
		            ,  #{aprlTypeCd}
		            ,  #{gvUserId}
		            ,  #{gvUserIp}
		            ,  sysdate
		            ,  #{gvClntPrgmId}
		            ,  #{gvSrvrPrgmId}
		            ,  #{gvUserId}
		            ,  #{gvUserIp}
		            ,  sysdate
		            ,  #{gvClntPrgmId}
		            ,  #{gvSrvrPrgmId}
		            )
			]]>
	</insert>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlPathRgst (결재경로 등록) 
        Description :                                           cud_eaplpmt_i01$I01_결재경로
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<insert id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlPathRgst"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    insert  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-insertAprlPathRgst */
		      into  HZEAPLPMT
		            (
		              APRL_SNO
		            , APRL_PATH_SNO
		            , APRL_PRSG_DVSN_CD
		            , APRL_STUP_DVSN_CD
		            , SMSR_TRSM_YN
		            , APRL_DCMN_APRV_DT
		            , DCAB_ATHR_CD
		            , APRL_DCMN_ARVL_DT
		            , BDBK_UPDT_PSBL_CD
		            , CMPN_CD
		            , CMPN_NM
		            , DPRT_CD
		            , DPRT_NM
		            , DDLN_APLY_HH
		            , OCRS_NM
		            , OCRS_CD
		            , APRL_GRP_CD_VL
		            , APRL_GRP_NM
		            , EMAD_NM
		            , APRL_OPIN_CTN
		            , APNT_RPSP_DT
		            , PATH_MDFC_ATHR_CD
		            , APRL_SQNC
		            , EP_ID
		            , USER_ID
		            , USER_NM
		            , DPTY_APPR_YN
		            , FRST_RGSR_ID            /* 최초등록자ID */
		            , FRST_RGST_IP            /* 최초등록IP */
		            , FRST_RGST_DT            /* 최초등록일시 */
		            , FRST_RGST_CLNT_PRGM_ID  /* 최초등록SMC클라이언트프로그램ID */
		            , FRST_RGST_SRVR_PRGM_ID  /* 최초등록SMC서버프로그램ID */
		            , LAST_UPDR_ID            /* 최종수정자ID */
		            , LAST_UPDT_IP            /* 최종수정IP */
		            , LAST_UPDT_DT            /* 최종수정일시 */
		            , LAST_UPDT_CLNT_PRGM_ID  /* 최종수정SMC클라이언트프로그램ID */
		            , LAST_UPDT_SRVR_PRGM_ID  /* 최종수정SMC서버프로그램ID */
		            )
		    values  (
		               #{aprlSno}
		             , #{aprlPathSno}
		             , #{aprlPrsgDvsnCd}
		             , #{aprlStupDvsnCd}
		             , #{smsrTrsmYn}
		             , to_date(#{aprlDcmnAprvDt},'yyyy-mm-dd' )
		             , #{dcabAthrCd}
		             , to_date(#{aprlDcmnArvlDt},'yyyy-mm-dd' )
		             , #{bdbkUpdtPsblCd}
		             , #{cmpnCd}
		             , #{cmpnNm}
		             , #{dprtCd}
		             , #{dprtNm}
		             , #{ddlnAplyHh}
		             , #{ocrsNm}
		             , #{ocrsCd}
		             , #{aprlGrpCdVl}
		             , #{aprlGrpNm}
		             , nvl(#{emadNm}, 'NONE')
		             , #{aprlOpinCtn}
		             , to_date(#{apntRpspDt},'yyyy-mm-dd' )
		             , #{pathMdfcAthrCd}
		             , #{aprlSqnc}
		             , #{epId}
		             , #{userId}
		             , #{userNm}
		             , #{dptyApprYn}
		             , #{gvUserId}
		             , #{gvUserIp}
		             , sysdate
		             , #{gvClntPrgmId}
		             , #{gvSrvrPrgmId}
		             , #{gvUserId}
		             , #{gvUserIp}
		             , sysdate
		             , #{gvClntPrgmId}
		             , #{gvSrvrPrgmId}
		            )
			]]>
	</insert>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlBdbkDltn (결재본문 삭제) 
        Description :                                           cud_eaplbmt_d01$I01_결재본문삭제
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<delete id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlBdbkDltn"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    delete  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlBdbkDltn */
		      from  HZEAPLBMT
		     where  APRL_SNO = #{aprlSno}
			]]>
	</delete>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlAtchDltn (결재첨부 삭제) 
        Description :                                           cud_eaplfmt_d01$I01_결재첨부삭제
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<delete id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlAtchDltn"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    delete  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlAtchDltn */
		      from  HZEAPLFMT
		     where  APRL_SNO = #{aprlSno}
			]]>
	</delete>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlDltn (결재 삭제) 
        Description :                                           cud_eaplmmt_d01$I01_결재삭제
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<delete id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlDltn"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    delete  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlDltn */
		      from  HZEAPLMMT
		     where  APRL_SNO = #{aprlSno}
			]]>
	</delete>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlPathDltn (결재경로 삭제) 
        Description :                                           cud_eaplpmt_d01$I01_결재경로삭제
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<delete id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlPathDltn"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    delete  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-deleteAprlPathDltn */
		      from  HZEAPLPMT
		     where  APRL_SNO = #{aprlSno}
			]]>
	</delete>


	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlAtchBlobInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="atflBdByte" column="ATFL_BD_BYTE"/>
		<result property="atflBd" column="ATFL_BD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlAtchBlobInqr (결재첨부 BLOB 조회) 
        Description :                                           cud_eaplfmt_s01$S01_결재첨부 BLOB 조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlAtchBlobInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlAtchBlobInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlAtchBlobInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlAtchBlobInqr */
		              ATFL_BD AS ATFL_BD_BYTE
		            , '' AS ATFL_BD
		     from  HZEAPLFMT
		   where  APRL_SNO = #{aprlSno}
		      and  ATFL_SNO = #{atflSno}
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInqr (결재 조회) 
        Description :                                           cud_eaplmmt_s01$S01_결재
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInqr */
		             HZEAPLMMTQ.nextval as APRL_SNO
		      from dual
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInfmInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="emno" column="EMNO"/>
		<result property="epId" column="EP_ID"/>
		<result property="empyNm" column="EMPY_NM"/>
		<result property="indvEmadNm" column="INDV_EMAD_NM"/>
		<result property="cmpnCd" column="CMPN_CD"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="ocrsCd" column="OCRS_CD"/>
		<result property="afiRturVl" column="AFI_RTUR_VL"/>
		<result property="afiRturVl2" column="AFI_RTUR_VL_2"/>
		<result property="afiRturVl3" column="AFI_RTUR_VL_3"/>
		<result property="afiRturVl4" column="AFI_RTUR_VL_4"/>
		<result property="afiRturVl5" column="AFI_RTUR_VL_5"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInfmInqr (결재정보 조회) 
        Description :                                           cud_usermmt_s01$S01_결재정보 조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInfmInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInfmInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInfmInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlInfmInqr */
		           a.LGIN_ID          as EMNO           /* 사원번호 */
		         , a.EP_ID            as EP_ID          /* EP_ID */
		         , a.USER_NM          as EMPY_NM        /* 사원명  */
		         , a.EMAIL_ID         as INDV_EMAD_NM   /* e-mail */
		         , d.CMPN_CD          as CMPN_CD        /* 회사코드 */
		         , b.MDCR_DPRT_CD     as DPRT_CD        /* 부서코드 */
		         , a.OCRS_CD          as OCRS_CD        /* 직책코드 */
		         , m.DETL_CD_NM       as AFI_RTUR_VL    /* 회사명 */
		         , c.KORN_DPRT_NM     as AFI_RTUR_VL_2  /* 부서명 */
		         , nvl(k.COMN_CD_NM, e.COMN_CD_NM)       as AFI_RTUR_VL_3  /* 직책명 */
		         , f.COMN_CD_NM       as AFI_RTUR_VL_4  /* 직위 */
		         , g.COMN_CD_NM       as AFI_RTUR_VL_5  /* 직무 */
		      from CCUSERAMT a
		         , CCUSRDPHT b
		         , HZDEPTMMT c
		         , HZUSERMMT d
				 , HZEMCODET m  /* 사원 상세공통 */
				 , HZMICOCDT e
				 , HZMICOCDT f
				 , HZMICOCDT g
		         , HZMICOCDT k
		     where b.USER_ID         (+) = a.LGIN_ID
		       and c.DPRT_CD         (+) = b.MDCR_DPRT_CD
		       and d.EMNO            (+) = a.LGIN_ID
			   and m.MDM_COMN_DTLS_CD(+) = d.CMPN_CD
			   and m.COMN_GRP_CD     (+) = 'HA100'   /* 회사 */
			   and e.COMN_GRP_CD     (+) = 'GP007'   /* 직책 */
			   and e.MIS_COMN_CD     (+) = a.OCRS_CD
			   and f.COMN_GRP_CD     (+) = 'GP008'   /* 직위 */
			   and f.MIS_COMN_CD     (+) = a.OCPS_CD
			   and g.COMN_GRP_CD     (+) = 'GP009'   /* 직무 */
			   and g.MIS_COMN_CD     (+) = a.OCDT_CD
		       and a.LGIN_ID             = #{userId}
		       and k.COMN_GRP_CD     (+) = 'HHP_003'
		       and k.MIS_COMN_CD     (+) = d.HR_OCFM_CD   
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="userId" column="USER_ID"/>
		<result property="userNm" column="USER_NM"/>
		<result property="bsplCd" column="BSPL_CD"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="cmpnCd" column="CMPN_CD"/>
		<result property="occlCd" column="OCCL_CD"/>
		<result property="ocrsCd" column="OCRS_CD"/>
		<result property="ocpsCd" column="OCPS_CD"/>
		<result property="ocdtCd" column="OCDT_CD"/>
		<result property="indvEmadNm" column="INDV_EMAD_NM"/>
		<result property="epId" column="EP_ID"/>
		<result property="afiRturVl" column="AFI_RTUR_VL"/>
		<result property="afiRturVl1" column="AFI_RTUR_VL_1"/>
		<result property="afiRturVl2" column="AFI_RTUR_VL_2"/>
		<result property="afiRturVl3" column="AFI_RTUR_VL_3"/>
		<result property="afiRturVl4" column="AFI_RTUR_VL_4"/>
		<result property="afiRturVl5" column="AFI_RTUR_VL_5"/>
		<result property="afiRturVl6" column="AFI_RTUR_VL_6"/>
		<result property="afiRturVl7" column="AFI_RTUR_VL_7"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathInqr (결재경로 조회) 
        Description :                                           cud_useramt_l01$S01_결재자 조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathInqr */
				             a.LGIN_ID       as USER_ID
				           , a.USER_NM       as USER_NM
				           , b.BSPL_CD       as BSPL_CD       --사업장코드
				           , c.MDCR_DPRT_CD  as DPRT_CD       --부서코드
				           , b.CMPN_CD       as CMPN_CD       --회사코드
				           , a.OCCL_CD       as OCCL_CD       --직급
				           , a.OCRS_CD       as OCRS_CD       --직책
				           , a.OCPS_CD       as OCPS_CD       --직위
				           , a.OCDT_CD       as OCDT_CD       --직무
				           , a.EMAIL_ID      as INDV_EMAD_NM  --메일
				           , a.EP_ID         as EP_ID
				           , '0'             as AFI_RTUR_VL   --선택
				           , d.DETL_CD_NM    as AFI_RTUR_VL_1 -- 사업장명
				           , g.KORN_DPRT_NM  as AFI_RTUR_VL_2 -- 부서
				           , h.DETL_CD_NM    as AFI_RTUR_VL_3 -- 회사
				           , e.DETL_CD_NM    as AFI_RTUR_VL_4 -- 직급명
				           , nvl(k.COMN_CD_NM, f.DETL_CD_NM)    as AFI_RTUR_VL_5 -- 직책명
				           , i.DETL_CD_NM    as AFI_RTUR_VL_6 -- 직위명
				           , j.DETL_CD_NM    as AFI_RTUR_VL_7 -- 직무명
				    from  CCUSERAMT a
				           , HZUSERMMT b
				           , CCUSRDPHT c
				           , HZEMCODET d
				           , CCCMCDDMT e
				           , CCCMCDDMT f
				           , HZDEPTMMT g
				           , HZEMCODET h
				           , CCCMCDDMT i
				           , CCCMCDDMT j
				           , HZMICOCDT k
				    where    a.LGIN_ID = b.EMNO(+)
				      and    a.LGIN_ID = c.LGIN_ID(+)
				      and    c.MNSB_YN(+) = 'Y'
				      and    d.COMN_GRP_CD(+) = 'HA110'
				      and    b.BSPL_CD        = d.MDM_COMN_DTLS_CD(+)
				      and    c.MDCR_DPRT_CD   = g.DPRT_CD
				      and    h.COMN_GRP_CD(+) = 'HA100'
				      and    b.CMPN_CD        = h.MDM_COMN_DTLS_CD(+)
				      and    e.COMN_GRP_CD(+) = 'GP005'
				      and    a.OCCL_CD        = e.COMN_DTLS_CD(+)
				      and    f.COMN_GRP_CD(+) = 'GP007'
				      and    a.OCRS_CD        = f.COMN_DTLS_CD(+)
				      and    i.COMN_GRP_CD(+) = 'GP008'
				      and    a.OCPS_CD        = i.COMN_DTLS_CD(+)
				      and    j.COMN_GRP_CD(+) = 'GP009'
				      and    a.OCDT_CD        = j.COMN_DTLS_CD(+)
				      and    a.LGIN_ID        like  #{userNm} || '%'
				      and    k.COMN_GRP_CD(+) = 'HHP_003'
				      and    k.MIS_COMN_CD(+) = b.HR_OCFM_CD
				    order  by a.LGIN_ID
			]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathSttsInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="userId" column="USER_ID"/>
		<result property="userNm" column="USER_NM"/>
		<result property="bsplCd" column="BSPL_CD"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="cmpnCd" column="CMPN_CD"/>
		<result property="occlCd" column="OCCL_CD"/>
		<result property="ocrsCd" column="OCRS_CD"/>
		<result property="ocpsCd" column="OCPS_CD"/>
		<result property="ocdtCd" column="OCDT_CD"/>
		<result property="indvEmadNm" column="INDV_EMAD_NM"/>
		<result property="epId" column="EP_ID"/>
		<result property="afiRturVl" column="AFI_RTUR_VL"/>
		<result property="afiRturVl1" column="AFI_RTUR_VL_1"/>
		<result property="afiRturVl2" column="AFI_RTUR_VL_2"/>
		<result property="afiRturVl3" column="AFI_RTUR_VL_3"/>
		<result property="afiRturVl4" column="AFI_RTUR_VL_4"/>
		<result property="afiRturVl5" column="AFI_RTUR_VL_5"/>
		<result property="afiRturVl6" column="AFI_RTUR_VL_6"/>
		<result property="afiRturVl7" column="AFI_RTUR_VL_7"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathSttsInqr (구매포털 싱글결재 결재경로 상태 조회) 
        Description :                                           cud_useramt_l02$S01_결재자 조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathSttsInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathSttsInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathSttsInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlPathSttsInqr */
		            c.LGIN_ID       as USER_ID        -- 사용자ID
		          , c.USER_NM       as USER_NM        -- 사용자명
		          , a.BSPL_CD       as BSPL_CD        -- 사업장코드
		          , j.MDCR_DPRT_CD  as DPRT_CD        -- 부서코드
		          , a.CMPN_CD       as CMPN_CD        -- 회사코드
		          , c.OCCL_CD       as OCCL_CD        -- 직급코드
		          , c.OCRS_CD       as OCRS_CD        -- 직책코드
		          , c.OCPS_CD       as OCPS_CD        -- 직위코드 ENCM_YMDENCM_YMD
		          , c.OCDT_CD       as OCDT_CD        -- 직무코드
		          , c.EMAIL_ID      as INDV_EMAD_NM   -- e-mail
		          , c.EP_ID         as EP_ID          -- EP ID
		          , '0'             as AFI_RTUR_VL    -- 선택
		          , i.DETL_CD_NM    as AFI_RTUR_VL_1  -- 사업장명
			     --100150 재무팀이 안암서버에서는 의료원이고, 구로, 안산도 100150임. 
			     --안암서버에서 구로 재무팀 조회시 재무팀(의료원) 으로 보이는 것을 방지하고
			     --구로/안산 서버에서 의료원재무팀이 그냥 재무팀으로 보이는 것을 방지하기위해 아래처림 case when 하드코딩 처리
			     , case when j.MDCR_DPRT_CD = '100150' and a.BSPL_CD = '1B' then '재무팀(의료원)'
			            when j.MDCR_DPRT_CD = '100150' and a.BSPL_CD <> '1B' then '재무팀'
			            else b.KORN_DPRT_NM
			             end
			              as AFI_RTUR_VL_2            -- 부서명
		--          , b.KORN_DPRT_NM  as AFI_RTUR_VL_2  -- 부서명
		          , h.DETL_CD_NM    as AFI_RTUR_VL_3  -- 회사명
		          , g.DETL_CD_NM    as AFI_RTUR_VL_4  -- 직급
		          , nvl(k.COMN_CD_NM, d.DETL_CD_NM) as AFI_RTUR_VL_5  -- 직책
		          , e.DETL_CD_NM    as AFI_RTUR_VL_6  -- 직위
		          , f.DETL_CD_NM    as AFI_RTUR_VL_7  -- 직무
		    from  HZUSERMMT A
		        , HZDEPTMMT B
		        , CCUSERAMT C
		        , CCCMCDDMT d
		        , CCCMCDDMT e
		        , CCCMCDDMT f
		        , CCCMCDDMT g
		        , HZEMCODET h
		        , HZEMCODET i
		        , CCUSRDPHT j
		        , HZMICOCDT k
		    where  j.MDCR_DPRT_CD   = B.DPRT_CD
		      and  A.EMNO(+)        = c.LGIN_ID
		      and  A.HLOF_STTS_CD   <> 'DA'
		      and  j.LGIN_ID(+)     = c.LGIN_ID
		      and  j.MNSB_YN(+)     = 'Y'
		      and  ((nvl(#{userNm}, '*') = '*') or
		            ( (C.USER_NM like  #{userNm} || '%') or
		              (c.LGIN_ID = #{userNm} ))
		           )
		      and  d.COMN_GRP_CD(+) = 'GP007'    /* 직책 */
		      and  c.OCRS_CD        = d.COMN_DTLS_CD(+)
		      and  e.COMN_GRP_CD(+) = 'GP008'    /* 직위 */
		      and  c.OCPS_CD        = e.COMN_DTLS_CD(+)
		      and  f.COMN_GRP_CD(+) = 'GP009'    /* 직무 */
		      and  c.OCDT_CD        = f.COMN_DTLS_CD(+)
		      and  g.COMN_GRP_CD(+) = 'GP005'    /* 직급 */
		      and  c.OCCL_CD        = g.COMN_DTLS_CD(+)
		      and  h.COMN_GRP_CD(+) = 'HA100'    /* 회사명 */
		      and  a.CMPN_CD        = h.MDM_COMN_DTLS_CD(+)
		      and  i.COMN_GRP_CD(+) = 'HA110'    /* 사업장명 */
		      and  a.BSPL_CD        = i.MDM_COMN_DTLS_CD(+)
		      and k.COMN_GRP_CD (+) = 'HHP_003'
			  and k.MIS_COMN_CD (+) = a.HR_OCFM_CD
		    order  by c.LGIN_ID
		]]>
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlRpspCncl (결재상신취소) 
        Description :                                           cud_eaplmmt_u03$I01_결재상신취소
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<update id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlRpspCncl"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    update /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlRpspCncl */
		           HZEAPLMMT
		       set APRL_STTS_CD            = #{aprlSttsCd}                                 -- 결재상태코드 1:결재진행중 2:완결 3:반려 4:상신취소 5:전결 6:후완결
		        ,  APRL_RPSP_CNCL_OPIN_CTN = #{aprlRpspCnclOpinCtn}                        -- 결재상신취소의견내용
		        ,  APRL_RPSP_CNCL_DT       = to_date(#{aprlRpspCnclDt},'yyyymmddhh24miss') -- 결재상신취소일시
		        ,  LAST_UPDR_ID            = #{gvUserId}                                   -- 최종수정자ID
		        ,  LAST_UPDT_IP            = #{gvUserIp}                                   -- 최종수정IP
		        ,  LAST_UPDT_DT            = sysdate                                       -- 최종수정일시
		        ,  LAST_UPDT_CLNT_PRGM_ID  = #{gvClntPrgmId}                               -- 최종수정SMC클라이언트프로그램ID
		        ,  LAST_UPDT_SRVR_PRGM_ID  = #{gvSrvrPrgmId}                               -- 최종수정SMC서버프로그램ID
		     where  APRL_SNO = #{aprlSno}
		  ]]>
	</update>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlStts (결재 상태 수정) 
        Description :                                           cud_eaplmmt_u04$I01_결재 상태 수정
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<update id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlStts"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    update /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlStts */
		           HZEAPLMMT
		       set APRL_STTS_CD            = #{aprlSttsCd}
		        ,  LAST_UPDR_ID            = #{gvUserId}                                   -- 최종수정자ID
		        ,  LAST_UPDT_IP            = #{gvUserIp}                                   -- 최종수정IP
		        ,  LAST_UPDT_DT            = sysdate                                       -- 최종수정일시
		        ,  LAST_UPDT_CLNT_PRGM_ID  = #{gvClntPrgmId}                               -- 최종수정SMC클라이언트프로그램ID
		        ,  LAST_UPDT_SRVR_PRGM_ID  = #{gvSrvrPrgmId}                               -- 최종수정SMC서버프로그램ID
		     where APRL_SNO = #{aprlSno}
		  ]]>
	</update>


	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneBdbkInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="bdbkCtn" column="BDBK_CTN"/>
		<result property="bdbkKindCd" column="BDBK_KIND_CD"/>
		<result property="bdbkImagBdByte" column="BDBK_IMAG_BD_BYTE"/>
		<result property="bdbkImagBd" column="BDBK_IMAG_BD"/>
		<result property="bdbkCmrnCtn" column="BDBK_CMRN_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneBdbkInqr (본문조회) 
        Description :                                           cud_eaplbmt_s02$S01_본문조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneBdbkInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneBdbkInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneBdbkInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneBdbkInqr */
		            BDBK_CTN
		          , BDBK_KIND_CD
		          , BDBK_IMAG_BD as BDBK_IMAG_BD_BYTE
		          , ''                     as BDBK_IMAG_BD
		          , BDBK_CMRN_CTN
		    from    HZEAPLBMT
		    where   APRL_SNO = #{aprlSno}
		  ]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlSttsInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlTitlNm" column="APRL_TITL_NM"/>
		<result property="dcmnCrtnYmd" column="DCMN_CRTN_YMD"/>
		<result property="phspCdngNm" column="PHSP_CDNG_NM"/>
		<result property="systId" column="SYST_ID"/>
		<result property="misId" column="MIS_ID"/>
		<result property="tmznCtn" column="TMZN_CTN"/>
		<result property="dmsTrnmOptnCd" column="DMS_TRNM_OPTN_CD"/>
		<result property="drfrId" column="DRFR_ID"/>
		<result property="drfrEpId" column="DRFR_EP_ID"/>
		<result property="aprlKindCd" column="APRL_KIND_CD"/>
		<result property="scryDcmnOptnCtn" column="SCRY_DCMN_OPTN_CTN"/>
		<result property="scryDcmnOptnCd" column="SCRY_DCMN_OPTN_CD"/>
		<result property="emrgYn" column="EMRG_YN"/>
		<result property="ntfcEmailTrdvCd" column="NTFC_EMAIL_TRDV_CD"/>
		<result property="aprlPathInlsYn" column="APRL_PATH_INLS_YN"/>
		<result property="apntRpspYn" column="APNT_RPSP_YN"/>
		<result property="apntRpspDt" column="APNT_RPSP_DT"/>
		<result property="aprlSttsCd" column="APRL_STTS_CD"/>
		<result property="aprlRpspCnclYn" column="APRL_RPSP_CNCL_YN"/>
		<result property="aprlRpspCnclOpinCtn" column="APRL_RPSP_CNCL_OPIN_CTN"/>
		<result property="aprlRpspCnclDt" column="APRL_RPSP_CNCL_DT"/>
		<result property="aprlRpspSucsYn" column="APRL_RPSP_SUCS_YN"/>
		<result property="aprlRpspErrCtn" column="APRL_RPSP_ERR_CTN"/>
		<result property="aprlRsrvYn" column="APRL_RSRV_YN"/>
		<result property="mysnAprlNo" column="MYSN_APRL_NO"/>
		<result property="aprlErrSno" column="APRL_ERR_SNO"/>
		<result property="aprlErrCtn" column="APRL_ERR_CTN"/>
		<result property="aprlErrOcrnBhvrNm" column="APRL_ERR_OCRN_BHVR_NM"/>
		<result property="aprlErrOcrnDtlsCtn" column="APRL_ERR_OCRN_DTLS_CTN"/>
		<result property="aprlErrOcrnCtn" column="APRL_ERR_OCRN_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlSttsInqr (결재상태조회) 
        Description :                                           cud_eaplmmt_s02$S01_결재상태조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlSttsInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlSttsInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlSttsInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlSttsInqr */
		           APRL_SNO
		         , APRL_TITL_NM
		         , DCMN_CRTN_YMD
		         , PHSP_CDNG_NM
		         , SYST_ID
		         , MIS_ID
		         , TMZN_CTN
		         , DMS_TRNM_OPTN_CD
		         , DRFR_ID
		         , DRFR_EP_ID
		         , APRL_KIND_CD
		         , SCRY_DCMN_OPTN_CTN
		         , SCRY_DCMN_OPTN_CD
		         , EMRG_YN
		         , NTFC_EMAIL_TRDV_CD
		         , APRL_PATH_INLS_YN
		         , APNT_RPSP_YN
		         , APNT_RPSP_DT
		         , APRL_STTS_CD
		         , APRL_RPSP_CNCL_YN
		         , APRL_RPSP_CNCL_OPIN_CTN
		         , APRL_RPSP_CNCL_DT
		         , APRL_RPSP_SUCS_YN
		         , APRL_RPSP_ERR_CTN
		         , APRL_RSRV_YN
		         , MYSN_APRL_NO
		         , ''                 as APRL_ERR_SNO
		         , ''                 as APRL_ERR_CTN
		         , ''                 as APRL_ERR_OCRN_BHVR_NM
		         , ''                 as APRL_ERR_OCRN_DTLS_CTN
		         , ''                 as APRL_ERR_OCRN_CTN
		      from  HZEAPLMMT
		     where  APRL_SNO = #{aprlSno}
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlSttsInfmInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="afiRturVl" column="AFI_RTUR_VL"/>
		<result property="userNm" column="USER_NM"/>
		<result property="dprtNm" column="DPRT_NM"/>
		<result property="aprlDcmnAprvDt" column="APRL_DCMN_APRV_DT"/>
		<result property="detlCdNm" column="DETL_CD_NM"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlSttsInfmInqr () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlSttsInfmInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlSttsInfmInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlSttsInfmInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		/*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlSttsInfmInqr */
		    select ( select  b.DETL_CD_NM
		             from    CCCMCDDMT b
		             where   b.COMN_GRP_CD = 'CUC_002'
		               and   b.comn_dtls_cd = a.APRL_STUP_DVSN_CD
		           ) as AFI_RTUR_VL 
		         , a.USER_NM
		         , a.DPRT_NM
		         , TO_CHAR(decode(a.APRL_PATH_SNO,0,d.DCMN_CRTN_YMD,a.APRL_DCMN_APRV_DT),'YYYYMMDDHH24MISS') as APRL_DCMN_APRV_DT
		         , c.DETL_CD_NM
		      from HZEAPLPMT a
		         , CCCMCDDMT c
		         , HZEAPLMMT d 
		    where  a.APRL_SNO        = #{aprlSno}
		      and  c.COMN_GRP_CD(+)  = 'CUC_004'
		      and  c.COMN_DTLS_CD(+) = a.APRL_STUP_DVSN_CD || a.APRL_PRSG_DVSN_CD
		      and  a.APRL_SNO        = d.APRL_SNO
		    order by a.APRL_PATH_SNO
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlAtchInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="atflSno" column="ATFL_SNO"/>
		<result property="fileNm" column="FILE_NM"/>
		<result property="fileSizeCnt" column="FILE_SIZE_CNT"/>
		<result property="atflSqnc" column="ATFL_SQNC"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlAtchInqr (결재첨부조회) 
        Description :                                           cud_eaplfmt_l01$S01_결재첨부조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlAtchInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlAtchInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlAtchInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlAtchInqr */
		            APRL_SNO,
		            ATFL_SNO,
		            FILE_NM,
		            FILE_SIZE_CNT,
		            ATFL_SQNC
		      from  HZEAPLFMT
		     where  APRL_SNO = #{aprlSno}
		     order by ATFL_SNO
		  ]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlTitlNm" column="APRL_TITL_NM"/>
		<result property="drfrId" column="DRFR_ID"/>
		<result property="dcmnCrtnYmd" column="DCMN_CRTN_YMD"/>
		<result property="afiRturVl" column="AFI_RTUR_VL"/>
		<result property="afiRturVl1" column="AFI_RTUR_VL_1"/>
		<result property="afiRturVl2" column="AFI_RTUR_VL_2"/>
		<result property="afiRturVl3" column="AFI_RTUR_VL_3"/>
		<result property="afiRturVl4" column="AFI_RTUR_VL_4"/>
		<result property="misId" column="MIS_ID"/>
		<result property="systId" column="SYST_ID"/>
		<result property="aprlRpspCnclOpinCtn" column="APRL_RPSP_CNCL_OPIN_CTN"/>
		<result property="aprlRpspCnclDt" column="APRL_RPSP_CNCL_DT"/>
		<result property="tmznCtn" column="TMZN_CTN"/>
		<result property="aprlKindCd" column="APRL_KIND_CD"/>
		<result property="ntfcEmailTrdvCd" column="NTFC_EMAIL_TRDV_CD"/>
		<result property="emrgYn" column="EMRG_YN"/>
		<result property="aprlSttsCd" column="APRL_STTS_CD"/>
		<result property="aprlTypeCd" column="APRL_TYPE_CD"/>
		<result property="mysnAprlNo" column="MYSN_APRL_NO"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlInqr (결재 조회) 
        Description :                                           cud_eaplmmt_l02$S01_결재 조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlInqr */
		            A.APRL_SNO
		         ,  A.APRL_TITL_NM
		         ,  A.DRFR_ID
		         ,  to_char(A.DCMN_CRTN_YMD,'YYYY-MM-DD')                                               as DCMN_CRTN_YMD
		         ,  '0'                                                                                 as AFI_RTUR_VL
		         ,  decode((select count(*) from HZEAPLFMT where APRL_SNO = A.APRL_SNO), 0, '0','1')    as AFI_RTUR_VL_1 
		         ,  ''                                                                                  as AFI_RTUR_VL_2 
		         ,  ( select DETL_CD_NM 
				        from CCCMCDDMT 
					   where COMN_GRP_CD  = 'CCX_006' 
					     and COMN_DTLS_CD = decode(A.APRL_RSRV_YN, 'Y', '', A.APRL_STTS_CD) ) as AFI_RTUR_VL_3
		         ,  ( select USER_NM    
				        from CCUSRDPHT 
					   where USER_ID = A.DRFR_ID )                                            as AFI_RTUR_VL_4
		         ,  A.MIS_ID
		         ,  A.SYST_ID
		         ,  A.APRL_RPSP_CNCL_OPIN_CTN
		         ,  A.APRL_RPSP_CNCL_DT
		         ,  A.TMZN_CTN
		         ,  A.APRL_KIND_CD
		         ,  A.NTFC_EMAIL_TRDV_CD
		         ,  A.EMRG_YN
		         ,  decode(A.APRL_RSRV_YN, 'Y', '', A.APRL_STTS_CD) as APRL_STTS_CD
		         ,  A.APRL_TYPE_CD
				 ,  MYSN_APRL_NO
		      from  HZEAPLMMT A
		     where  A.APRL_RSRV_YN         =  #{afiRturVl}
		       and  trunc(A.DCMN_CRTN_YMD) >= to_date( substr(#{afiRturVl1}, 1, 8), 'yyyymmdd')
		       and  trunc(A.DCMN_CRTN_YMD) <= to_date( substr(#{afiRturVl2}, 1, 8), 'yyyymmdd')
		       and  A.DRFR_ID              =  #{drfrId}
		       and  ( (nvl(#{aprlSttsCd}, '*') = '*') or ( A.APRL_STTS_CD = #{aprlSttsCd} )
		            )
		--       and  nvl(a.APRL_STTS_CD, '1') <> '9'
		     order  by A.DCMN_CRTN_YMD desc
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listApprPathSttsInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlPathSno" column="APRL_PATH_SNO"/>
		<result property="aprlPrsgDvsnCd" column="APRL_PRSG_DVSN_CD"/>
		<result property="aprlStupDvsnCd" column="APRL_STUP_DVSN_CD"/>
		<result property="smsrTrsmYn" column="SMSR_TRSM_YN"/>
		<result property="aprlDcmnAprvDt" column="APRL_DCMN_APRV_DT"/>
		<result property="dcabAthrCd" column="DCAB_ATHR_CD"/>
		<result property="aprlDcmnArvlDt" column="APRL_DCMN_ARVL_DT"/>
		<result property="bdbkUpdtPsblCd" column="BDBK_UPDT_PSBL_CD"/>
		<result property="cmpnCd" column="CMPN_CD"/>
		<result property="cmpnNm" column="CMPN_NM"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="dprtNm" column="DPRT_NM"/>
		<result property="ddlnAplyHh" column="DDLN_APLY_HH"/>
		<result property="ocrsNm" column="OCRS_NM"/>
		<result property="ocrsCd" column="OCRS_CD"/>
		<result property="aprlGrpCdVl" column="APRL_GRP_CD_VL"/>
		<result property="aprlGrpNm" column="APRL_GRP_NM"/>
		<result property="emadNm" column="EMAD_NM"/>
		<result property="aprlOpinCtn" column="APRL_OPIN_CTN"/>
		<result property="apntRpspDt" column="APNT_RPSP_DT"/>
		<result property="pathMdfcAthrCd" column="PATH_MDFC_ATHR_CD"/>
		<result property="aprlSqnc" column="APRL_SQNC"/>
		<result property="epId" column="EP_ID"/>
		<result property="userId" column="USER_ID"/>
		<result property="userNm" column="USER_NM"/>
		<result property="dptyApprYn" column="DPTY_APPR_YN"/>
		<result property="afiRturVl" column="AFI_RTUR_VL"/>
		<result property="detlCdNm" column="DETL_CD_NM"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listApprPathSttsInqr (결재경로 조회) 
        Description :                                           cud_eaplpmt_l01$S01_결재경로 조회
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listApprPathSttsInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listApprPathSttsInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listApprPathSttsInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listApprPathSttsInqr */
		            a.APRL_SNO
		          , a.APRL_PATH_SNO
		          , a.APRL_PRSG_DVSN_CD
		          , a.APRL_STUP_DVSN_CD
		          , a.SMSR_TRSM_YN
		          , TO_CHAR(decode(a.APRL_PATH_SNO,0,d.DCMN_CRTN_YMD,a.APRL_DCMN_APRV_DT),'YYYYMMDDHH24MISS') as APRL_DCMN_APRV_DT
		          , a.DCAB_ATHR_CD
		          , a.APRL_DCMN_ARVL_DT
		          , a.BDBK_UPDT_PSBL_CD
		          , a.CMPN_CD
		          , a.CMPN_NM
		          , a.DPRT_CD
		          , a.DPRT_NM
		          , a.DDLN_APLY_HH
		          , a.OCRS_NM
		          , a.OCRS_CD
		          , a.APRL_GRP_CD_VL
		          , a.APRL_GRP_NM
		          , a.EMAD_NM
		          , a.APRL_OPIN_CTN
		          , a.APNT_RPSP_DT
		          , a.PATH_MDFC_ATHR_CD
		          , a.APRL_SQNC
		          , a.EP_ID
		          , a.USER_ID
		          , a.USER_NM
		          , a.DPTY_APPR_YN
		          , ( select  b.DETL_CD_NM
		              from    CCCMCDDMT b
		              where   b.COMN_GRP_CD = 'CUC_002'
		                and   b.comn_dtls_cd = a.APRL_STUP_DVSN_CD
		            ) as AFI_RTUR_VL 
		          , c.DETL_CD_NM
		     from   HZEAPLPMT a
		          , CCCMCDDMT c
		          , HZEAPLMMT d 
		     where  a.APRL_SNO        = #{aprlSno}
		       and  c.COMN_GRP_CD(+)  = 'CUC_004'
		       and  c.COMN_DTLS_CD(+) = a.APRL_STUP_DVSN_CD || a.APRL_PRSG_DVSN_CD
		       and  a.APRL_SNO        = d.APRL_SNO
		     order by a.APRL_PATH_SNO
		  ]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlTrgtListInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlPathSno" column="APRL_PATH_SNO"/>
		<result property="aprlTitlNm" column="APRL_TITL_NM"/>
		<result property="drfrId" column="DRFR_ID"/>
		<result property="dcmnCrtnYmd" column="DCMN_CRTN_YMD"/>
		<result property="afiRturVl1" column="AFI_RTUR_VL_1"/>
		<result property="afiRturVl2" column="AFI_RTUR_VL_2"/>
		<result property="afiRturVl3" column="AFI_RTUR_VL_3"/>
		<result property="afiRturVl4" column="AFI_RTUR_VL_4"/>
		<result property="misId" column="MIS_ID"/>
		<result property="systId" column="SYST_ID"/>
		<result property="aprlRpspCnclOpinCtn" column="APRL_RPSP_CNCL_OPIN_CTN"/>
		<result property="aprlRpspCnclDt" column="APRL_RPSP_CNCL_DT"/>
		<result property="tmznCtn" column="TMZN_CTN"/>
		<result property="aprlKindCd" column="APRL_KIND_CD"/>
		<result property="ntfcEmailTrdvCd" column="NTFC_EMAIL_TRDV_CD"/>
		<result property="emrgYn" column="EMRG_YN"/>
		<result property="aprlSttsCd" column="APRL_STTS_CD"/>
		<result property="cmpnCd" column="CMPN_CD"/>
		<result property="cmpnNm" column="CMPN_NM"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="dprtNm" column="DPRT_NM"/>
		<result property="ocrsNm" column="OCRS_NM"/>
		<result property="ocrsCd" column="OCRS_CD"/>
		<result property="aprlTypeCd" column="APRL_TYPE_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlTrgtListInqr (결재대상목록조회) 
        Description :                                           결재자에게 해당되는 결재대상목록을 조회한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlTrgtListInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlTrgtListInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlTrgtListInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlTrgtListInqr */
		             z.APRL_SNO
		           , z.APRL_PATH_SNO
		           , z.APRL_TITL_NM
		           , z.DRFR_ID
		           , to_char(z.DCMN_CRTN_YMD,'YYYY-MM-DD')                                                               as DCMN_CRTN_YMD   
		           , decode((select count(*) from HZEAPLFMT where APRL_SNO = z.APRL_SNO), 0, '0','1')                    as AFI_RTUR_VL_1 
		           ,(select DETL_CD_NM from CCCMCDDMT where COMN_GRP_CD = 'CCX_006' and COMN_DTLS_CD = z.APRL_STTS_CD_1) as AFI_RTUR_VL_2
		           ,(select DETL_CD_NM from CCCMCDDMT where COMN_GRP_CD = 'CCX_006' and COMN_DTLS_CD = z.APRL_STTS_CD)   as AFI_RTUR_VL_3
		           ,(select USER_NM    from CCUSRDPHT where USER_ID = z.DRFR_ID )                                        as AFI_RTUR_VL_4 
		           , z.MIS_ID
		           , z.SYST_ID
		           , z.APRL_RPSP_CNCL_OPIN_CTN
		           , z.APRL_RPSP_CNCL_DT
		           , z.TMZN_CTN
		           , z.APRL_KIND_CD
		           , z.NTFC_EMAIL_TRDV_CD
		           , z.EMRG_YN
		           , z.APRL_STTS_CD
		           , (select CMPN_CD from HZEAPLPMT where APRL_SNO = z.APRL_SNO and APRL_STUP_DVSN_CD = '0') as CMPN_CD-- 기안자 회사코드
		           , (select CMPN_NM from HZEAPLPMT where APRL_SNO = z.APRL_SNO and APRL_STUP_DVSN_CD = '0') as CMPN_NM-- 기안자 회사명
		           , (select DPRT_CD from HZEAPLPMT where APRL_SNO = z.APRL_SNO and APRL_STUP_DVSN_CD = '0') as DPRT_CD-- 기안자 부서코드
		           , (select DPRT_NM from HZEAPLPMT where APRL_SNO = z.APRL_SNO and APRL_STUP_DVSN_CD = '0') as DPRT_NM-- 기안자 부서명
		           , (select OCRS_NM from HZEAPLPMT where APRL_SNO = z.APRL_SNO and APRL_STUP_DVSN_CD = '0') as OCRS_NM-- 기안자 직책명
		           , (select OCRS_CD from HZEAPLPMT where APRL_SNO = z.APRL_SNO and APRL_STUP_DVSN_CD = '0') as OCRS_CD-- 기안자 직책코드
		           , z.APRL_TYPE_CD
		      from (select  a.USER_ID
		                  , a.APRL_STUP_DVSN_CD
		                  , c.USER_ID           as PATH_USER_ID
		                  , c.APRL_STUP_DVSN_CD as PATH_APRL_STUP_DVSN_CD                       
		                  , row_number() over (partition by c.APRL_SNO order by c.APRL_PATH_SNO) row_num
		                  , b.APRL_SNO
		                  , a.APRL_PATH_SNO
		                  , b.APRL_TITL_NM
		                  , b.DRFR_ID
		                  , b.DCMN_CRTN_YMD   
		                  , b.APRL_STTS_CD
		                  , case when a.APRL_DCMN_APRV_DT is null then '1' else '2' end as APRL_STTS_CD_1
		                  , b.MIS_ID
		                  , b.SYST_ID
		                  , b.APRL_RPSP_CNCL_OPIN_CTN
		                  , b.APRL_RPSP_CNCL_DT
		                  , b.TMZN_CTN
		                  , b.APRL_KIND_CD
		                  , b.NTFC_EMAIL_TRDV_CD
		                  , b.EMRG_YN
		                  , b.APRL_TYPE_CD
		             from   HZEAPLPMT a
		                  , HZEAPLMMT b
		                  , HZEAPLPMT c
		             where  a.APRL_SNO          = b.APRL_SNO
		               and  a.APRL_SNO          = c.APRL_SNO
		               and  a.USER_ID           = #{lginId}          -- 로그인ID 
		               and  trunc(b.DCMN_CRTN_YMD) between to_date( substr(#{afiRturVl1}, 1, 8), 'yyyymmdd') and to_date( substr(#{afiRturVl2}, 1, 8), 'yyyymmdd')
		               and  b.APRL_RSRV_YN      = 'N'
		               and  a.APRL_STUP_DVSN_CD <> '0'
		               --and  b.APRL_STTS_CD      = '1'         -- 결재진행 중 (CCCMCDDMT : COMN_GRP_CD['CCX_006'])
		               and  ( (nvl(#{aprlSttsCd}, '*') = '*') or ( b.APRL_STTS_CD = #{aprlSttsCd} ) )
		               and  a.APRL_PRSG_DVSN_CD = case when #{aprlSttsCd} = '1' then '0' else a.APRL_PRSG_DVSN_CD end
		               and  c.APRL_PRSG_DVSN_CD = case when #{aprlSttsCd} = '1' then '0' else c.APRL_PRSG_DVSN_CD end        -- 결재진행 중 (CCCMCDDMT : COMN_GRP_CD['CUC_003'])                     
		               and  c.APRL_STUP_DVSN_CD between '1' and '8'  -- 결재진행 중 (CCCMCDDMT : COMN_GRP_CD['CUC_002']) 기안, 통보 제외     
		           ) z
		     where ((z.APRL_STUP_DVSN_CD in ('4','7','9')) or (z.APRL_STUP_DVSN_CD in ('1','2','3') and z.USER_ID = z.PATH_USER_ID))
		       and z.APRL_STUP_DVSN_CD = z.PATH_APRL_STUP_DVSN_CD
		       and to_char(z.row_num) like case when #{aprlSttsCd} = '1' then '1' else '%' end 
		     order  by z.DCMN_CRTN_YMD desc
		    ]]> 
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateApprPathStts (결재자경로상태변경) 
        Description :                                           [신규] 결재자 승인/반려시 해당결재자의 상태를 변경한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<update id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateApprPathStts"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    update /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateApprPathStts */
		           HZEAPLPMT a
		       set a.APRL_PRSG_DVSN_CD       = #{aprlPrsgDvsnCd}
		        ,  a.APRL_DCMN_APRV_DT       = sysdate
		        ,  a.APRL_OPIN_CTN           = #{aprlOpinCtn}
		        ,  a.LAST_UPDR_ID            = #{gvUserId}                                   -- 최종수정자ID
		        ,  a.LAST_UPDT_IP            = #{gvUserIp}                                   -- 최종수정IP
		        ,  a.LAST_UPDT_DT            = sysdate                                       -- 최종수정일시
		        ,  a.LAST_UPDT_CLNT_PRGM_ID  = #{gvClntPrgmId}                               -- 최종수정SMC클라이언트프로그램ID
		        ,  a.LAST_UPDT_SRVR_PRGM_ID  = #{gvSrvrPrgmId}                               -- 최종수정SMC서버프로그램ID
		     where a.APRL_SNO = #{aprlSno}
		       and a.APRL_PATH_SNO = #{aprlPathSno}
		       and Exists (select 'X'
		                     from HZEAPLMMT
		                    where APRL_SNO     = a.APRL_SNO
		                      and APRL_STTS_CD = '1')                      
		  ]]>
	</update>


	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathSttsCnfr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="prsgCct" column="PRSG_CCT"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathSttsCnfr (결재경로상태확인조회) 
        Description :                                           [신규] 결재대상건의 전체결재 상태를 확인한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathSttsCnfr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathSttsCnfr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathSttsCnfr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathSttsCnfr */
		            count(*) as PRSG_CCT   
		      from  HZEAPLMMT a
		         ,  HZEAPLPMT b
		     where  b.APRL_SNO          = a.APRL_SNO
		       and  a.APRL_SNO          = #{aprlSno}
		       and  a.APRL_STTS_CD      = '1'                 -- 결재진행 중 (CCCMCDDMT : COMN_GRP_CD['CCX_006']) 진행중
		       and  b.APRL_PRSG_DVSN_CD = '0'                 -- 결재진행 중 (CCCMCDDMT : COMN_GRP_CD['CUC_003']) 미결
		       and  b.APRL_STUP_DVSN_CD between '1' and '8'   -- 결재진행 중 (CCCMCDDMT : COMN_GRP_CD['CUC_002']) 기안, 통보 제외           
		]]>
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlNtfcListInqr-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlTitlNm" column="APRL_TITL_NM"/>
		<result property="drfrId" column="DRFR_ID"/>
		<result property="dcmnCrtnYmd" column="DCMN_CRTN_YMD"/>
		<result property="afiRturVl1" column="AFI_RTUR_VL_1"/>
		<result property="afiRturVl3" column="AFI_RTUR_VL_3"/>
		<result property="afiRturVl4" column="AFI_RTUR_VL_4"/>
		<result property="misId" column="MIS_ID"/>
		<result property="systId" column="SYST_ID"/>
		<result property="aprlRpspCnclOpinCtn" column="APRL_RPSP_CNCL_OPIN_CTN"/>
		<result property="aprlRpspCnclDt" column="APRL_RPSP_CNCL_DT"/>
		<result property="tmznCtn" column="TMZN_CTN"/>
		<result property="aprlKindCd" column="APRL_KIND_CD"/>
		<result property="ntfcEmailTrdvCd" column="NTFC_EMAIL_TRDV_CD"/>
		<result property="emrgYn" column="EMRG_YN"/>
		<result property="aprlSttsCd" column="APRL_STTS_CD"/>
		<result property="cmpnCd" column="CMPN_CD"/>
		<result property="cmpnNm" column="CMPN_NM"/>
		<result property="dprtCd" column="DPRT_CD"/>
		<result property="dprtNm" column="DPRT_NM"/>
		<result property="ocrsNm" column="OCRS_NM"/>
		<result property="ocrsCd" column="OCRS_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlNtfcListInqr (결재완료 통보목록조회) 
        Description :                                           결재완료건을 통보대상자에게 조회한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlNtfcListInqr-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlNtfcListInqr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlNtfcListInqr-result" useCache="true" flushCache="false">
		<![CDATA[
		    select /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-listAprlNtfcListInqr */
		             z.APRL_SNO
		           , z.APRL_TITL_NM
		           , z.DRFR_ID
		           , to_char(z.DCMN_CRTN_YMD,'YYYY-MM-DD')                                                             as DCMN_CRTN_YMD   
		           , decode((select count(*) from HZEAPLFMT where APRL_SNO = z.APRL_SNO), 0, '0','1')                      as AFI_RTUR_VL_1 
		           ,(select DETL_CD_NM from CCCMCDDMT where COMN_GRP_CD = 'CCX_006' and COMN_DTLS_CD = z.APRL_STTS_CD) as AFI_RTUR_VL_3
		           ,(select USER_NM    from CCUSRDPHT where USER_ID = z.DRFR_ID )                                      as AFI_RTUR_VL_4 
		           , z.MIS_ID
		           , z.SYST_ID
		           , z.APRL_RPSP_CNCL_OPIN_CTN
		           , z.APRL_RPSP_CNCL_DT
		           , z.TMZN_CTN
		           , z.APRL_KIND_CD
		           , z.NTFC_EMAIL_TRDV_CD
		           , z.EMRG_YN
		           , z.APRL_STTS_CD
		           , z.CMPN_CD          -- 회사코드
		           , z.CMPN_NM          -- 회사명
		           , z.DPRT_CD          -- 부서코드
		           , z.DPRT_NM          -- 부서명
		           , z.OCRS_NM          -- 직책명
		           , z.OCRS_CD          -- 직책코드
		      from (select  a.USER_ID
		                  , a.APRL_STUP_DVSN_CD
		                  , b.APRL_SNO
		                  , b.APRL_TITL_NM
		                  , b.DRFR_ID
		                  , b.DCMN_CRTN_YMD   
		                  , b.APRL_STTS_CD
		                  , b.MIS_ID
		                  , b.SYST_ID
		                  , b.APRL_RPSP_CNCL_OPIN_CTN
		                  , b.APRL_RPSP_CNCL_DT
		                  , b.TMZN_CTN
		                  , b.APRL_KIND_CD
		                  , b.NTFC_EMAIL_TRDV_CD
		                  , b.EMRG_YN
		                  , a.CMPN_CD          -- 회사코드
		                  , a.CMPN_NM          -- 회사명
		                  , a.DPRT_CD          -- 부서코드
		                  , a.DPRT_NM          -- 부서명
		                  , a.OCRS_NM          -- 직책명
		                  , a.OCRS_CD          -- 직책코드
		             from   HZEAPLPMT a
		                  , HZEAPLMMT b
		             where  a.USER_ID            = #{lginId}          -- 로그인ID 
		               and  a.APRL_STUP_DVSN_CD  = '9'
		               and  a.APRL_SNO           = b.APRL_SNO
		               and  b.APRL_STTS_CD      in ('1','2')          -- 결재진행 중 or 완결 (CCCMCDDMT : COMN_GRP_CD['CCX_006'])
		               and  b.APRL_RSRV_YN       = 'N'
		               and  b.DCMN_CRTN_YMD      between to_date(#{afiRturVl1}, 'yyyymmdd') and to_date(#{afiRturVl2}, 'yyyymmdd') + .9999 
					   and  a.APRL_DCMN_ARVL_DT is not null
					/*
					   -- by Byoungsik Lee (2018.12.02)
					   -- 이전단계 결재상태 상관없이 도착일시 있으면 보이도록 처리
					   -- 그룹웨어 연계 시 중간결재 동기화 안되는 경우가 있음.
		               and  not exists (select 'X'
		                                  from HZEAPLPMT
		                                 where APRL_STUP_DVSN_CD in ('1','2','3','4','7')
		                                   and APRL_PRSG_DVSN_CD = '0'
		                                   and APRL_SNO          = a.APRL_SNO
		                                   and APRL_PATH_SNO     < a.APRL_PATH_SNO)
				    */
		           ) z
		     order  by z.DCMN_CRTN_YMD desc
		]]> 
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateElcrSgntAplcAprlPrgr (HASEALUST-전자직인사용신청(싱글결재진행상태처리)) 
        Description :                                           had_sealust_u96$I01_[UC] Update 표준처리 DAM
                                                                [HASEALUST-전자직인사용신청(싱글결재진행상태처리
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<update id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateElcrSgntAplcAprlPrgr"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		<![CDATA[
		    update  /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateElcrSgntAplcAprlPrgr */
		            HASEALUST u                                     /* (HA)전자직인사용신청 */
		       set  u.ELCR_SEAL_APRL_PRSS_CD                        /* 04.Y.VC2( 1)전자도장결재진행상태코드 */
		         = (select  case when s.APRL_STTS_CD = '1' then '3' /* 결재진행중 */
		                         when s.APRL_STTS_CD = '2' then '4' /* 완결 */
		                         when s.APRL_STTS_CD = '3' then '5' /* 반려 */
		                         else ''
		                    end                                     /* 전자도장결재진행 */
		              from  HZEAPLMMT s                             /* (CU)결재 */
		             where  s.APRL_SNO = u.APRL_SNO                 /* 결재일련번호 */
		           )
		         ,  u.PRIN_PSBL_YN                                  /* 07.Y.VC2( 1)출력가능여부 */
		         = (select  decode(s.APRL_STTS_CD, '2', 'Y', 'N')   /* '2' : 완결 */
		              from  HZEAPLMMT s                             /* (CU)결재 */
		             where  s.APRL_SNO = u.APRL_SNO                 /* 결재일련번호 */
		          )
		        ,  u.LAST_UPDR_ID            = #{gvUserId}          /* 최종수정자ID */
		        ,  u.LAST_UPDT_IP            = #{gvUserIp}          /* 최종수정IP */
		        ,  u.LAST_UPDT_DT            = sysdate              /* 최종수정일시 */
		        ,  u.LAST_UPDT_CLNT_PRGM_ID  = #{gvClntPrgmId}      /* 최종수정SMC클라이언트프로그램ID */
		        ,  u.LAST_UPDT_SRVR_PRGM_ID  = #{gvSrvrPrgmId}      /* 최종수정SMC서버프로그램ID */
		     where
		            u.ELCR_SEAL_APRL_PRSS_CD in ('2', '3')          /* 04.Y.VC2( 1)전자도장결재진행상태코드 */
		       and  exists (select  1
		                      from  HZEAPLMMT s              /* (CU)결재 */
		                     where  s.APRL_SNO = u.APRL_SNO         /* 결재일련번호 */
		                   )
		    ]]>
	</update>




    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateGrwrElcrAprlRpspRlstRflc (그룹웨어 전자결재 상신 결과 반영) 
        Description :                                           그룹웨어 전자결재 상신 연계 요청 후 그룹웨어 시스템으로부터 리턴받은 연계 Key 값을 저장한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<update id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateGrwrElcrAprlRpspRlstRflc"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		update /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateGrwrElcrAprlRpspRlstRflc */
		       HZEAPLMMT   /* 결재정보 */
		   set MYSN_APRL_NO = #{uuid}     /* 그룹웨어 연계 Key 값 */
		 where APRL_SNO     = #{aprlSno}  /* 결재번호 */
	</update>


	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfm-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlPathSno" column="APRL_PATH_SNO"/>
		<result property="aprlSqnc" column="APRL_SQNC"/>
		<result property="aprlStupDvsnCd" column="APRL_STUP_DVSN_CD"/>
		<result property="aprlTypeCd" column="APRL_TYPE_CD"/>
		<result property="systId" column="SYST_ID"/>
		<result property="misId" column="MIS_ID"/>
		<result property="tmznCtn" column="TMZN_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfm (현재 결재경로 정보 조회) 
        Description :                                           현재 결재자의 결재경로 정보를 조회한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfm-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfm"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfm-result" useCache="true" flushCache="false">
		<![CDATA[
		/*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfm */
		select m.APRL_SNO           /* 결재일련번호 */
		     , p.APRL_PATH_SNO      /* 결재경로일련번호 */
			 , p.APRL_SQNC          /* 결재순번 */
			 , p.APRL_STUP_DVSN_CD  /* 결재설정구분코드 */
			 , m.APRL_TYPE_CD       /* 결재유형코드 */
			 , m.SYST_ID            /* System ID */
			 , m.MIS_ID             /* MIS ID */
			 , m.TMZN_CTN           /* 시간대 내용 */
		  from HZEAPLMMT m
		     , HZEAPLPMT p
		 where p.APRL_SNO          = m.APRL_SNO
		   and m.MYSN_APRL_NO      = #{elcrAprlLnkdIdntVl}   /* 그룹웨어 결재ID */
		   and p.USER_ID           = #{userId}               /* 결재자ID */
		   and (   (    #{aprlPrssCd}       = '02'   /* 회수  */
		            and p.APRL_STUP_DVSN_CD = '0'    /* 기안자 */
				   )
				or (    #{aprlPrssCd}       <> '02'  /* 회수 외(00:완료 / 01:반려 / 03:중간결재) */
		            and p.APRL_STUP_DVSN_CD <> '0'   /* 기안자 제외 (기안자와 결재자가 같은 경우가 존재함.) */
				   )
			   )
		   /* and p.APRL_DCMN_APRV_DT is null    -- 미결 */
		   /* and rownum              =  1       -- 동일인이 중복 존재할 경우 1 건만 조회 */
		]]>
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlEndNtfcInlmRflc (결재완결 통보 일괄반영) 
        Description :                                           결재 완료 시 통보자에게 결재문서도착일시 컬럼을 일괄 업데이트하여 통보함 목록에서 조회되도록 한다.
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
    -->	
	<update id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlEndNtfcInlmRflc"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  >
		/*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-updateAprlEndNtfcInlmRflc */
		update HZEAPLPMT
		   set APRL_DCMN_APRV_DT       = sysdate            -- 결재문서승인일시
		     , APRL_DCMN_ARVL_DT       = sysdate            -- 결재문서도착일시
		     , LAST_UPDR_ID            = #{gvUserId}        -- 최종수정자ID
		     , LAST_UPDT_IP            = #{gvUserIp}        -- 최종수정IP
		     , LAST_UPDT_DT            = sysdate            -- 최종수정일시
		     , LAST_UPDT_CLNT_PRGM_ID  = #{gvClntPrgmId}    -- 최종수정SMC클라이언트프로그램ID
		     , LAST_UPDT_SRVR_PRGM_ID  = #{gvSrvrPrgmId}    -- 최종수정SMC서버프로그램ID
		 where APRL_SNO          = #{aprlSno}
		   and APRL_STUP_DVSN_CD = '9'   /* '9':통보 */
	</update>


	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfmByPath-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="aprlSno" column="APRL_SNO"/>
		<result property="aprlPathSno" column="APRL_PATH_SNO"/>
		<result property="aprlSqnc" column="APRL_SQNC"/>
		<result property="aprlStupDvsnCd" column="APRL_STUP_DVSN_CD"/>
		<result property="aprlTypeCd" column="APRL_TYPE_CD"/>
		<result property="systId" column="SYST_ID"/>
		<result property="misId" column="MIS_ID"/>
		<result property="tmznCtn" column="TMZN_CTN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfmByPath (현재 결재경로 정보 조회 By 결재경로) 
        Description :                                           현재 결재자의 결재경로 정보를 조회한다. by 결재경로 값을 이용
                                            
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfmByPath-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfmByPath"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfmByPath-result" useCache="true" flushCache="false">
		select /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneCrntAprlPathInfmByPath */
		       m.APRL_SNO           /* 결재일련번호 */
		     , p.APRL_PATH_SNO      /* 결재경로일련번호 */
			 , p.APRL_SQNC          /* 결재순번 */
			 , p.APRL_STUP_DVSN_CD  /* 결재설정구분코드 */
			 , m.APRL_TYPE_CD       /* 결재유형코드 */
			 , m.SYST_ID            /* System ID */
			 , m.MIS_ID             /* MIS ID */
			 , m.TMZN_CTN           /* 시간대 내용 */
		  from HZEAPLMMT m /*결제메인*/
		     , HZEAPLPMT p /*결재경로*/
		 where m.APRL_SNO = #{aprlSno}
		   and m.APRL_SNO = p.APRL_SNO
		   and p.APRL_PATH_SNO = #{aprlPathSno}
	</select>




	<resultMap id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathVal-result" type="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO">
	
		<result property="prsgCct" column="PRSG_CCT"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathVal () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO
		resultMap : com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathVal-result
    -->
	<select id="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathVal"  parameterType="com.sds.healthcare.ehr.mis.hz.hzu.vo.HzuRpspAprlPrsgDVO"  resultMap="com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathVal-result" useCache="true" flushCache="false">
		with APRL_PATH /*SQL_ID: com-sds-healthcare-ehr-mis-hz-hzu-dao-HzuRpspAprlPrsgDAO-selectOneAprlPathVal */
		  as (
		      select *
		        from HZMICOCDT
		       where COMN_GRP_CD = 'HZU_001'  /* 부서경비 전표 상신시 결재자 목록 (한양대 특화) */
		         and MIS_COMN_CD = 'APRL_PATH'
		     )                    
		    select 
		           count(*) PRSG_CCT
		      from (
		            select CHRC_CD_VL01 as APPR_ID, 11 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL02 as APPR_ID, 12 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL03 as APPR_ID, 13 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL04 as APPR_ID, 14 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL05 as APPR_ID, 15 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL06 as APPR_ID, 16 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL07 as APPR_ID, 17 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL08 as APPR_ID, 18 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL09 as APPR_ID, 19 as SEQ from APRL_PATH
		            union all
		            select CHRC_CD_VL10 as APPR_ID, 20 as SEQ from APRL_PATH
		           ) a
		         , HZUSERMMT u 
		     where a.APPR_ID = u.EMNO
	</select>



</mapper>