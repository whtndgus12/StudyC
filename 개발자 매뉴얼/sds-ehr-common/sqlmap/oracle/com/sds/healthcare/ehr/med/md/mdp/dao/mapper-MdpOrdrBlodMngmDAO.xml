<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    SQL File Name : mapper_MdpOrdrBlodMngmDAO_sql.xml 
    Description : -->
<mapper namespace="MdpOrdrBlodMngmDAO">


	<resultMap id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneOrdrBlodMngmDual-result" type="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO">
	
		<result property="ptptCd" column="PTPT_CD"/>
		<result property="frstIpdvCd" column="FRST_IPDV_CD"/>
		<result property="afiCrtfOrdvVl" column="AFI_CRTF_ORDV_VL"/>
		<result property="afiRulIdVl" column="AFI_RUL_ID_VL"/>
		<result property="afiRulRspnVl" column="AFI_RUL_RSPN_VL"/>
		<result property="afiRdctInfmCnfrYn" column="AFI_RDCT_INFM_CNFR_YN"/>
		<result property="afiTmprOrdrSno" column="AFI_TMPR_ORDR_SNO"/>
		<result property="afiOrglOrdrDcDvsnCd" column="AFI_ORGL_ORDR_DC_DVSN_CD"/>
		<result property="trnfWntdDt1" column="TRNF_WNTD_DT_1"/>
		<result property="orreExstYn" column="ORRE_EXST_YN"/>
		<result property="ordrInrfClotYn" column="ORDR_INRF_CLOT_YN"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneOrdrBlodMngmDual (DVO Parameter를 유지하기 위한 DUAL SELECT) 
        Description :                                           DVO Parameter 를 유지하기 위한 DUAL SELECT
                                            
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
		resultMap : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneOrdrBlodMngmDual-result
    -->
	<select id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneOrdrBlodMngmDual"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  resultMap="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneOrdrBlodMngmDual-result" useCache="true" flushCache="false">
		select  /*SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneOrdrBlodMngmDual */
		       '' AS PTPT_CD
		     , '' AS FRST_IPDV_CD
		     , '' AS AFI_CRTF_ORDV_VL
		     , '' AS AFI_RUL_ID_VL
		     , '' AS AFI_RUL_RSPN_VL
		     , '' AS AFI_RDCT_INFM_CNFR_YN
		     , 0 AS AFI_TMPR_ORDR_SNO
		     , '' AS AFI_ORGL_ORDR_DC_DVSN_CD
		     , '' AS TRNF_WNTD_DT_1
		     , '' as ORRE_EXST_YN
		     , '' as ORDR_INRF_CLOT_YN
		from dual
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneBlodOrdrSno-result" type="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO">
	
		<result property="ordrSno" column="ORDR_SNO"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneBlodOrdrSno (수혈처방 Sequence 조회) 
        Description :                                           수혈처방 처방일련번호에 사용되는 sequence를 조회한다.
                                            
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
		resultMap : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneBlodOrdrSno-result
    -->
	<select id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneBlodOrdrSno"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  resultMap="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneBlodOrdrSno-result" useCache="true" flushCache="false">
		select  /*SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneBlodOrdrSno */
		          MDBLDORDTQ.nextval as ORDR_SNO
		 from  dual
	</select>




	<resultMap id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-listPtntBlodOrdrList-result" type="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO">
	
		<result property="saveDvsnCd" column="SAVE_DVSN_CD"/>
		<result property="ptno" column="PTNO"/>
		<result property="ordrYmd" column="ORDR_YMD"/>
		<result property="ordrSno" column="ORDR_SNO"/>
		<result property="mdrpNo" column="MDRP_NO"/>
		<result property="ordrCd" column="ORDR_CD"/>
		<result property="mcdpCd" column="MCDP_CD"/>
		<result property="oddrId" column="ODDR_ID"/>
		<result property="chdrId" column="CHDR_ID"/>
		<result property="gndrId" column="GNDR_ID"/>
		<result property="codvCd" column="CODV_CD"/>
		<result property="ptadCodvCd" column="PTAD_CODV_CD"/>
		<result property="ordrCltyCd" column="ORDR_CLTY_CD"/>
		<result property="orclCd" column="ORCL_CD"/>
		<result property="odkiCd" column="ODKI_CD"/>
		<result property="odkiDetlCd" column="ODKI_DETL_CD"/>
		<result property="orfrCd" column="ORFR_CD"/>
		<result property="hslcDvsnCd" column="HSLC_DVSN_CD"/>
		<result property="mccnCd" column="MCCN_CD"/>
		<result property="wardCd" column="WARD_CD"/>
		<result property="orocDprtCd" column="OROC_DPRT_CD"/>
		<result property="frnsDprtCd" column="FRNS_DPRT_CD"/>
		<result property="slipCd" column="SLIP_CD"/>
		<result property="careSttsCd" column="CARE_STTS_CD"/>
		<result property="adtnOrdvCd" column="ADTN_ORDV_CD"/>
		<result property="rgorFndrId" column="RGOR_FNDR_ID"/>
		<result property="rgorFinsDt" column="RGOR_FINS_DT"/>
		<result property="orcnNursId" column="ORCN_NURS_ID"/>
		<result property="orcnDt" column="ORCN_DT"/>
		<result property="tmprOrdrYn" column="TMPR_ORDR_YN"/>
		<result property="dcDvsnCd" column="DC_DVSN_CD"/>
		<result property="dcOddrId" column="DC_ODDR_ID"/>
		<result property="dcOrdrDt" column="DC_ORDR_DT"/>
		<result property="dcCnnuId" column="DC_CNNU_ID"/>
		<result property="dcCnfrDt" column="DC_CNFR_DT"/>
		<result property="sortSqnc" column="SORT_SQNC"/>
		<result property="trnfOrdrUnslCtn" column="TRNF_ORDR_UNSL_CTN"/>
		<result property="inptUserDvsnCd" column="INPT_USER_DVSN_CD"/>
		<result property="crtfDvsnCd" column="CRTF_DVSN_CD"/>
		<result property="athnId" column="ATHN_ID"/>
		<result property="crtfIp" column="CRTF_IP"/>
		<result property="crtfDt" column="CRTF_DT"/>
		<result property="clrsPrjcCd" column="CLRS_PRJC_CD"/>
		<result property="clrsPrjcDrId" column="CLRS_PRJC_DR_ID"/>
		<result property="oprtYmd" column="OPRT_YMD"/>
		<result property="oprtSno" column="OPRT_SNO"/>
		<result property="itrnBsdvCd" column="ITRN_BSDV_CD"/>
		<result property="srrqCmntCtn" column="SRRQ_CMNT_CTN"/>
		<result property="ordrIpdvCd" column="ORDR_IPDV_CD"/>
		<result property="rcstCd" column="RCST_CD"/>
		<result property="cnntOrdrBndlNo" column="CNNT_ORDR_BNDL_NO"/>
		<result property="ordrValdStrtYmd" column="ORDR_VALD_STRT_YMD"/>
		<result property="ordrValdFnshYmd" column="ORDR_VALD_FNSH_YMD"/>
		<result property="implOrdrPblcNtm" column="IMPL_ORDR_PBLC_NTM"/>
		<result property="implOrdrPblcLmttNtm" column="IMPL_ORDR_PBLC_LMTT_NTM"/>
		<result property="orglOrdrYmd" column="ORGL_ORDR_YMD"/>
		<result property="orglOrdrSno" column="ORGL_ORDR_SNO"/>
		<result property="opsrId" column="OPSR_ID"/>
		<result property="cpdrId" column="CPDR_ID"/>
		<result property="rhBltyDvsnCtn" column="RH_BLTY_DVSN_CTN"/>
		<result property="trnfWntdDt" column="TRNF_WNTD_DT"/>
		<result property="drIdctCqy" column="DR_IDCT_CQY"/>
		<result property="blbaFrnsCqy" column="BLBA_FRNS_CQY"/>
		<result property="blbaRtrnCqy" column="BLBA_RTRN_CQY"/>
		<result property="blbaDiscCqy" column="BLBA_DISC_CQY"/>
		<result property="oslfTrnfYn" column="OSLF_TRNF_YN"/>
		<result property="bldoEn" column="BLDO_EN"/>
		<result property="rdtnPrsgYn" column="RDTN_PRSG_YN"/>
		<result property="fltrApdvCd" column="FLTR_APDV_CD"/>
		<result property="trnfOrdrPrssCd" column="TRNF_ORDR_PRSS_CD"/>
		<result property="blodFrnsApdcPrinYn" column="BLOD_FRNS_APDC_PRIN_YN"/>
		<result property="prsbYn" column="PRSB_YN"/>
		<result property="imlnOrdrYn" column="IMLN_ORDR_YN"/>
		<result property="prepOrdrYn" column="PREP_ORDR_YN"/>
		<result property="actnNtm" column="ACTN_NTM"/>
		<result property="oprtRefrDvsnCd" column="OPRT_REFR_DVSN_CD"/>
		<result property="acimNursId" column="ACIM_NURS_ID"/>
		<result property="actnDt" column="ACTN_DT"/>
		<result property="acimInptDt" column="ACIM_INPT_DT"/>
		<result property="acimUpdtDt" column="ACIM_UPDT_DT"/>
		<result property="acimSpabCtn" column="ACIM_SPAB_CTN"/>
		<result property="cnclQty" column="CNCL_QTY"/>
		<result property="indtKindCd" column="INDT_KIND_CD"/>
		<result property="ordrCrtnDvsnCd" column="ORDR_CRTN_DVSN_CD"/>
		<result property="ordrCrtnLnknNo" column="ORDR_CRTN_LNKN_NO"/>
		<result property="sporBndlNm" column="SPOR_BNDL_NM"/>
		<result property="sporBndlNo" column="SPOR_BNDL_NO"/>
		<result property="frstRgsrId" column="FRST_RGSR_ID"/>
		<result property="frstRgstIp" column="FRST_RGST_IP"/>
		<result property="frstRgstDt" column="FRST_RGST_DT"/>
		<result property="lastUpdrId" column="LAST_UPDR_ID"/>
		<result property="lastUpdtIp" column="LAST_UPDT_IP"/>
		<result property="lastUpdtDt" column="LAST_UPDT_DT"/>
		<result property="ordrNm" column="ORDR_NM"/>
		<result property="ordrPsblDvsnCd" column="ORDR_PSBL_DVSN_CD"/>
		<result property="insrIpdvCd" column="INSR_IPDV_CD"/>
		<result property="prtcIpdvCd" column="PRTC_IPDV_CD"/>
		<result property="incsIpdvCd" column="INCS_IPDV_CD"/>
		<result property="tainIpdvCd" column="TAIN_IPDV_CD"/>
		<result property="blodMdteDvsnCd" column="BLOD_MDTE_DVSN_CD"/>
		<result property="indtKindVl" column="INDT_KIND_VL"/>
		<result property="mdfeItdvCd" column="MDFE_ITDV_CD"/>
		<result property="insrEdiCd" column="INSR_EDI_CD"/>
		<result property="fltrUseYn" column="FLTR_USE_YN"/>
		<result property="irdnPsblYn" column="IRDN_PSBL_YN"/>
		<result property="afiPrepOrdrYn" column="AFI_PREP_ORDR_YN"/>
		<result property="erPsblYn" column="ER_PSBL_YN"/>
		<result property="ulerPsblYn" column="ULER_PSBL_YN"/>
		<result property="erMcteAddvCd" column="ER_MCTE_ADDV_CD"/>
		<result property="erMcteAditYn" column="ER_MCTE_ADIT_YN"/>
		<result property="insrAcknBaseCeckYn" column="INSR_ACKN_BASE_CECK_YN"/>
		<result property="subTypeCd" column="SUB_TYPE_CD"/>
		<result property="scrgInpyOnbrRt" column="SCRG_INPY_ONBR_RT"/>
		<result property="cnsnRltdYn" column="CNSN_RLTD_YN"/>
		<result property="cnsnRltdMcdpCd" column="CNSN_RLTD_MCDP_CD"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-listPtntBlodOrdrList (환자의 혈액 처방 정보 조회) 
        Description :                                           환자의 혈액 처방 정보를 조회한다.
                                            
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
		resultMap : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-listPtntBlodOrdrList-result
    -->
	<select id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-listPtntBlodOrdrList"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  resultMap="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-listPtntBlodOrdrList-result" useCache="true" flushCache="false">
				<![CDATA[	
				   SELECT  /*+ SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-listPtntBlodOrdrList_사용자명_수혈 처방 조회 */
						   'S'  as SAVE_DVSN_CD
						,  a.PTNO as PTNO                                /* 환자번호*/
						,  to_char ( a.ORDR_YMD, 'YYYYMMDD') as ORDR_YMD   /* 처방일자*/
						,  a.ORDR_SNO as ORDR_SNO                           /* 처방일련번호*/
						,  a.MDRP_NO as MDRP_NO                            /* 진료접수번호*/
						,  a.ORDR_CD as ORDR_CD                            /* 처방코드*/
						,  a.MCDP_CD as MCDP_CD                            /* 진료과코드*/
						,  a.ODDR_ID as ODDR_ID                            /* 처방의사ID*/
						,  a.CHDR_ID as CHDR_ID                            /* 지정의사ID*/
						,  a.GNDR_ID as GNDR_ID                            /* 주치의사ID*/
						,  a.CODV_CD as CODV_CD                            /* 내원구분코드*/
						,  a.PTAD_CODV_CD as PTAD_CODV_CD                       /* 원무내원구분코드*/
						,  a.ORDR_CLTY_CD as ORDR_CLTY_CD                       /* 처방분류유형코드*/
						,  a.ORCL_CD as ORCL_CD                            /* 처방분류코드*/
						,  a.ODKI_CD as ODKI_CD                            /* 처방종류코드*/
						,  a.ODKI_DETL_CD as ODKI_DETL_CD                       /* 처방종류상세코드*/
						,  a.ORFR_CD as ORFR_CD                            /* 처방형태코드*/
						,  a.HSLC_DVSN_CD as HSLC_DVSN_CD                       /* 위치구분코드*/
						,  a.MCCN_CD as MCCN_CD                            /* 진료센터코드*/
						,  a.WARD_CD as WARD_CD                            /* 병동코드*/
						,  a.OROC_DPRT_CD as OROC_DPRT_CD                            /* 처방발생원코드*/
						,  a.FRNS_DPRT_CD as FRNS_DPRT_CD                       /* 불출부서코드*/
						,  a.SLIP_CD as SLIP_CD                            /* SLIP코드*/
						,  a.CARE_STTS_CD as CARE_STTS_CD                       /* 간호상태코드*/
						,  a.ADTN_ORDV_CD as ADTN_ORDV_CD                       /* 추가처방구분코드*/
						,  a.RGOR_FNDR_ID as RGOR_FNDR_ID                       /* 정규처방완료의사ID*/
						 ,  to_char ( a.RGOR_FINS_DT, 'YYYYMMDDhh24miss') as RGOR_FINS_DT /* 정규처방완료일시*/
						,  a.ORCN_NURS_ID as ORCN_NURS_ID                       /* 처방확인간호사ID*/
						 ,  to_char ( a.ORCN_DT, 'YYYYMMDDhh24miss') as ORCN_DT      /* 처방확인일시*/
						,  a.TMPR_ORDR_YN as TMPR_ORDR_YN                       /* 임시처방여부*/
						,  a.DC_DVSN_CD as DC_DVSN_CD                         /* DC구분코드*/
						,  a.DC_ODDR_ID as DC_ODDR_ID                         /* DC처방의사ID*/
						 ,  to_char ( a.DC_ORDR_DT, 'YYYYMMDDhh24miss') as DC_ORDR_DT /* DC처방일시*/
						,  a.DC_CNNU_ID as DC_CNNU_ID                         /* DC확인간호사ID*/
						 ,  to_char ( a.DC_CNFR_DT, 'YYYYMMDDhh24miss') as DC_CNFR_DT /* DC확인일시*/
						,  a.SORT_SQNC as SORT_SQNC                          /* 정렬순서*/
						,  a.TRNF_ORDR_UNSL_CTN as TRNF_ORDR_UNSL_CTN                 /* 수혈처방특이내용*/
						,  a.INPT_USER_DVSN_CD as INPT_USER_DVSN_CD                  /* 입력사용자구분코드*/
						,  a.CRTF_DVSN_CD as CRTF_DVSN_CD                       /* 인증구분코드*/
						,  a.ATHN_ID as ATHN_ID                            /* 인증자ID*/
						,  a.CRTF_IP as CRTF_IP                            /* 인증IP*/
						 ,  to_char ( a.CRTF_DT, 'YYYYMMDDhh24miss') as CRTF_DT /* 인증일시*/
						,  a.CLRS_PRJC_CD as CLRS_PRJC_CD                       /* 임상연구과제코드*/
						,  a.CLRS_PRJC_DR_ID as CLRS_PRJC_DR_ID                    /* 임상연구과제의사ID*/
						 ,  to_char ( a.OPRT_YMD, 'YYYYMMDD') as OPRT_YMD   /* 수술일자*/
						,  a.OPRT_SNO as OPRT_SNO                           /* 수술일련번호*/
						,  a.ITRN_BSDV_CD as ITRN_BSDV_CD                       /* 인턴업무구분코드*/
						,  a.SRRQ_CMNT_CTN as SRRQ_CMNT_CTN                      /* SR커멘트내용*/
						,  a.ORDR_IPDV_CD as ORDR_IPDV_CD                       /* 보험급여구분코드*/
						,  a.RCST_CD as RCST_CD                            /* 수납상태코드*/
						,  a.CNNT_ORDR_BNDL_NO as CNNT_ORDR_BNDL_NO                  /* 동시처방묶음번호*/
						 ,  to_char ( a.ORDR_VALD_STRT_YMD, 'YYYYMMDD') as ORDR_VALD_STRT_YMD /* 처방유효시작일자*/
						 ,  to_char ( a.ORDR_VALD_FNSH_YMD, 'YYYYMMDD') as ORDR_VALD_FNSH_YMD /* 처방유효종료일자*/
						,  a.IMPL_ORDR_PBLC_NTM as IMPL_ORDR_PBLC_NTM                 /* 실시처방발행횟수*/
						,  a.IMPL_ORDR_PBLC_LMTT_NTM as IMPL_ORDR_PBLC_LMTT_NTM            /* 실시처방발행제한횟수*/
						 ,  to_char ( a.ORGL_ORDR_YMD, 'YYYYMMDD') as ORGL_ORDR_YMD /* 원처방일자*/
						,  a.ORGL_ORDR_SNO as ORGL_ORDR_SNO                      /* 원처방일련번호*/
						,  a.OPSR_ID as OPSR_ID                            /* 집도의사ID*/
						,  a.CPDR_ID as CPDR_ID                            /* 협진의사ID*/
						,  a.RH_BLTY_DVSN_CTN as RH_BLTY_DVSN_CTN                   /* RH혈액형구분코드*/
						,  to_char ( a.TRNF_WNTD_DT, 'YYYYMMDDhh24miss') as TRNF_WNTD_DT /* 수혈희망일시*/
						,  a.DR_IDCT_CQY as DR_IDCT_CQY                        /* 의사지시수량*/
						,  a.BLBA_FRNS_CQY as BLBA_FRNS_CQY                      /* 혈액은행불출수량*/
						,  a.BLBA_RTRN_CQY as BLBA_RTRN_CQY                      /* 혈액은행반납수량*/
						,  a.BLBA_DISC_CQY as BLBA_DISC_CQY                      /* 혈액은행폐기수량*/
						,  a.OSLF_TRNF_YN as OSLF_TRNF_YN                       /* 자가수혈여부*/
						,  a.BLDO_EN as BLDO_EN                            /* 헌혈자유무*/
						,  a.RDTN_PRSG_YN as RDTN_PRSG_YN                       /* 방사선처리여부*/
						,  a.FLTR_APDV_CD as FLTR_APDV_CD                       /* 필터적용구분코드*/
						,  a.TRNF_ORDR_PRSS_CD as TRNF_ORDR_PRSS_CD                  /* 수혈처방진행상태코드*/
						,  a.BLOD_FRNS_APDC_PRIN_YN as BLOD_FRNS_APDC_PRIN_YN             /* 혈액불출신청서출력여부*/
						,  a.PRSB_YN as PRSB_YN                            /* Prosobar여부*/
						,  a.IMLN_ORDR_YN as IMLN_ORDR_YN                       /* 임플란트처방여부*/
						,  a.PREP_ORDR_YN as PREP_ORDR_YN                       /* PREP여부*/
						,  a.ACTN_NTM as ACTN_NTM                           /* 액팅횟수*/
						,  a.OPRT_REFR_DVSN_CD as OPRT_REFR_DVSN_CD                  /* 수술의뢰구분코드*/
						,  a.ACIM_NURS_ID as ACIM_NURS_ID                       /* 액팅실시간호사ID*/
						,  to_char ( a.ACTN_DT, 'YYYYMMDDhh24miss') as ACTN_DT      /* 액팅일시*/
						,  to_char ( a.ACIM_INPT_DT, 'YYYYMMDDhh24miss') as ACIM_INPT_DT /* 액팅실시입력일시*/
						,  to_char ( a.ACIM_UPDT_DT, 'YYYYMMDDhh24miss') as ACIM_UPDT_DT /* 액팅실시수정일시*/
						,  a.ACIM_SPAB_CTN as ACIM_SPAB_CTN                      /* 액팅실시특기내용*/
						,  a.CNCL_QTY as CNCL_QTY                           /* 취소량*/
						,  a.INDT_KIND_CD as INDT_KIND_CD                       /* 적응증종류코드*/
						,  a.ORDR_CRTN_DVSN_CD as ORDR_CRTN_DVSN_CD                  /* 처방생성구분코드*/
						,  a.ORDR_CRTN_LNKN_NO as ORDR_CRTN_LNKN_NO                  /* 처방생성연결번호*/
		                ,  a.SPOR_BNDL_NM                                     /* 스페셜처방묶음명 */
		                ,  a.SPOR_BNDL_NO                                     /* 스페셜처방묶음번호*/                
						,  a.FRST_RGSR_ID as FRST_RGSR_ID                       /* 최초등록자ID*/
						,  a.FRST_RGST_IP as FRST_RGST_IP                       /* 최초등록IP*/
						,  to_char ( a.FRST_RGST_DT, 'YYYYMMDDhh24miss') as FRST_RGST_DT /* 최초등록일시*/
						,  a.LAST_UPDR_ID as LAST_UPDR_ID                       /* 최종수정자ID*/
						,  a.LAST_UPDT_IP as LAST_UPDT_IP                       /* 최종수정IP*/
						,  to_char ( a.LAST_UPDT_DT, 'YYYYMMDDhh24miss') as LAST_UPDT_DT /* 최종수정일시*/
						,  b.ORDR_NM as ORDR_NM                            /*  처방명*/
						,  b.ORDR_PSBL_DVSN_CD as ORDR_PSBL_DVSN_CD                  /*  처방가능구분코드*/
						,  c.INSR_IPDV_CD as INSR_IPDV_CD                       /*  보험급여구분(AI041)*/
						,  c.PRTC_IPDV_CD as PRTC_IPDV_CD                       /*  보호급여구분(AI041)*/
						,  c.INCS_IPDV_CD as INCS_IPDV_CD                       /*  산재급여구분(AI041)*/
						,  c.TAIN_IPDV_CD as TAIN_IPDV_CD                       /*  자보급여구분(AI041)*/
						,  b.BLOD_MDTE_DVSN_CD as BLOD_MDTE_DVSN_CD                  /*  혈액치료구분코드 */
						,  b.INDT_KIND_VL as INDT_KIND_VL                       /*  적응증종류값 */
						,  c.MDFE_ITDV_CD as MDFE_ITDV_CD                       /*  수가입력구분(AI046):처치,재료필수입력구분 */
						,  c.INSR_EDI_CD  as INSR_EDI_CD						/* 보험EDI코드 */
						,  d.FLTR_USE_YN as FLTR_USE_YN                        /*  필터사용여부 */
						,  d.IRDN_PSBL_YN as IRDN_PSBL_YN                       /*  방사선조사기능여부 */
						,  d.PREP_ORDR_YN as AFI_PREP_ORDR_YN                       /*  pre처방여부 */
						,  d.ER_PSBL_YN as ER_PSBL_YN                         /*  응급가능여부 */
						,  d.ULER_PSBL_YN as ULER_PSBL_YN                       /*  초응급가능여부 */                
		                ,  c.ER_MCTE_ADDV_CD as ER_MCTE_ADDV_CD /* 응급의료가산구분코드 */
		                ,  FN_AC_CECK_ER_MCTE_ADDV_YN(a.ORDR_CD, a.ORDR_YMD, a.CODV_CD) as ER_MCTE_ADIT_YN 
		                ,  b.INSR_ACKN_BASE_CECK_YN as INSR_ACKN_BASE_CECK_YN /* 보험인정기준체크여부 */
		                ,  a.SUB_TYPE_CD as SUB_TYPE_CD   /* 부유형코드 */
		                ,  a.SCRG_INPY_ONBR_RT as SCRG_INPY_ONBR_RT /* 선별급여본인부담율 */
		                ,  a.CNSN_RLTD_YN as CNSN_RLTD_YN /* 컨설트관련여부 */
		                ,  a.CNSN_RLTD_MCDP_CD as CNSN_RLTD_MCDP_CD /* 컨설트관련진료과코드 */
					 from  MDBLDORDT a
						,  MDORDRCMT b
						,  AIMFMDFET c
						,  SLBORDRCT d      /*  혈액제제처방코드마스터 */
		                ,  APRCRPTNT rcr
					where  a.PTNO = #{ptno}
					  and  a.ORDR_YMD = to_date ( #{ordrYmd}, 'YYYYMMDD' )
					  and  a.CODV_CD  = #{codvCd}
		 		  ]]>			  
				  <if test='orocDprtCd != null and orocDprtCd != ""'>
		              and  a.OROC_DPRT_CD = #{orocDprtCd}
				  </if>
				  <if test='odkiCd != null and odkiCd != ""'>
		              and  a.ODKI_CD = #{odkiCd}              
				  </if>
		          <if test='codvCd == "O"'>
		              and rcr.CNCL_DT is null
		          </if>
		          <if test='codvCd == "O" and chdrId != null and chdrId != ""'>
		              and a.CHDR_ID = #{chdrId}
		          </if>
		          <choose>
		            <when test='dcDvsnCd=="T"'>
		              and  a.DC_DVSN_CD = #{dcDvsnCd}
		            </when>
		            <otherwise>           
		              and  a.DC_DVSN_CD not in ( 'X' , 'F' , 'E', 'T' ) /*  취소, 실처방 전환, 임시처방 취소, 외래당일입원가처방은 조회 제외 */	
		              /*  DC_DVSN_CD 가 'N' 이거나 NULL 인 경우 전체조회 */
					  /*  DC_DVSN_CD 임시처방인 경우는 DC_DVSN_CD 'Y' 것도 같이 조회 */
					  and  'TRUE' = case when #{dcDvsnCd} = 'N' or #{dcDvsnCd} is null then 'TRUE'
										 else case when a.DC_DVSN_CD = #{dcDvsnCd} then 'TRUE'
												   when a.DC_DVSN_CD = 'Y' then 'TRUE'
												   end
										 end
		            </otherwise>
		          </choose>
				  <![CDATA[
					  /*  Client logic 이동 외래일때 같은 진료과만 처리 */
					  and  'TRUE' = case when a.CODV_CD = 'O'
										 then case when a.MCDP_CD like #{mcdpCd} ||'%' /* 단독 처방 조회 기능이 있어서 like 로 처리*/
											  then 'TRUE'
											  else 'FALSE' end
										 else 'TRUE'
										 end
					  and  'TRUE' = case when a.CODV_CD <> 'O'
										 then case when a.MDRP_NO = #{mdrpNo}
											  then 'TRUE'
											  else 'FALSE'
											  end
										 else 'TRUE'
										 end
					  /*  단독 처방 조회 */
					  and   'TRUE' = case when #{ordrSno} > 0
										  then case when a.ORDR_SNO = #{ordrSno}
													then 'TRUE'
													else 'FALSE'
													end
										  else 'TRUE'
										  end
					  and  a.ORDR_CD = b.ORDR_CD(+)
					  and  a.ORDR_CD = c.MDFE_CD(+)
					  and  to_date ( #{ordrYmd} , 'YYYYMMDD' ) between c.APST_YMD(+) and c.APFN_YMD(+)
					  and  a.ORDR_CD = d.ORDR_CD(+)
					  and  to_date ( #{ordrYmd} , 'YYYYMMDD' ) between d.APST_YMD(+) and d.APFN_YMD(+)
		              and  a.MDRP_NO = rcr.MDRP_NO
					order
					   by     decode(a.ODKI_DETL_CD, 'Z', a.SPOR_BNDL_NO, 0)
		                   ,  a.FRST_RGST_DT
						   ,  a.SORT_SQNC
		                   ,  a.ORDR_SNO
		 		]]>				
	</select>






    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-updateBlodOrdr (수혈 처방 Update) 
        Description :                                           처방 내림한 수혈 처방을 수정한다.
                                            
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
    -->	
	<update id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-updateBlodOrdr"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  >
		 update  /*SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-updateBlodOrdr */
		             MDBLDORDT
		       set
		             PREP_ORDR_YN = #{prepOrdrYn}                                         /*  Prep 처방 여부 */
		          ,  MCDP_CD = #{mcdpCd}                                                    /*  진료과코드 */
		          ,  WARD_CD = #{wardCd}                                                     /*  병동코드 */
		          ,  FRNS_DPRT_CD = #{frnsDprtCd}                                          /*  불출부서코드(신규) */
		          ,  ORCL_CD  = #{orclCd}                                                       /*  처방분류코드 */
		          ,  ODKI_CD  = #{odkiCd}                                                       /*  처방종류코드 */
		          ,  ODKI_DETL_CD =#{odkiDetlCd}                                           /*  처방종류상세코드(신규) */
		          ,  ORDR_CLTY_CD = #{ordrCltyCd}                                         /*  처방분류유형코드 */
		          ,  ORFR_CD = #{orfrCd}                                                        /*  처방형태코드 */
		          ,  SLIP_CD = #{slipCd}                                                         /*  SLIP 코드 */
		          ,  CHDR_ID = #{chdrId}                                                       /*  지정의사ID */
		          ,  GNDR_ID = #{gndrId}                                                       /*  주치의사ID */
		          ,  OPSR_ID = #{opsrId}                                                        /*  집도의사ID */
		          ,  CPDR_ID = #{cpdrId}                                                        /*  협진의사ID */
		          ,  RH_BLTY_DVSN_CTN = #{rhBltyDvsnCtn}                             /*  RH혈액형구분내용 */
		          ,  TRNF_WNTD_DT = to_date ( #{trnfWntdDt} , 'YYYYMMDDhh24miss' )        /*  수혈희망일시 */                       
		          ,  DR_IDCT_CQY = #{drIdctCqy}                                            /*  의사지시수량 */
		          ,  OSLF_TRNF_YN = #{oslfTrnfYn}                                          /*  자가수혈여부 */
		          ,  BLDO_EN = #{bldoEn}                                                      /*  헌혈자유무 */
		          ,  RDTN_PRSG_YN = #{rdtnPrsgYn}                                        /*  방사선처리여부 */
		          ,  FLTR_APDV_CD = #{fltrApdvCd}                                         /*  필터적용구분코드 */
		          ,  PRSB_YN = #{prsbYn}                                                       /*  Prosobar여부 */
		          ,  ADTN_ORDV_CD = #{adtnOrdvCd}                                     /*  추가처방구분코드 */
		          ,  TRNF_ORDR_UNSL_CTN = #{trnfOrdrUnslCtn}                       /*  수혈처방특이내용 */
		          ,  ORDR_IPDV_CD = #{ordrIpdvCd}                                        /*  처방급여구분코드 */
		          ,  RGOR_FNDR_ID = #{rgorFndrId}                                         /*  정규처방완료의사ID */
		          ,  RGOR_FINS_DT = to_date ( #{rgorFinsDt}, 'YYYYMMDDhh24miss' ) /*  정규처방완료일시 */
		          ,  ORCN_NURS_ID = #{orcnNursId}                                        /*  처방확인간호사ID */
		          ,  ORCN_DT = to_date ( #{orcnDt}, 'YYYYMMDDhh24miss' )      /*  처방확인일시 */
		          ,  CLRS_PRJC_CD = #{clrsPrjcCd}                                           /*  임상연구과제코드 */
		          ,  CLRS_PRJC_DR_ID = #{clrsPrjcDrId}                                     /*  임상연구과제의사ID */
		          ,  ATHN_ID = #{athnId}                                                        /*  인증자ID */
		          ,  CRTF_IP = #{crtfIp}                                                           /*  인증IP */
		          ,  CRTF_DT = to_date ( #{crtfDt}, 'YYYYMMDDhh24miss' )         /*  인증일시 */
		          ,  ITRN_BSDV_CD = #{itrnBsdvCd}                                         /*  인턴업무구분코드 */
		          ,  IMLN_ORDR_YN = #{imlnOrdrYn}                                       /*  임플란트처방여부*/
		          ,  PTAD_CODV_CD = #{ptadCodvCd}
		          ,  SPOR_BNDL_NM = #{sporBndlNm}                                    /* 스페셜처방묶음명 */
		          ,  SPOR_BNDL_NO = #{sporBndlNo}                                    /* 스페셜처방묶음번호*/                            
		          ,  LAST_UPDR_ID = #{gvUserId}                                             /*  최종수정자ID                  */
		          ,  LAST_UPDT_IP = #{gvUserIp}                                              /*  최종수정IP                    */
		          ,  LAST_UPDT_DT = sysdate                                                 /*  최종수정일시                     */
		          ,  LAST_UPDT_CLNT_PRGM_ID = #{gvClntPrgmId}                     /*  최종수정SMC클라이언트프로그램ID */
		          ,  LAST_UPDT_SRVR_PRGM_ID = #{gvSrvrPrgmId}                     /*  최종수정SMC서버프로그램ID      */
		          ,  ORDR_UPDT_DT = sysdate                                               /*  처방수정일시*/
		          ,  ORDR_UPDR_ID = #{gvUserId}                                           /*  처방수정자ID*/
		          ,  TRNF_ORDR_PRSS_CD = #{trnfOrdrPrssCd}  /* 수혈처방진행상태코드 */
				  ,  BLBA_FRNS_CQY = #{blbaFrnsCqy}				/* 혈액은행불출수량 */
				  ,  BLBA_RTRN_CQY = #{blbaRtrnCqy}				/* 혈액은행반납수량 */
				  ,  BLBA_DISC_CQY = #{blbaDiscCqy}				/* 혈액은행폐기수량 */
				  ,  CNCL_QTY      = #{cnclQty}						/* 취소량 */
		          ,  SUB_TYPE_CD  = #{subTypeCd}					/* 부유형코드 */
		          ,  SCRG_INPY_ONBR_RT = #{scrgInpyOnbrRt} /* 선별급여본인부담율 */
		          ,  CNSN_RLTD_YN = #{cnsnRltdYn}
		          ,  CNSN_RLTD_MCDP_CD = #{cnsnRltdMcdpCd}
		 where  PTNO = #{ptno}                                                               /*  환자번호 */
		    and  ORDR_YMD = to_date ( #{ordrYmd}, 'YYYYMMDD' )               /*  처방일자 */
		    and  ORDR_SNO = #{ordrSno}  
	</update>




    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-updateBlodOrdrDc (수혈처방 DC 및 취소) 
        Description :                                           처방 내림한 수혈처방을 DC 및 취소 처리한다.
                                            
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
    -->	
	<update id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-updateBlodOrdrDc"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  >
		update  /*SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-updateBlodOrdrDc */
		            MDBLDORDT
		      set  DC_DVSN_CD = #{dcDvsnCd}
		          ,  DC_ODDR_ID = #{dcOddrId}
		          ,  DC_ORDR_DT = to_date ( #{dcOrdrDt}, 'YYYYMMDDhh24miss' )
		          ,  LAST_UPDR_ID = #{gvUserId}                                                   /*  최종수정자ID                  */
		          ,  LAST_UPDT_IP = #{gvUserIp}                                                   /*  최종수정IP                    */
		          ,  LAST_UPDT_DT = to_date ( #{dcOrdrDt}, 'YYYYMMDDhh24miss' )                   /*  최종수정일시                     */
		          ,  LAST_UPDT_CLNT_PRGM_ID = #{gvClntPrgmId}                                     /*  최종수정SMC클라이언트프로그램ID */
		          ,  LAST_UPDT_SRVR_PRGM_ID = #{gvSrvrPrgmId}                                     /*  최종수정SMC서버프로그램ID      */
		  where  PTNO = #{ptno}
		     and  ORDR_YMD = to_date ( #{ordrYmd}, 'YYYYMMDD' )                                /* 처방일자 */
		     and  ORDR_SNO = #{ordrSno}                                                        /* 처방일련번호 */
	</update>




    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-insertBlodOrdr (수혈 처방 저장) 
        Description :                                           환자 치료를 위한 처방 내림 중 수혈 처방을 저장한다.
                                            
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
    -->	
	<insert id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-insertBlodOrdr"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  >
		<![CDATA[
		   insert	/*+ SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-insertBlodOrdr */
		   into  MDBLDORDT
		   (
				  PTNO                     /* 환자번호*/
			   ,  ORDR_YMD                 /* 처방일자*/
			   ,  ORDR_SNO                 /* 처방일련번호*/
			   ,  MDRP_NO                  /* 진료접수번호*/
			   ,  ORDR_CD                  /* 처방코드*/
			   ,  MCDP_CD                  /* 진료과코드*/
			   ,  ODDR_ID                  /* 처방의사ID*/
			   ,  CHDR_ID                  /* 지정의사ID*/
			   ,  GNDR_ID                  /* 주치의사ID*/
			   ,  CODV_CD                  /* 내원구분코드*/
			   ,  PTAD_CODV_CD             /* 원무내원구분코드*/
			   ,  ORDR_CLTY_CD             /* 처방분류유형코드*/
			   ,  ORCL_CD                  /* 처방분류코드*/
			   ,  ODKI_CD                  /* 처방종류코드*/
			   ,  ODKI_DETL_CD             /* 처방종류상세코드*/
			   ,  ORFR_CD                  /* 처방형태코드*/
			   ,  HSLC_DVSN_CD             /* 위치구분코드*/
			   ,  MCCN_CD                  /* 진료센터코드*/
			   ,  WARD_CD                  /* 병동코드*/
			   ,  OROC_DPRT_CD             /* 처방발생원코드*/
			   ,  FRNS_DPRT_CD             /* 불출부서코드*/
			   ,  SLIP_CD                  /* SLIP코드*/
			   ,  CARE_STTS_CD             /* 간호상태코드*/
			   ,  ADTN_ORDV_CD             /* 추가처방구분코드*/
			   ,  RGOR_FNDR_ID             /* 정규처방완료의사ID*/
			   ,  RGOR_FINS_DT             /* 정규처방완료일시*/
			   ,  ORCN_NURS_ID             /* 처방확인간호사ID*/
			   ,  ORCN_DT                  /* 처방확인일시*/
			   ,  TMPR_ORDR_YN             /* 임시처방여부*/
			   ,  DC_DVSN_CD               /* DC구분코드*/
			   ,  DC_ODDR_ID               /* DC처방의사ID*/
			   ,  DC_ORDR_DT               /* DC처방일시*/
			   ,  DC_CNNU_ID               /* DC확인간호사ID*/
			   ,  DC_CNFR_DT               /* DC확인일시*/
			   ,  SORT_SQNC                /* 정렬순서*/
			   ,  TRNF_ORDR_UNSL_CTN       /* 수혈처방특이내용*/
			   ,  INPT_USER_DVSN_CD        /* 입력사용자구분코드*/
			   ,  CRTF_DVSN_CD             /* 인증구분코드*/
			   ,  ATHN_ID                  /* 인증자ID*/
			   ,  CRTF_IP                  /* 인증IP*/
			   ,  CRTF_DT                  /* 인증일시*/
			   ,  CLRS_PRJC_CD             /* 임상연구과제코드*/
			   ,  CLRS_PRJC_DR_ID          /* 임상연구과제의사ID*/
			   ,  OPRT_YMD                 /* 수술일자*/
			   ,  OPRT_SNO                 /* 수술일련번호*/
			   ,  ITRN_BSDV_CD             /* 인턴업무구분코드*/
			   ,  SRRQ_CMNT_CTN            /* SR커멘트내용*/
			   ,  ORDR_IPDV_CD             /* 보험급여구분코드*/
			   ,  RCST_CD                  /* 수납상태코드*/
			   ,  CNNT_ORDR_BNDL_NO        /* 동시처방묶음번호*/
			   ,  ORDR_VALD_STRT_YMD       /* 처방유효시작일자*/
			   ,  ORDR_VALD_FNSH_YMD       /* 처방유효종료일자*/
			   ,  IMPL_ORDR_PBLC_NTM       /* 실시처방발행횟수*/
			   ,  IMPL_ORDR_PBLC_LMTT_NTM  /* 실시처방발행제한횟수*/
			   ,  ORGL_ORDR_YMD            /* 원처방일자*/
			   ,  ORGL_ORDR_SNO            /* 원처방일련번호*/
			   ,  OPSR_ID                  /* 집도의사ID*/
			   ,  CPDR_ID                  /* 협진의사ID*/
			   ,  RH_BLTY_DVSN_CTN         /* RH혈액형구분코드*/
			   ,  TRNF_WNTD_DT             /* 수혈희망일시*/
			   ,  DR_IDCT_CQY              /* 의사지시수량*/
			   ,  BLBA_FRNS_CQY            /* 혈액은행불출수량*/
			   ,  BLBA_RTRN_CQY            /* 혈액은행반납수량*/
			   ,  BLBA_DISC_CQY            /* 혈액은행폐기수량*/
			   ,  OSLF_TRNF_YN             /* 자가수혈여부*/
			   ,  BLDO_EN                  /* 헌혈자유무*/
			   ,  RDTN_PRSG_YN             /* 방사선처리여부*/
			   ,  FLTR_APDV_CD             /* 필터적용구분코드*/
			   ,  PREP_ORDR_YN             /* PREP여부*/
			   ,  IMLN_ORDR_YN             /* 임플란트처방여부*/
			   ,  PRSB_YN                  /* Prosobar여부*/
			   ,  TRNF_ORDR_PRSS_CD        /* 수혈처방진행상태코드*/
			   ,  ACTN_NTM                 /* 액팅횟수*/
			   ,  OPRT_REFR_DVSN_CD        /* 수술의뢰구분코드*/
			   ,  BLOD_FRNS_APDC_PRIN_YN   /* 혈액불출신청서출력여부*/
			   ,  ACIM_NURS_ID             /* 액팅실시간호사ID*/
			   ,  ACTN_DT                  /* 액팅일시*/
			   ,  ACIM_INPT_DT             /* 액팅실시입력일시*/
			   ,  ACIM_UPDT_DT             /* 액팅실시수정일시*/
			   ,  ACIM_SPAB_CTN            /* 액팅실시특기내용*/
			   ,  CNCL_QTY                 /* 취소량*/
			   ,  INDT_KIND_CD             /* 적응증종류코드*/
			   ,  ORDR_CRTN_DVSN_CD        /* 처방생성구분코드*/
			   ,  ORDR_CRTN_LNKN_NO        /* 처방생성연결번호*/
		       ,  SPOR_BNDL_NM             /* 스페셜처방묶음명 */
		       ,  SPOR_BNDL_NO             /* 스페셜처방묶음번호*/            
		       ,  SUB_TYPE_CD               /* 부유형코드 */
		       ,  SCRG_INPY_ONBR_RT   /* 선별급여본인부담율 */
		       ,  CNSN_RLTD_YN /* 컨설트관련여부 */
		       ,  CNSN_RLTD_MCDP_CD /* 컨설트관련진료과코드 */
			   ,  FRST_RGSR_ID             /* 최초등록자ID*/
			   ,  FRST_RGST_IP             /* 최초등록IP*/
			   ,  FRST_RGST_DT             /* 최초등록일시*/
			   ,  FRST_RGST_CLNT_PRGM_ID   /* 최초등록SMC클라이언트프로그램ID*/
			   ,  FRST_RGST_SRVR_PRGM_ID   /* 최초등록SMC서버프로그램ID*/
			   ,  LAST_UPDR_ID             /* 최종수정자ID*/
			   ,  LAST_UPDT_IP             /* 최종수정IP*/
			   ,  LAST_UPDT_DT             /* 최종수정일시*/
			   ,  LAST_UPDT_CLNT_PRGM_ID   /* 최종수정SMC클라이언트프로그램ID*/
			   ,  LAST_UPDT_SRVR_PRGM_ID   /* 최종수정SMC서버프로그램ID*/
			   ,  ORDR_UPDT_DT             /* 처방수정일시*/
			   ,  ORDR_UPDR_ID             /* 처방수정자ID*/
		   )
		   values
		   (
				  #{ptno}                           /* 환자번호*/
			   ,  to_date ( #{ordrYmd}, 'YYYYMMDD' )/* 처방일자*/
			   ,  #{ordrSno}                        /* 처방일련번호*/
			   ,  #{mdrpNo}                         /* 진료접수번호*/
			   ,  #{ordrCd}                         /* 처방코드*/
			   ,  #{mcdpCd}                         /* 진료과코드*/
			   ,  #{oddrId}                         /* 처방의사ID*/
			   ,  #{chdrId}                         /* 지정의사ID*/
			   ,  #{gndrId}                         /* 주치의사ID*/
			   ,  #{codvCd}                         /* 내원구분코드 [D: DSC, E:응급, G: 건진, H:가정간호, I:입원, O:외래 - ASIS(AP025)]*/
			   ,  #{ptadCodvCd}                     /* 원무내원구분코드*/
			   ,  #{ordrCltyCd}                     /* 처방분류유형코드 [주사약, 외용약, 검체검사, 환자검사 인지를 구별하는 코드로 처방 분류(AI048)의 상위개념으로 볼 수 있다. *. 수가 테이블에 있는 정보를 가져옴. ASIS(MM182)]*/
			   ,  #{orclCd}                         /* 처방분류코드*/
			   ,  #{odkiCd}                         /* 처방종류코드*/
			   ,  #{odkiDetlCd}                     /* 처방종류상세코드*/
			   ,  #{orfrCd}                         /* 처방형태코드*/
			   ,  #{hslcDvsnCd}                     /* 위치구분코드*/
			   ,  #{mccnCd}                         /* 진료센터코드*/
			   ,  #{wardCd}                         /* 병동코드*/
			   ,  #{orocDprtCd}                         /* 처방발생원코드*/
			   ,  #{frnsDprtCd}                     /* 불출부서코드*/
			   ,  #{slipCd}                         /* slip코드*/
			   ,  #{careSttsCd}                     /* 간호상태코드*/
			   ,  #{adtnOrdvCd}                     /* 추가처방구분코드*/
			   ,  #{rgorFndrId}                     /* 정규처방완료의사id*/
			   ,  to_date ( #{rgorFinsDt}, 'YYYYMMDDhh24miss') /* 정규처방완료일시*/
			   ,  #{orcnNursId}                     /* 처방확인간호사id*/
			   ,  to_date(#{orcnDt}, 'YYYYMMDDhh24miss')       /* 처방확인일시*/
			   ,  #{tmprOrdrYn}                     /* 임시처방여부*/
			   ,  #{dcDvsnCd}                       /* dc구분코드*/
			   ,  #{dcOddrId}                       /* dc처방의사id*/
			   ,  to_date ( #{dcOrdrDt}, 'YYYYMMDDhh24miss') /* dc처방일시*/
			   ,  #{dcCnnuId}                       /* dc확인간호사id*/
			   ,  to_date ( #{dcCnfrDt}, 'YYYYMMDDhh24miss') /* dc확인일시*/
			   ,  #{sortSqnc}                       /* 정렬순서*/
			   ,  #{trnfOrdrUnslCtn}                /* 수혈처방특이내용*/
			   ,  #{inptUserDvsnCd}                 /* 입력사용자구분코드*/
			   ,  case when #{crtfDvsnCd} is null then '0' else #{crtfDvsnCd} end  /* 인증구분코드*/
			   ,  #{athnId}                         /* 인증자id*/
			   ,  #{crtfIp}                         /* 인증ip*/
			   ,  to_date ( #{crtfDt}, 'YYYYMMDDhh24miss') /* 인증일시*/
			   ,  #{clrsPrjcCd}                     /* 임상연구과제코드*/
			   ,  #{clrsPrjcDrId}                   /* 임상연구과제의사id*/
			   ,  to_date(#{oprtYmd},'yyyymmdd')    /* 수술일자*/
			   ,  #{oprtSno}                        /* 수술일련번호*/
			   ,  #{itrnBsdvCd}                     /* 인턴업무구분코드*/
			   ,  #{srrqCmntCtn}                    /* sr커멘트내용*/
			   ,  #{ordrIpdvCd}                     /* 보험급여구분코드*/
			   ,  #{rcstCd}                         /* 수납상태코드*/
			   ,  #{cnntOrdrBndlNo}                 /* 동시처방묶음번호*/
			   ,  to_date ( #{ordrValdStrtYmd},'yyyymmdd') /* 처방유효시작일자*/
			   ,  to_date ( #{ordrValdFnshYmd},'yyyymmdd') /* 처방유효종료일자*/
			   ,  #{implOrdrPblcNtm}                /* 실시처방발행횟수*/
			   ,  #{implOrdrPblcLmttNtm}            /* 실시처방발행제한횟수*/
			   ,  to_date ( #{orglOrdrYmd},'yyyymmdd') /* 원처방일자*/
			   ,  #{orglOrdrSno}                    /* 원처방일련번호*/
			   ,  #{opsrId}                         /* 집도의사id*/
			   ,  #{cpdrId}                         /* 협진의사id*/
			   ,  #{rhBltyDvsnCtn}                  /* RH 혈액형구분코드*/
			   ,  to_date ( #{trnfWntdDt}, 'YYYYMMDDhh24miss') /* 수혈희망일시*/
			   ,  #{drIdctCqy}                      /* 의사지시수량*/
			   ,  #{blbaFrnsCqy}                    /* 혈액은행불출수량*/
			   ,  #{blbaRtrnCqy}                    /* 혈액은행반납수량*/
			   ,  #{blbaDiscCqy}                    /* 혈액은행폐기수량*/
			   ,  #{oslfTrnfYn}                     /* 자가수혈여부*/
			   ,  #{bldoEn}                         /* 헌혈자유무*/
			   ,  #{rdtnPrsgYn}                     /* 방사선처리여부*/
			   ,  #{fltrApdvCd}                     /* 필터적용구분코드*/
			   ,  #{prepOrdrYn}                     /* prep여부*/
			   ,  #{imlnOrdrYn}                     /* 임플란트처방여부*/
			   ,  #{prsbYn}                         /* prosobar여부*/
			   ,  #{trnfOrdrPrssCd}                 /* 수혈처방진행상태코드*/
			   ,  #{actnNtm}                        /* 액팅횟수*/
			   ,  #{oprtRefrDvsnCd}                 /* 수술의뢰구분코드*/
			   ,  #{blodFrnsApdcPrinYn}             /* 혈액불출신청서출력여부*/
			   ,  #{acimNursId}                     /* 액팅실시간호사id*/
			   ,  to_date ( #{actnDt}, 'YYYYMMDDhh24miss') /* 액팅일시*/
			   ,  to_date ( #{acimInptDt}, 'YYYYMMDDhh24miss') /* 액팅실시입력일시*/
			   ,  to_date ( #{acimUpdtDt}, 'YYYYMMDDhh24miss') /* 액팅실시수정일시*/
			   ,  #{acimSpabCtn}                    /* 액팅실시특기내용*/
			   ,  #{cnclQty}                        /* 취소량*/
			   ,  #{indtKindCd}                     /* 적응증종류코드*/
			   ,  #{ordrCrtnDvsnCd}                 /* 처방생성구분코드*/
			   ,  #{ordrCrtnLnknNo}                 /* 처방생성연결번호*/
		       ,  #{sporBndlNm}                     /* 스페셜처방묶음명 */
		       ,  #{sporBndlNo}                     /* 스페셜처방묶음번호 */              
		       ,  #{subTypeCd}
		       ,  #{scrgInpyOnbrRt}
		       ,  #{cnsnRltdYn}
		       ,  #{cnsnRltdMcdpCd}
			   ,  #{gvUserId}                       /* 최초등록자ID*/
			   ,  #{gvUserIp}                       /* 최초등록IP*/
			   ,  to_date ( #{frstRgstDt}, 'YYYYMMDDhh24miss') /* 최초등록일시*/
			   ,  #{gvClntPrgmId}                   /* 최초등록SMC클라이언트프로그램ID*/
			   ,  #{gvSrvrPrgmId}                   /* 최초등록SMC서버프로그램ID*/
			   ,  #{gvUserId}                       /* 최종수정자ID*/
			   ,  #{gvUserIp}                       /* 최종수정IP*/
			   ,  to_date ( #{frstRgstDt}, 'YYYYMMDDhh24miss') /* 최종수정일시*/
			   ,  #{gvClntPrgmId}                   /* 최종수정SMC클라이언트프로그램ID*/
			   ,  #{gvSrvrPrgmId}                   /* 최종수정SMC서버프로그램ID*/
			   ,  to_date ( #{frstRgstDt}, 'YYYYMMDDhh24miss') /* 처방수정일시*/
			   ,  #{gvUserId}                       /* 처방수정자ID*/
		   )
			]]>
	</insert>


	<resultMap id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneMdbldordt-result" type="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO">
	
		<result property="ptno" column="PTNO"/>
		<result property="ordrYmd" column="ORDR_YMD"/>
		<result property="ordrSno" column="ORDR_SNO"/>
		<result property="mdrpNo" column="MDRP_NO"/>
		<result property="ordrCd" column="ORDR_CD"/>
		<result property="mcdpCd" column="MCDP_CD"/>
		<result property="oddrId" column="ODDR_ID"/>
		<result property="chdrId" column="CHDR_ID"/>
		<result property="gndrId" column="GNDR_ID"/>
		<result property="codvCd" column="CODV_CD"/>
		<result property="ptadCodvCd" column="PTAD_CODV_CD"/>
		<result property="ordrCltyCd" column="ORDR_CLTY_CD"/>
		<result property="orclCd" column="ORCL_CD"/>
		<result property="odkiCd" column="ODKI_CD"/>
		<result property="odkiDetlCd" column="ODKI_DETL_CD"/>
		<result property="orfrCd" column="ORFR_CD"/>
		<result property="hslcDvsnCd" column="HSLC_DVSN_CD"/>
		<result property="mccnCd" column="MCCN_CD"/>
		<result property="wardCd" column="WARD_CD"/>
		<result property="orocCdOld" column="OROC_CD_OLD"/>
		<result property="frnsDprtCd" column="FRNS_DPRT_CD"/>
		<result property="slipCd" column="SLIP_CD"/>
		<result property="careSttsCd" column="CARE_STTS_CD"/>
		<result property="adtnOrdvCd" column="ADTN_ORDV_CD"/>
		<result property="rgorFndrId" column="RGOR_FNDR_ID"/>
		<result property="rgorFinsDt" column="RGOR_FINS_DT"/>
		<result property="orcnNursId" column="ORCN_NURS_ID"/>
		<result property="orcnDt" column="ORCN_DT"/>
		<result property="tmprOrdrYn" column="TMPR_ORDR_YN"/>
		<result property="dcDvsnCd" column="DC_DVSN_CD"/>
		<result property="dcOddrId" column="DC_ODDR_ID"/>
		<result property="dcOrdrDt" column="DC_ORDR_DT"/>
		<result property="dcCnnuId" column="DC_CNNU_ID"/>
		<result property="dcCnfrDt" column="DC_CNFR_DT"/>
		<result property="sortSqnc" column="SORT_SQNC"/>
		<result property="trnfOrdrUnslCtn" column="TRNF_ORDR_UNSL_CTN"/>
		<result property="inptUserDvsnCd" column="INPT_USER_DVSN_CD"/>
		<result property="crtfDvsnCd" column="CRTF_DVSN_CD"/>
		<result property="athnId" column="ATHN_ID"/>
		<result property="crtfIp" column="CRTF_IP"/>
		<result property="crtfDt" column="CRTF_DT"/>
		<result property="clrsPrjcCd" column="CLRS_PRJC_CD"/>
		<result property="clrsPrjcDrId" column="CLRS_PRJC_DR_ID"/>
		<result property="oprtYmd" column="OPRT_YMD"/>
		<result property="oprtSno" column="OPRT_SNO"/>
		<result property="itrnBsdvCd" column="ITRN_BSDV_CD"/>
		<result property="srrqCmntCtn" column="SRRQ_CMNT_CTN"/>
		<result property="ordrIpdvCd" column="ORDR_IPDV_CD"/>
		<result property="rcstCd" column="RCST_CD"/>
		<result property="cnntOrdrBndlNo" column="CNNT_ORDR_BNDL_NO"/>
		<result property="ordrValdStrtYmd" column="ORDR_VALD_STRT_YMD"/>
		<result property="ordrValdFnshYmd" column="ORDR_VALD_FNSH_YMD"/>
		<result property="implOrdrPblcNtm" column="IMPL_ORDR_PBLC_NTM"/>
		<result property="implOrdrPblcLmttNtm" column="IMPL_ORDR_PBLC_LMTT_NTM"/>
		<result property="orglOrdrYmd" column="ORGL_ORDR_YMD"/>
		<result property="orglOrdrSno" column="ORGL_ORDR_SNO"/>
		<result property="opsrId" column="OPSR_ID"/>
		<result property="cpdrId" column="CPDR_ID"/>
		<result property="rhBltyDvsnCtn" column="RH_BLTY_DVSN_CTN"/>
		<result property="trnfWntdDt" column="TRNF_WNTD_DT"/>
		<result property="drIdctCqy" column="DR_IDCT_CQY"/>
		<result property="blbaFrnsCqy" column="BLBA_FRNS_CQY"/>
		<result property="blbaRtrnCqy" column="BLBA_RTRN_CQY"/>
		<result property="blbaDiscCqy" column="BLBA_DISC_CQY"/>
		<result property="oslfTrnfYn" column="OSLF_TRNF_YN"/>
		<result property="bldoEn" column="BLDO_EN"/>
		<result property="rdtnPrsgYn" column="RDTN_PRSG_YN"/>
		<result property="fltrApdvCd" column="FLTR_APDV_CD"/>
		<result property="prepOrdrYn" column="PREP_ORDR_YN"/>
		<result property="imlnOrdrYn" column="IMLN_ORDR_YN"/>
		<result property="prsbYn" column="PRSB_YN"/>
		<result property="trnfOrdrPrssCd" column="TRNF_ORDR_PRSS_CD"/>
		<result property="actnNtm" column="ACTN_NTM"/>
		<result property="oprtRefrDvsnCd" column="OPRT_REFR_DVSN_CD"/>
		<result property="blodFrnsApdcPrinYn" column="BLOD_FRNS_APDC_PRIN_YN"/>
		<result property="acimNursId" column="ACIM_NURS_ID"/>
		<result property="actnDt" column="ACTN_DT"/>
		<result property="acimInptDt" column="ACIM_INPT_DT"/>
		<result property="acimUpdtDt" column="ACIM_UPDT_DT"/>
		<result property="acimSpabCtn" column="ACIM_SPAB_CTN"/>
		<result property="cnclQty" column="CNCL_QTY"/>
		<result property="indtKindCd" column="INDT_KIND_CD"/>
		<result property="ordrCrtnDvsnCd" column="ORDR_CRTN_DVSN_CD"/>
		<result property="ordrCrtnLnknNo" column="ORDR_CRTN_LNKN_NO"/>
		<result property="ordrUpdtDt" column="ORDR_UPDT_DT"/>
		<result property="ordrUpdrId" column="ORDR_UPDR_ID"/>
		<result property="orocDprtCd" column="OROC_DPRT_CD"/>
		<result property="sporBndlNm" column="SPOR_BNDL_NM"/>
		<result property="sporBndlNo" column="SPOR_BNDL_NO"/>
		<result property="cnclCnfrDt" column="CNCL_CNFR_DT"/>
		<result property="cnclCnnuId" column="CNCL_CNNU_ID"/>
		<result property="subTypeCd" column="SUB_TYPE_CD"/>
		<result property="scrgInpyOnbrRt" column="SCRG_INPY_ONBR_RT"/>
	</resultMap>
	
    <!--
        SQL Name : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneMdbldordt () 
        Description :                       
		parameterType : com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO
		resultMap : com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneMdbldordt-result
    -->
	<select id="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneMdbldordt"  parameterType="com.sds.healthcare.ehr.med.md.mdp.vo.MdpOrdrBlodMngmDVO"  resultMap="com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneMdbldordt-result" useCache="true" flushCache="false">
		select  /*SQL_ID: com-sds-healthcare-ehr-med-md-mdp-dao-MdpOrdrBlodMngmDAO-selectOneMdbldordt */  
		        PTNO                    as PTNO                   
		     ,  to_char(ORDR_YMD,'YYYYMMDD') as ORDR_YMD               
		     ,  ORDR_SNO                as ORDR_SNO               
		     ,  MDRP_NO                 as MDRP_NO                
		     ,  ORDR_CD                 as ORDR_CD                
		     ,  MCDP_CD                 as MCDP_CD                
		     ,  ODDR_ID                 as ODDR_ID                
		     ,  CHDR_ID                 as CHDR_ID                
		     ,  GNDR_ID                 as GNDR_ID                
		     ,  CODV_CD                 as CODV_CD                
		     ,  PTAD_CODV_CD            as PTAD_CODV_CD           
		     ,  ORDR_CLTY_CD            as ORDR_CLTY_CD           
		     ,  ORCL_CD                 as ORCL_CD                
		     ,  ODKI_CD                 as ODKI_CD                
		     ,  ODKI_DETL_CD            as ODKI_DETL_CD           
		     ,  ORFR_CD                 as ORFR_CD                
		     ,  HSLC_DVSN_CD            as HSLC_DVSN_CD           
		     ,  MCCN_CD                 as MCCN_CD                
		     ,  WARD_CD                 as WARD_CD                
		     ,  OROC_CD_OLD             as OROC_CD_OLD            
		     ,  FRNS_DPRT_CD            as FRNS_DPRT_CD           
		     ,  SLIP_CD                 as SLIP_CD                
		     ,  CARE_STTS_CD            as CARE_STTS_CD           
		     ,  ADTN_ORDV_CD            as ADTN_ORDV_CD           
		     ,  RGOR_FNDR_ID            as RGOR_FNDR_ID           
		     ,  to_char (RGOR_FINS_DT, 'YYYYMMDDhh24miss') as RGOR_FINS_DT           
		     ,  ORCN_NURS_ID            as ORCN_NURS_ID           
		     ,  to_char (ORCN_DT, 'YYYYMMDDhh24miss') as ORCN_DT                
		     ,  TMPR_ORDR_YN            as TMPR_ORDR_YN           
		     ,  DC_DVSN_CD              as DC_DVSN_CD             
		     ,  DC_ODDR_ID              as DC_ODDR_ID             
		     ,  to_char (DC_ORDR_DT, 'YYYYMMDDhh24miss') as DC_ORDR_DT             
		     ,  DC_CNNU_ID              as DC_CNNU_ID            
		     ,  to_char (DC_CNFR_DT, 'YYYYMMDDhh24miss') as DC_CNFR_DT             
		     ,  SORT_SQNC               as SORT_SQNC              
		     ,  TRNF_ORDR_UNSL_CTN      as TRNF_ORDR_UNSL_CTN     
		     ,  INPT_USER_DVSN_CD       as INPT_USER_DVSN_CD      
		     ,  CRTF_DVSN_CD            as CRTF_DVSN_CD           
		     ,  ATHN_ID                 as ATHN_ID                
		     ,  CRTF_IP                 as CRTF_IP                
		     ,  to_char (CRTF_DT, 'YYYYMMDDhh24miss') as CRTF_DT                
		     ,  CLRS_PRJC_CD            as CLRS_PRJC_CD           
		     ,  CLRS_PRJC_DR_ID         as CLRS_PRJC_DR_ID        
		     ,  to_char(OPRT_YMD,'YYYYMMDD') as OPRT_YMD               
		     ,  OPRT_SNO                as OPRT_SNO               
		     ,  ITRN_BSDV_CD            as ITRN_BSDV_CD           
		     ,  SRRQ_CMNT_CTN           as SRRQ_CMNT_CTN          
		     ,  ORDR_IPDV_CD            as ORDR_IPDV_CD           
		     ,  RCST_CD                 as RCST_CD                
		     ,  CNNT_ORDR_BNDL_NO       as CNNT_ORDR_BNDL_NO      
		     ,  to_char(ORDR_VALD_STRT_YMD,'YYYYMMDD') as ORDR_VALD_STRT_YMD     
		     ,  to_char(ORDR_VALD_FNSH_YMD,'YYYYMMDD') as ORDR_VALD_FNSH_YMD     
		     ,  IMPL_ORDR_PBLC_NTM      as IMPL_ORDR_PBLC_NTM     
		     ,  IMPL_ORDR_PBLC_LMTT_NTM as IMPL_ORDR_PBLC_LMTT_NTM
		     ,  to_char(ORGL_ORDR_YMD,'YYYYMMDD') as ORGL_ORDR_YMD          
		     ,  ORGL_ORDR_SNO           as ORGL_ORDR_SNO          
		     ,  OPSR_ID                 as OPSR_ID                
		     ,  CPDR_ID                 as CPDR_ID                
		     ,  RH_BLTY_DVSN_CTN        as RH_BLTY_DVSN_CTN       
		     ,  to_char (TRNF_WNTD_DT, 'YYYYMMDDhh24miss') as TRNF_WNTD_DT           
		     ,  DR_IDCT_CQY             as DR_IDCT_CQY            
		     ,  BLBA_FRNS_CQY           as BLBA_FRNS_CQY          
		     ,  BLBA_RTRN_CQY           as BLBA_RTRN_CQY          
		     ,  BLBA_DISC_CQY           as BLBA_DISC_CQY          
		     ,  OSLF_TRNF_YN            as OSLF_TRNF_YN           
		     ,  BLDO_EN                 as BLDO_EN                
		     ,  RDTN_PRSG_YN            as RDTN_PRSG_YN           
		     ,  FLTR_APDV_CD            as FLTR_APDV_CD           
		     ,  PREP_ORDR_YN            as PREP_ORDR_YN           
		     ,  IMLN_ORDR_YN            as IMLN_ORDR_YN           
		     ,  PRSB_YN                 as PRSB_YN                
		     ,  TRNF_ORDR_PRSS_CD       as TRNF_ORDR_PRSS_CD      
		     ,  ACTN_NTM                as ACTN_NTM               
		     ,  OPRT_REFR_DVSN_CD       as OPRT_REFR_DVSN_CD      
		     ,  BLOD_FRNS_APDC_PRIN_YN  as BLOD_FRNS_APDC_PRIN_YN 
		     ,  ACIM_NURS_ID            as ACIM_NURS_ID           
		     ,  to_char (ACTN_DT, 'YYYYMMDDhh24miss') as ACTN_DT                
		     ,  to_char (ACIM_INPT_DT, 'YYYYMMDDhh24miss') as ACIM_INPT_DT           
		     ,  to_char (ACIM_UPDT_DT, 'YYYYMMDDhh24miss') as ACIM_UPDT_DT           
		     ,  ACIM_SPAB_CTN           as ACIM_SPAB_CTN          
		     ,  CNCL_QTY                as CNCL_QTY               
		     ,  INDT_KIND_CD            as INDT_KIND_CD           
		     ,  ORDR_CRTN_DVSN_CD       as ORDR_CRTN_DVSN_CD      
		     ,  ORDR_CRTN_LNKN_NO       as ORDR_CRTN_LNKN_NO      
		     ,  to_char (ORDR_UPDT_DT, 'YYYYMMDDhh24miss') as ORDR_UPDT_DT           
		     ,  ORDR_UPDR_ID            as ORDR_UPDR_ID           
		     ,  OROC_DPRT_CD            as OROC_DPRT_CD      
		     ,  SPOR_BNDL_NM           as SPOR_BNDL_NM
		     ,  SPOR_BNDL_NO           as SPOR_BNDL_NO
		     ,  to_char(CNCL_CNFR_DT, 'yyyymmddhh24miss') as CNCL_CNFR_DT
		     ,  CNCL_CNNU_ID           as CNCL_CNNU_ID
		     ,  SUB_TYPE_CD              as SUB_TYPE_CD
		     ,  SCRG_INPY_ONBR_RT    as SCRG_INPY_ONBR_RT
		  from  MDBLDORDT
		 where  PTNO = #{ptno}
		   and  ORDR_YMD = to_date (#{ordrYmd},'YYYYMMDD')
		   and  ORDR_SNO = #{ordrSno} 
	</select>



</mapper>